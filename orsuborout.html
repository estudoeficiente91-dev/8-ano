<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estudos: Orações Subordinadas (8º Ano)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        /* Cores principais atualizadas */
        .bg-dark-bg { background-color: #121212; } /* Fundo principal */
        .bg-dark-surface { background-color: #1E1E1E; } /* Cartões e nav */
        .text-dark-text { color: #E0E0E0; } /* Texto padrão */
        .text-dark-light-text { color: #B0B0B0; } /* Texto secundário/p */

        /* paleta de destaque: Tons de Verde/Azul */
        .accent-primary { background-color: #059669; color: white; } /* Verde escuro */
        .hover\:accent-primary-dark { background-color: #047857; } /* Verde mais escuro */
        .accent-secondary { color: #34D399; } /* Verde claro */
        .text-highlight { color: #6EE7B7; } /* Verde mais claro para destaques */
        .text-success { color: #34D399; } /* Esmeralda para sucesso */
        .bg-success-dark { background-color: #065F46; } /* Esmeralda mais escuro */
        .text-error { color: #EF4444; } /* Vermelho para erro */
        .bg-error-dark { background-color: #991B1B; } /* Vermelho mais escuro */
        
        .mode-button.active {
            background-color: #059669; /* Cor principal de destaque */
            color: white;
        }
        .nav-link.active {
            background-color: #059669; /* Cor principal de destaque */
            color: white;
        }

        .prose-headings {
            color: #34D399; /* Verde claro */
        }
        .prose-strong {
            color: #34D399; /* Verde claro */
        }
        .prose-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1em;
            margin-bottom: 1em;
            overflow: auto;
            display: block;
        }
        .prose-th, .prose-td {
            border: 1px solid #424242; /* Cinza mais escuro para bordas da tabela */
            padding: 0.5em 1em;
            white-space: nowrap;
        }
        .prose-th {
            background-color: #2F2F2F; /* Fundo mais escuro para cabeçalho da tabela */
            font-weight: 600;
        }
        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        .example-box {
            background-color: #2F2F2F;
            border-left: 4px solid #059669;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 0.5rem 0.5rem 0;
        }
    </style>
</head>
<body class="bg-dark-bg text-dark-text">

    <div class="w-full max-w-7xl mx-auto">
        <header class="text-center py-8 px-4">
            <h1 class="text-4xl sm:text-5xl font-bold text-white mb-4">Orações Subordinadas (8º Ano)</h1>
            <p class="text-lg text-dark-light-text">Um guia sobre as orações que dependem sintaticamente de outras.</p>
        </header>
        
        <nav class="flex justify-center items-center bg-dark-surface rounded-lg p-2 mb-8 gap-2 flex-wrap max-w-md mx-auto">
            <button id="btn-learn" class="mode-button accent-primary flex-grow sm:flex-grow-0 text-center py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">Aprender</button>
            <button id="btn-practice" class="mode-button flex-grow sm:flex-grow-0 text-center py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">Praticar</button>
        </nav>

        <div id="learn-container">
            <div class="flex flex-col lg:flex-row gap-8 p-4">
                <!-- Navegação Lateral --><aside class="lg:w-1/4">
                    <nav class="sticky top-4 bg-dark-surface rounded-lg p-4">
                        <h3 class="text-xl font-bold text-white mb-4">Tópicos</h3>
                        <ul class="space-y-2">
                            <li><a href="#intro" class="nav-link block py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark active">1. O que são Orações Subordinadas?</a></li>
                            <li><a href="#substantivas" class="nav-link block py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">2. Subordinadas Substantivas</a></li>
                            <li><a href="#adjetivas" class="nav-link block py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">3. Subordinadas Adjetivas</a></li>
                            <li><a href="#adverbiais" class="nav-link block py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">4. Subordinadas Adverbiais</a></li>
                        </ul>
                    </nav>
                </aside>

                <!-- Conteúdo Principal --><main class="lg:w-3/4 space-y-12">
                    
                    <section id="intro" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-3xl font-bold border-b border-gray-700 pb-2 mb-4 prose-headings">1. O que são Orações Subordinadas?</h2>
                            <p>As orações subordinadas são aquelas que <strong class="text-highlight">exercem uma função sintática</strong> em relação à oração principal, completando seu sentido. Elas não têm sentido completo sozinhas e dependem sintaticamente de outra oração.</p>
                            
                            <h3 class="text-2xl font-semibold mt-6">Período Composto por Subordinação</h3>
                            <p>Quando uma frase possui pelo menos uma oração principal e uma oração subordinada, temos um <strong class="prose-strong">período composto por subordinação</strong>.</p>
                            
                            <div class="example-box">
                                <p><strong>Exemplo:</strong> "Espero <em>que você venha amanhã</em>."</p>
                                <ul class="mt-2">
                                    <li><strong>Oração principal:</strong> "Espero"</li>
                                    <li><strong>Oração subordinada:</strong> "que você venha amanhã"</li>
                                </ul>
                            </div>
                            
                            <h3 class="text-2xl font-semibold mt-6">Classificação das Orações Subordinadas</h3>
                            <p>As orações subordinadas são classificadas em três tipos principais, de acordo com a função que exercem:</p>
                            <ol class="list-decimal pl-6 mt-2">
                                <li><strong class="prose-strong">Substantivas:</strong> Exercem função de substantivo</li>
                                <li><strong class="prose-strong">Adjetivas:</strong> Exercem função de adjetivo</li>
                                <li><strong class="prose-strong">Adverbiais:</strong> Exercem função de advérbio</li>
                            </ol>
                        </article>
                    </section>
                    
                    <section id="substantivas" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-3xl font-bold border-b border-gray-700 pb-2 mb-4 prose-headings">2. Orações Subordinadas Substantivas</h2>
                            
                            <h3 class="text-2xl font-semibold mt-6">Definição</h3>
                            <p>As orações subordinadas substantivas exercem funções próprias do substantivo (sujeito, objeto direto, objeto indireto, complemento nominal, predicativo, aposto) na estrutura da oração principal.</p>
                            
                            <h3 class="text-2xl font-semibold mt-6">Classificação</h3>
                            <p>As orações subordinadas substantivas são introduzidas geralmente pelas conjunções integrantes <strong class="prose-strong">"que"</strong> e <strong class="prose-strong">"se"</strong>, e classificam-se de acordo com a função sintática que exercem:</p>
                            
                            <div class="prose-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Tipo</th>
                                            <th>Função</th>
                                            <th>Exemplo</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong class="text-highlight">Subjetiva</strong></td>
                                            <td>Exerce a função de sujeito do verbo da oração principal</td>
                                            <td>"É necessário <em>que você estude</em>."</td>
                                        </tr>
                                        <tr>
                                            <td><strong class="text-highlight">Objetiva Direta</strong></td>
                                            <td>Exerce a função de objeto direto do verbo da oração principal</td>
                                            <td>"Desejo <em>que você seja feliz</em>."</td>
                                        </tr>
                                        <tr>
                                            <td><strong class="text-highlight">Objetiva Indireta</strong></td>
                                            <td>Exerce a função de objeto indireto do verbo da oração principal</td>
                                            <td>"Lembro-me <em>de que você prometeu</em>."</td>
                                        </tr>
                                        <tr>
                                            <td><strong class="text-highlight">Predicativa</strong></td>
                                            <td>Exerce a função de predicativo do sujeito da oração principal</td>
                                            <td>"A verdade é <em>que ele não estudou</em>."</td>
                                        </tr>
                                        <tr>
                                            <td><strong class="text-highlight">Completiva Nominal</strong></td>
                                            <td>Exerce a função de complemento nominal de um termo da oração principal</td>
                                            <td>"Tenho certeza <em>de que ele virá</em>."</td>
                                        </tr>
                                        <tr>
                                            <td><strong class="text-highlight">Apositiva</strong></td>
                                            <td>Exerce a função de aposto de um termo da oração principal</td>
                                            <td>"Faço um pedido: <em>que você seja feliz</em>."</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </article>
                    </section>
                    
                    <section id="adjetivas" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-3xl font-bold border-b border-gray-700 pb-2 mb-4 prose-headings">3. Orações Subordinadas Adjetivas</h2>
                            
                            <h3 class="text-2xl font-semibold mt-6">Definição</h3>
                            <p>As orações subordinadas adjetivas exercem função de adjunto adnominal, caracterizando ou determinando um substantivo (ou pronome substantivo) da oração principal.</p>
                            
                            <h3 class="text-2xl font-semibold mt-6">Classificação</h3>
                            <p>As orações subordinadas adjetivas são introduzidas por pronomes relativos (que, quem, onde, cujo, qual, etc.) e classificam-se em:</p>
                            
                            <div class="prose-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Tipo</th>
                                            <th>Características</th>
                                            <th>Exemplo</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong class="text-highlight">Restritivas</strong></td>
                                            <td>Restringem, limitam o sentido do antecedente. Não são separadas por vírgulas.</td>
                                            <td>"Os alunos <em>que estudaram</em> foram aprovados."</td>
                                        </tr>
                                        <tr>
                                            <td><strong class="text-highlight">Explicativas</strong></td>
                                            <td>Explicam, acrescentam uma qualidade ao antecedente. São separadas por vírgulas.</td>
                                            <td>"Os alunos, <em>que são estudiosos</em>, foram aprovados."</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <h3 class="text-2xl font-semibold mt-6">Pronomes Relativos</h3>
                            <p>Os pronomes relativos introduzem as orações subordinadas adjetivas e retomam um termo mencionado anteriormente (o antecedente).</p>
                            <ul class="mt-2">
                                <li><strong class="prose-strong">Que:</strong> Refere-se a pessoas, coisas, lugares</li>
                                <li><strong class="prose-strong">Quem:</strong> Refere-se somente a pessoas (precedido de preposição)</li>
                                <li><strong class="prose-strong">Onde:</strong> Refere-se a lugares</li>
                                <li><strong class="prose-strong">Cujo/Cuja:</strong> Indica posse</li>
                                <li><strong class="prose-strong">O qual/A qual:</strong> Equivalente a "que", mas mais formal</li>
                            </ul>
                        </article>
                    </section>

                    <section id="adverbiais" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-3xl font-bold border-b border-gray-700 pb-2 mb-4 prose-headings">4. Orações Subordinadas Adverbiais</h2>
                            
                            <h3 class="text-2xl font-semibold mt-6">Definição</h3>
                            <p>As orações subordinadas adverbiais exercem função de adjunto adverbial, modificando o verbo da oração principal, indicando circunstâncias de tempo, causa, finalidade, etc.</p>
                            
                            <h3 class="text-2xl font-semibold mt-6">Classificação</h3>
                            <p>As orações subordinadas adverbiais são introduzidas por conjunções subordinativas e classificam-se de acordo com a circunstância que expressam:</p>
                            
                            <div class="prose-table">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Tipo</th>
                                            <th>Conjunções</th>
                                            <th>Exemplo</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong class="text-highlight">Causais</strong></td>
                                            <td>porque, pois, como, visto que, já que</td>
                                            <td>"Cheguei atrasado <em>porque o trânsito estava intenso</em>."</td>
                                        </tr>
                                        <tr>
                                            <td><strong class="text-highlight">Temporais</strong></td>
                                            <td>quando, enquanto, antes que, depois que</td>
                                            <td>"<em>Quando cheguei</em>, a aula já havia começado."</td>
                                        </tr>
                                        <tr>
                                            <td><strong class="text-highlight">Condicionais</strong></td>
                                            <td>se, caso, contanto que, desde que</td>
                                            <td>"<em>Se estudar</em>, será aprovado."</td>
                                        </tr>
                                        <tr>
                                            <td><strong class="text-highlight">Conformativas</strong></td>
                                            <td>conforme, como, segundo</td>
                                            <td>"Agimos <em>conforme combinamos</em>."</td>
                                        </tr>
                                        <tr>
                                            <td><strong class="text-highlight">Comparativas</strong></td>
                                            <td>como, assim como, mais...que, menos...que</td>
                                            <td>"Ele é mais estudioso <em>que seu irmão</em>."</td>
                                        </tr>
                                        <tr>
                                            <td><strong class="text-highlight">Concessivas</strong></td>
                                            <td>embora, ainda que, mesmo que, se bem que</td>
                                            <td>"<em>Embora estivesse cansado</em>, foi à aula."</td>
                                        </tr>
                                        <tr>
                                            <td><strong class="text-highlight">Finais</strong></td>
                                            <td>para que, a fim de que</td>
                                            <td>"Estudo <em>para que possa ter um futuro melhor</em>."</td>
                                        </tr>
                                        <tr>
                                            <td><strong class="text-highlight">Proporcionais</strong></td>
                                            <td>à medida que, ao passo que, quanto mais...mais</td>
                                            <td>"<em>À medida que o tempo passa</em>, aprendemos mais."</td>
                                        </tr>
                                        <tr>
                                            <td><strong class="text-highlight">Consecutivas</strong></td>
                                            <td>de modo que, de forma que, tanto...que</td>
                                            <td>"Estudei tanto <em>que fiquei exausto</em>."</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </article>
                    </section>
                </main>
            </div>
        </div>
        
        <!-- Seção Praticar --><section id="practice-section" class="hidden p-4">
            <div id="quiz-container" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg max-w-3xl mx-auto">
                <div id="question-header" class="mb-4 text-center">
                    <p class="accent-secondary font-semibold" id="question-topic"></p>
                </div>
                <p id="question-text" class="text-xl text-center mb-6 min-h-[60px]"></p>
                <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
                <div id="feedback-container" class="mt-6 text-center"></div>

                <!-- Navegação --><div class="flex justify-between items-center mt-8">
                    <button id="prev-btn" class="accent-primary py-2 px-5 rounded-md font-semibold transition-colors hover:accent-primary-dark disabled:bg-gray-600 disabled:cursor-not-allowed">Anterior</button>
                    <span id="question-counter" class="font-semibold text-dark-text"></span>
                    <button id="next-btn" class="accent-primary py-2 px-5 rounded-md font-semibold transition-colors hover:accent-primary-dark">Próxima</button>
                </div>
            </div>

            <!-- Navegação de Questões --><div id="question-nav-container" class="hidden bg-dark-surface p-4 rounded-lg shadow-lg max-w-3xl mx-auto mt-4">
                <div id="question-buttons-grid" class="flex flex-wrap justify-center gap-2">
                    <!-- Buttons will be programmatically inserted here --></div>
            </div>

             <!-- Tela de Pontuação --><div id="score-screen" class="hidden text-center bg-dark-surface p-8 rounded-lg shadow-lg max-w-3xl mx-auto mt-8">
                <h3 class="text-4xl font-bold text-white mb-4">Pontuação Final</h3>
                <p id="final-score" class="text-6xl font-bold accent-secondary mb-2"></p>
                <p id="score-message" class="text-lg text-dark-light-text mb-8"></p>
                <button id="restart-btn" class="bg-green-600 text-white py-3 px-8 rounded-lg font-semibold text-lg hover:bg-green-500 transition-colors">Recomeçar</button>
            </div>
        </section>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script>
        // --- BANCO DE DADOS DAS QUESTÕES ---
        const questions = [
            // NÍVEL FÁCIL (10 Questões - Foco em definições)
            { topic: "Conceitos", difficulty: "Fácil", question: "O que caracteriza uma oração subordinada?", options: ["É uma oração que não depende de outra", "É uma oração que exerce função sintática em relação à principal", "É uma oração que sempre vem antes da principal", "É uma oração que não tem verbo"], answer: 1, explanation: "Uma oração subordinada é aquela que exerce uma função sintática em relação à oração principal, completando seu sentido." },
            { topic: "Classificação", difficulty: "Fácil", question: "Quantos tipos principais de orações subordinadas existem?", options: ["2", "3", "4", "5"], answer: 1, explanation: "As orações subordinadas classificam-se em três tipos principais: substantivas, adjetivas e adverbiais." },
            { topic: "Substantivas", difficulty: "Fácil", question: "Qual conjunção geralmente introduz as orações subordinadas substantivas?", options: ["porque", "quando", "que", "embora"], answer: 2, explanation: "As orações subordinadas substantivas são geralmente introduzidas pelas conjunções integrantes 'que' e 'se'." },
            { topic: "Adjetivas", difficulty: "Fácil", question: "Que tipo de palavra introduz as orações subordinadas adjetivas?", options: ["Conjunções", "Pronomes relativos", "Advérbios", "Preposições"], answer: 1, explanation: "As orações subordinadas adjetivas são introduzidas por pronomes relativos (que, quem, onde, cujo, qual, etc.)." },
            { topic: "Adverbiais", difficulty: "Fácil", question: "Que tipo de palavra introduz as orações subordinadas adverbiais?", options: ["Pronomes", "Conjunções subordinativas", "Advérbios", "Preposições"], answer: 1, explanation: "As orações subordinadas adverbiais são introduzidas por conjunções subordinativas." },
            { topic: "Substantivas", difficulty: "Fácil", question: "Qual função sintática NÃO é exercida pelas orações subordinadas substantivas?", options: ["Sujeito", "Objeto direto", "Adjunto adverbial", "Predicativo"], answer: 2, explanation: "As orações subordinadas substantivas exercem funções próprias do substantivo, como sujeito, objeto direto, objeto indireto, complemento nominal, predicativo e aposto. A função de adjunto adverbial é exercida pelas orações adverbiais." },
            { topic: "Adjetivas", difficulty: "Fácil", question: "Qual a diferença entre orações adjetivas restritivas e explicativas?", options: ["As restritivas são separadas por vírgulas", "As explicativas restringem o sentido do antecedente", "As restritivas não são separadas por vírgulas", "Não há diferença"], answer: 2, explanation: "As orações adjetivas restritivas limitam o sentido do antecedente e não são separadas por vírgulas. Já as explicativas acrescentam uma qualidade ao antecedente e são separadas por vírgulas." },
            { topic: "Adverbiais", difficulty: "Fácil", question: "Qual conjunção introduz uma oração subordinada adverbial causal?", options: ["quando", "porque", "se", "embora"], answer: 1, explanation: "As orações adverbiais causais são introduzidas por conjunções como 'porque', 'pois', 'como', 'visto que', 'já que'." },
            { topic: "Adverbiais", difficulty: "Fácil", question: "Qual conjunção introduz uma oração subordinada adverbial temporal?", options: ["porque", "se", "quando", "embora"], answer: 2, explanation: "As orações adverbiais temporais são introduzidas por conjunções como 'quando', 'enquanto', 'antes que', 'depois que'." },
            { topic: "Adverbiais", difficulty: "Fácil", question: "Qual conjunção introduz uma oração subordinada adverbial condicional?", options: ["porque", "se", "quando", "embora"], answer: 1, explanation: "As orações adverbiais condicionais são introduzidas por conjunções como 'se', 'caso', 'contanto que', 'desde que'." },

            // NÍVEL MÉDIO (10 Questões - Identificação e exemplos)
            { topic: "Identificação", difficulty: "Médio", question: "Na frase 'Espero que você venha', qual é a oração subordinada e seu tipo?", options: ["Espero - substantiva", "que você venha - substantiva", "Espero - adverbial", "que você venha - adjetiva"], answer: 1, explanation: "A oração 'que você venha' é subordinada substantiva, especificamente objetiva direta, pois completa o sentido do verbo 'espero'." },
            { topic: "Identificação", difficulty: "Médio", question: "Na frase 'O livro que comprei é interessante', qual é a oração subordinada e seu tipo?", options: ["O livro - substantiva", "que comprei - adjetiva", "é interessante - adverbial", "O livro que comprei - substantiva"], answer: 1, explanation: "A oração 'que comprei' é subordinada adjetiva restritiva, pois caracteriza o substantivo 'livro'." },
            { topic: "Identificação", difficulty: "Médio", question: "Na frase 'Quando cheguei, todos já tinham saído', qual é a oração subordinada e seu tipo?", options: ["todos já tinham saído - substantiva", "Quando cheguei - adverbial", "todos já tinham saído - adjetiva", "cheguei - adverbial"], answer: 1, explanation: "A oração 'Quando cheguei' é subordinada adverbial temporal, indicando a circunstância de tempo da ação principal." },
            { topic: "Substantivas", difficulty: "Médio", question: "Na frase 'É importante que todos participem', qual é o tipo da oração subordinada substantiva?", options: ["Objetiva direta", "Subjetiva", "Predicativa", "Completiva nominal"], answer: 1, explanation: "A oração 'que todos participem' é subordinada substantiva subjetiva, pois exerce a função de sujeito do verbo 'é'." },
            { topic: "Adjetivas", difficulty: "Médio", question: "Na frase 'Os alunos, que são estudiosos, foram aprovados', qual é o tipo da oração subordinada adjetiva?", options: ["Restritiva", "Explicativa", "Substantiva", "Adverbial"], answer: 1, explanation: "A oração 'que são estudiosos' é subordinada adjetiva explicativa, pois acrescenta uma qualidade ao antecedente e está separada por vírgulas." },
            { topic: "Adverbiais", difficulty: "Médio", question: "Na frase 'Embora estivesse cansado, ele foi à aula', qual é o tipo da oração subordinada adverbial?", options: ["Causal", "Temporal", "Concessiva", "Condicional"], answer: 2, explanation: "A oração 'Embora estivesse cansado' é subordinada adverbial concessiva, pois indica uma concessão em relação à ação principal." },
            { topic: "Adverbiais", difficulty: "Médio", question: "Na frase 'Estudo para que possa ter um futuro melhor', qual é o tipo da oração subordinada adverbial?", options: ["Causal", "Final", "Temporal", "Condicional"], answer: 1, explanation: "A oração 'para que possa ter um futuro melhor' é subordinada adverbial final, pois indica a finalidade da ação de estudar." },
            { topic: "Substantivas", difficulty: "Médio", question: "Na frase 'Tenho certeza de que ele virá', qual é o tipo da oração subordinada substantiva?", options: ["Objetiva direta", "Subjetiva", "Completiva nominal", "Apositiva"], answer: 2, explanation: "A oração 'de que ele virá' é subordinada substantiva completiva nominal, pois completa o sentido do nome 'certeza'." },
            { topic: "Adjetivas", difficulty: "Médio", question: "Na frase 'Conheço a pessoa cujo filho foi premiado', qual pronome relativo introduz a oração subordinada adjetiva?", options: ["que", "quem", "cujo", "onde"], answer: 2, explanation: "O pronome relativo 'cujo' introduz a oração subordinada adjetiva 'cujo filho foi premiado', indicando posse." },
            { topic: "Adverbiais", difficulty: "Médio", question: "Na frase 'Se chover, cancelaremos o passeio', qual é o tipo da oração subordinada adverbial?", options: ["Causal", "Temporal", "Condicional", "Concessiva"], answer: 2, explanation: "A oração 'Se chover' é subordinada adverbial condicional, pois estabelece uma condição para a realização da ação principal." },

            // NÍVEL DIFÍCIL (10 Questões - Análise e aplicação)
            { topic: "Análise", difficulty: "Difícil", question: "Na frase 'O fato de que ele não compareceu preocupa a todos', qual é a função sintática da oração subordinada?", options: ["Sujeito", "Objeto direto", "Complemento nominal", "Predicativo"], answer: 0, explanation: "A oração 'de que ele não compareceu' é subordinada substantiva subjetiva, pois exerce a função de sujeito do verbo 'preocupa'." },
            { topic: "Análise", difficulty: "Difícil", question: "Na frase 'A menina, a qual conheci ontem, é minha prima', qual é a classificação da oração subordinada?", options: ["Substantiva apositiva", "Adjetiva explicativa", "Adjetiva restritiva", "Adverbial temporal"], answer: 1, explanation: "A oração 'a qual conheci ontem' é subordinada adjetiva explicativa, pois acrescenta uma informação sobre o antecedente e está separada por vírgulas." },
            { topic: "Análise", difficulty: "Difícil", question: "Na frase 'Falou de modo que todos entenderam', qual é o tipo da oração subordinada adverbial?", options: ["Causal", "Consecutiva", "Final", "Comparativa"], answer: 1, explanation: "A oração 'de modo que todos entenderam' é subordinada adverbial consecutiva, pois expressa a consequência da forma como ele falou." },
            { topic: "Aplicação", difficulty: "Difícil", question: "Qual alternativa contém uma oração subordinada substantiva predicativa?", options: ["A verdade é que ele não estudou.", "Espero que você venha.", "O aluno que estudou foi aprovado.", "Quando cheguei, a aula já havia começado."], answer: 0, explanation: "Na frase 'A verdade é que ele não estudou', a oração 'que ele não estudou' é subordinada substantiva predicativa, pois funciona como predicativo do sujeito 'a verdade'." },
            { topic: "Aplicação", difficulty: "Difícil", question: "Qual alternativa contém uma oração subordinada adverbial proporcional?", options: ["À medida que o tempo passa, aprendemos mais.", "Embora estivesse cansado, foi à aula.", "Se estudar, será aprovado.", "Porque choveu, cancelamos o passeio."], answer: 0, explanation: "A frase 'À medida que o tempo passa, aprendemos mais' contém uma oração subordinada adverbial proporcional ('À medida que o tempo passa'), que indica proporção entre duas ações." },
            { topic: "Aplicação", difficulty: "Difícil", question: "Qual alternativa contém uma oração subordinada substantiva apositiva?", options: ["Faço um pedido: que você seja feliz.", "Espero que você venha.", "É necessário que todos participem.", "Lembro-me de que você prometeu."], answer: 0, explanation: "Na frase 'Faço um pedido: que você seja feliz', a oração 'que você seja feliz' é subordinada substantiva apositiva, pois funciona como aposto de 'pedido'." },
            { topic: "Análise", difficulty: "Difícil", question: "Na frase 'Conheço o lugar onde você mora', qual é a classificação da oração subordinada?", options: ["Substantiva objetiva direta", "Adjetiva restritiva", "Adverbial temporal", "Adjetiva explicativa"], answer: 1, explanation: "A oração 'onde você mora' é subordinada adjetiva restritiva, pois especifica qual lugar é, sem o uso de vírgulas." },
            { topic: "Análise", difficulty: "Difícil", question: "Na frase 'Estudei tanto que fiquei exausto', qual é o tipo da oração subordinada adverbial?", options: ["Causal", "Consecutiva", "Final", "Comparativa"], answer: 1, explanation: "A oração 'que fiquei exausto' é subordinada adverbial consecutiva, pois expressa a consequência de ter estudado tanto." },
            { topic: "Aplicação", difficulty: "Difícil", question: "Qual alternativa contém uma oração subordinada adverbial concessiva?", options: ["Embora estivesse chovendo, fomos ao parque.", "Se chover, cancelaremos o passeio.", "Quando chove, fico em casa.", "Porque choveu, cancelamos o passeio."], answer: 0, explanation: "A frase 'Embora estivesse chovendo, fomos ao parque' contém uma oração subordinada adverbial concessiva ('Embora estivesse chovendo'), que expressa uma concessão em relação à ação principal." },
            { topic: "Análise", difficulty: "Difícil", question: "Na frase 'A casa cuja porta é azul fica na esquina', qual pronome relativo introduz a oração subordinada adjetiva?", options: ["que", "quem", "cuja", "onde"], answer: 2, explanation: "O pronome relativo 'cuja' introduz a oração subordinada adjetiva 'cuja porta é azul', indicando posse (a porta da casa)." }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            // --- LÓGICA DO MODO DE APRENDIZAGEM ---
            const links = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('#learn-container main section');

            const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        links.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, observerOptions);

            sections.forEach(section => { observer.observe(section); });
            
            links.forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                });
            });

            // --- LÓGICA DO MODO DE PRÁTICA ---
            const btnLearn = document.getElementById('btn-learn');
            const btnPractice = document.getElementById('btn-practice');
            const learnContainer = document.getElementById('learn-container');
            const practiceSection = document.getElementById('practice-section');
            
            const quizContainer = document.getElementById('quiz-container');
            const scoreScreen = document.getElementById('score-screen');
            const questionTopic = document.getElementById('question-topic');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const feedbackContainer = document.getElementById('feedback-container');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const questionCounter = document.getElementById('question-counter');
            const finalScore = document.getElementById('final-score');
            const scoreMessage = document.getElementById('score-message');
            const restartBtn = document.getElementById('restart-btn');
            const questionNavContainer = document.getElementById('question-nav-container');

            let state = {
                currentMode: 'learn',
                currentQuestionIndex: 0,
                userAnswers: [],
                score: 0,
            };

            function switchMode(mode) {
                state.currentMode = mode;
                btnLearn.classList.toggle('active', mode === 'learn');
                btnPractice.classList.toggle('active', mode !== 'learn');
                learnContainer.classList.toggle('hidden', mode !== 'learn');
                practiceSection.classList.toggle('hidden', mode === 'learn');

                if (mode === 'practice') {
                    startPractice();
                }
            }

            function startPractice() {
                state.currentQuestionIndex = 0;
                state.score = 0;
                state.userAnswers = Array(questions.length).fill(null);
                quizContainer.classList.remove('hidden');
                scoreScreen.classList.add('hidden');
                questionNavContainer.classList.remove('hidden');
                renderQuestionNavigation();
                renderQuestion(0);
            }
            
            function renderQuestion(index) {
                const question = questions[index];
                questionTopic.textContent = `${question.topic} - (Nível: ${question.difficulty})`;
                questionText.innerHTML = question.question; // Usar innerHTML para <sup> e <sub>
                
                questionCounter.textContent = `${index + 1} / ${questions.length}`;

                optionsContainer.innerHTML = '';
                feedbackContainer.innerHTML = '';

                question.options.forEach((option, i) => {
                    const button = document.createElement('button');
                    button.innerHTML = option; // Usar innerHTML para <sup> e <sub>
                    button.className = "w-full text-left p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors disabled:cursor-not-allowed";
                    button.onclick = () => checkAnswer(i, question.answer, question.explanation);
                    optionsContainer.appendChild(button);
                });

                updateNavButtonsState();
                updateQuestionNavButtons();
            }

            function checkAnswer(selectedIndex, correctIndex, explanation) {
                const isCorrect = selectedIndex === correctIndex;
                const isFirstAttempt = state.userAnswers[state.currentQuestionIndex] === null;
                const wasPreviouslyWrong = state.userAnswers[state.currentQuestionIndex] === false;

                if (isFirstAttempt) {
                    state.userAnswers[state.currentQuestionIndex] = isCorrect;
                    if (isCorrect) {
                        state.score++;
                        confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
                    }
                } else if (wasPreviouslyWrong && isCorrect) {
                    state.userAnswers[state.currentQuestionIndex] = true;
                    confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
                }

                Array.from(optionsContainer.children).forEach((btn, i) => {
                    btn.disabled = true;
                    if (i === correctIndex) {
                        btn.classList.remove('bg-gray-700', 'hover:bg-gray-600');
                        btn.classList.add('bg-green-600', 'text-white');
                    } else if (i === selectedIndex) {
                        btn.classList.remove('bg-gray-700', 'hover:bg-gray-600');
                        btn.classList.add('bg-red-600', 'text-white');
                    }
                });

                feedbackContainer.innerHTML = `
                    <div class="p-4 rounded-lg ${isCorrect ? 'bg-success-dark' : 'bg-error-dark'}">
                        <h4 class="font-bold text-lg mb-2">${isCorrect ? 'Resposta Correta!' : 'Resposta Incorreta!'}</h4>
                        <p class="text-sm" id="explanation-text"></p>
                        <button id="redo-question-btn" class="mt-4 py-2 px-4 accent-primary rounded-md font-semibold hover:accent-primary-dark transition-colors">Tentar Novamente</button>
                    </div>`;
                
                const explanationText = document.getElementById('explanation-text');
                explanationText.innerHTML = explanation; // Usar innerHTML para <sup> e <sub>

                document.getElementById('redo-question-btn').addEventListener('click', resetCurrentQuestion);
                updateQuestionNavButtons();
            }
            
            function resetCurrentQuestion() {
                feedbackContainer.innerHTML = '';
                Array.from(optionsContainer.children).forEach(btn => {
                    btn.disabled = false;
                    btn.className = "w-full text-left p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors disabled:cursor-not-allowed";
                });
            }

            function updateNavButtonsState() {
                prevBtn.disabled = state.currentQuestionIndex === 0;
                nextBtn.textContent = (state.currentQuestionIndex === questions.length - 1) ? "Finalizar" : "Próxima";
            }

            function nextQuestion() {
                if (state.currentQuestionIndex < questions.length - 1) {
                    goToQuestion(state.currentQuestionIndex + 1);
                } else {
                    showFinalScore();
                }
            }

            function prevQuestion() {
                if (state.currentQuestionIndex > 0) {
                   goToQuestion(state.currentQuestionIndex - 1);
                }
            }

            function goToQuestion(index) {
                if (index >= 0 && index < questions.length) {
                    state.currentQuestionIndex = index;
                    renderQuestion(index);
                }
            }

            function renderQuestionNavigation() {
                const grid = document.getElementById('question-buttons-grid');
                grid.innerHTML = '';
                for (let i = 0; i < questions.length; i++) {
                    const button = document.createElement('button');
                    button.textContent = i + 1;
                    button.className = 'w-9 h-9 flex items-center justify-center rounded-md font-semibold transition-all duration-200';
                    button.dataset.index = i;
                    button.onclick = () => goToQuestion(i);
                    grid.appendChild(button);
                }
            }
            
            function updateQuestionNavButtons() {
                const buttons = document.querySelectorAll('#question-buttons-grid button');
                buttons.forEach((btn, i) => {
                    btn.className = 'w-9 h-9 flex items-center justify-center rounded-md font-semibold transition-all duration-200';
                    const answerState = state.userAnswers[i];
                    
                    if (answerState === true) {
                        btn.classList.add('bg-green-600', 'text-white');
                    } else if (answerState === false) {
                        btn.classList.add('bg-red-600', 'text-white');
                    } else {
                        btn.classList.add('bg-gray-700', 'hover:bg-gray-600');
                    }

                    if (i === state.currentQuestionIndex) {
                        btn.classList.add('ring-2', 'ring-offset-2', 'ring-offset-gray-800', 'ring-green-500'); 
                        btn.classList.remove('hover:bg-gray-600');
                    }
                });
            }
            
            function showFinalScore() {
                quizContainer.classList.add('hidden');
                scoreScreen.classList.remove('hidden');
                questionNavContainer.classList.add('hidden');

                const percentage = Math.round((state.score / questions.length) * 100);
                finalScore.textContent = `${percentage}%`;

                let message = '';
                if (percentage >= 90) message = "Excelente! Você dominou o assunto!";
                else if (percentage >= 70) message = "Muito bom! Continue praticando para aperfeiçoar.";
                else if (percentage >= 50) message = "Bom esforço! Reveja os tópicos que errou.";
                else message = "Não desanime! Reveja a seção 'Aprender' e tente novamente.";
                
                scoreMessage.textContent = `Você acertou ${state.score} de ${questions.length} questões. ${message}`;
            }

            // --- INICIALIZAÇÃO ---
            btnLearn.classList.add('active'); 
            
            btnLearn.addEventListener('click', () => switchMode('learn'));
            btnPractice.addEventListener('click', () => switchMode('practice'));
            prevBtn.addEventListener('click', prevQuestion);
            nextBtn.addEventListener('click', nextQuestion);
            restartBtn.addEventListener('click', startPractice);

            switchMode('learn');
        });
    </script>
</body>
</html>