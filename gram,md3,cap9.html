<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gram√°tica ‚Äì 8¬∫ Ano</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root{
            --bg:#071023; --card:#0b1624; --accent:#3b82f6; --muted:#97a6bf; --text:#e6eef8; --success:#34d399; --danger:#ef4444; --border:rgba(255,255,255,0.12); --muted-2: rgba(230,238,248,0.85);
        }
        html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); color:var(--text);}
        .container{max-width:980px;margin:28px auto;padding:18px}
        .page-header{ padding:1.25rem; border-radius:12px; background: linear-gradient(180deg, rgba(59,130,246,0.06), transparent); box-shadow: 0 8px 24px rgba(2,6,23,0.6); }
        .card{ background: var(--card); color: var(--text); border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 6px 20px rgba(2,6,23,0.6); padding:18px }
        .btn-primary{ background: linear-gradient(90deg,var(--accent), #3b82f6); color: #061226; padding: .5rem 1.25rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.4); box-shadow: 0 6px 18px rgba(59,130,246,0.12); cursor: pointer; }
        .btn-ghost{ background: transparent; color: var(--muted-2); padding: .45rem .9rem; border-radius: 10px; border: 1px solid var(--border); cursor:pointer; }
        .option-btn{ display:block; width:100%; text-align:left; padding:.75rem 1rem; border-radius:10px; background: rgba(255,255,255,0.02); border:1px solid var(--border); color:var(--muted-2); cursor:pointer; transition: transform 150ms ease, background 150ms ease; }
        .option-btn:hover:not(:disabled){ background: rgba(255,255,255,0.035); transform: translateY(-1px); }
        .option-btn.correct{ background: var(--success) !important; color: #062e1f !important; border-color: rgba(4,120,87,0.18) !important; }
        .option-btn.wrong{ background: var(--danger) !important; color: #fff !important; border-color: rgba(185,28,28,0.18) !important; }
        .option-btn:disabled { cursor: not-allowed; }
        #question-buttons{ display:flex; flex-wrap:wrap; gap:8px; }
        #question-buttons button{ background: transparent; color: var(--muted-2); border:1px solid var(--border); padding:.45rem .6rem; border-radius:8px; cursor:pointer; }
        #question-buttons button.current-question { background-color: rgba(59, 130, 246, 0.2); border-color: var(--accent); }
        #question-buttons button.correct-status { background-color: var(--success); color: #062e1f; border-color: var(--success); }
        #question-buttons button.wrong-status { background-color: var(--danger); color: white; border-color: var(--danger); }
        .feedback-correct{ background: rgba(16,185,129,0.12); border:1px solid rgba(16,185,129,0.22); color: #bbf7d0; padding:12px; border-radius:8px }
        .feedback-wrong{ background: rgba(239,68,68,0.12); border:1px solid rgba(239,68,68,0.22); color: #ffdede; padding:12px; border-radius:8px }
        .celebrate{ animation: pop 480ms cubic-bezier(.2,.9,.3,1); box-shadow: 0 12px 36px rgba(96,165,250,0.18), 0 0 28px rgba(16,185,129,0.12); }
        @keyframes pop{ 0%{ transform: scale(1); } 50%{ transform: scale(1.08); } 100%{ transform: scale(1); } }
        .confetti{ position: fixed; z-index: 9999; pointer-events: none; font-size: 18px; opacity: 1; transform-origin: center; }
        @keyframes confetti-fall { 0%{ transform: translateY(-10vh) rotate(0deg); opacity:1 } 100%{ transform: translateY(100vh) rotate(540deg); opacity:0 } }
        .theme-light{ --bg: #f8fafc; --card: #ffffff; --muted: #475569; --text: #0f1724; --accent: #0284c7; --success: #047857; --danger: #b91c1c; --border: rgba(15,23,42,0.1); --muted-2: rgba(15,23,36,0.85); }
        .topic-section { margin-bottom: 2.5rem; border-left: 3px solid var(--accent); padding-left: 1.5rem; }
        .topic-title { font-size: 1.5rem; font-weight: 700; color: var(--accent); margin-bottom: 1rem; }
        .sub-topic-title { font-size: 1.15rem; font-weight: 600; color: var(--text); margin-top: 1.5rem; margin-bottom: 0.75rem; }
        .topic-section p, .topic-section ul { font-size: 1rem; color: var(--muted-2); line-height: 1.7; text-align: justify; }
        .topic-section ul { list-style-position: inside; list-style-type: disc; margin-top: 0.5rem; padding-left: 1rem;}
        .highlight { background-color: rgba(59, 130, 246, 0.1); padding: 0.2rem 0.4rem; border-radius: 4px; font-weight: 600; color: var(--accent); }
    </style>
</head>
<body class="antialiased">
    <div class="container">
        <header class="page-header">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold">Gram√°tica ‚Äî 8¬∫ Ano</h1>
                    <p class="text-sm text-slate-400">Guia de estudos completo sobre Fun√ß√µes da Linguagem, Per√≠odos e Ora√ß√µes.</p>
                </div>
                <div>
                    <button id="theme-toggle" class="btn-ghost">Tema</button>
                </div>
            </div>
        </header>

        <main class="mt-6">
            <div class="card">
                <nav class="mb-4">
                    <button id="btn-learn" class="btn-primary">Aprender</button>
                    <button id="btn-practice" class="btn-ghost ml-2">Praticar</button>
                </nav>

                <section id="learn-section">
                    <div class="space-y-8">
                        
                        <div class="topic-section">
                            <h2 class="topic-title">Fun√ß√µes da Linguagem</h2>
                            <p>As Fun√ß√µes da Linguagem s√£o as diferentes inten√ß√µes, finalidades ou prop√≥sitos que temos ao nos comunicarmos. Cada vez que falamos ou escrevemos, uma fun√ß√£o se destaca, dependendo do nosso foco. S√£o seis no total:</p>
                            <ul>
                                <li><strong>Fun√ß√£o Referencial (ou Denotativa):</strong> O foco √© a <span class="highlight">informa√ß√£o</span>, o assunto, o contexto. O objetivo √© informar de maneira clara e objetiva, como em not√≠cias de jornal, artigos cient√≠ficos e livros did√°ticos. Ex: "A temperatura em Fortaleza hoje √© de 30¬∞C."</li>
                                <li><strong>Fun√ß√£o Emotiva (ou Expressiva):</strong> O foco est√° no <span class="highlight">emissor</span> (quem fala), em seus sentimentos, emo√ß√µes e opini√µes. √â subjetiva e usa a 1¬™ pessoa (eu). Comum em di√°rios, cartas de amor, poemas l√≠ricos. Ex: "Eu me sinto t√£o feliz com sua presen√ßa!"</li>
                                <li><strong>Fun√ß√£o Apelativa (ou Conativa):</strong> O foco est√° no <span class="highlight">receptor</span> (com quem se fala). O objetivo √© convencer, dar uma ordem ou influenciar o comportamento do outro. Usa verbos no imperativo (fa√ßa, compre) e vocativos. T√≠pica de propagandas e discursos. Ex: "Compre j√° e aproveite a promo√ß√£o!"</li>
                                <li><strong>Fun√ß√£o Po√©tica:</strong> O foco est√° na <span class="highlight">mensagem</span> e na forma como ela √© constru√≠da. Preocupa-se com a beleza, a sonoridade das palavras, as rimas e as figuras de linguagem. √â a fun√ß√£o principal da poesia, mas aparece em letras de m√∫sica e textos criativos. Ex: "√Ågua mole em pedra dura, tanto bate at√© que fura."</li>
                                <li><strong>Fun√ß√£o F√°tica:</strong> O foco est√° no <span class="highlight">canal</span> de comunica√ß√£o. O objetivo √© testar, iniciar, manter ou encerrar o contato. S√£o express√µes que usamos para verificar se a comunica√ß√£o est√° funcionando. Ex: "Al√¥?", "Entendeu?", "Certo?", "Ent√£o, n√©...".</li>
                                <li><strong>Fun√ß√£o Metalingu√≠stica:</strong> O foco est√° no <span class="highlight">c√≥digo</span>, ou seja, na pr√≥pria linguagem. √â a linguagem explicando a si mesma. Um dicion√°rio, uma aula de gram√°tica ou um poema que fala sobre o ato de escrever s√£o exemplos. Ex: "A palavra 'casa' √© um substantivo."</li>
                            </ul>
                        </div>
                        
                        <div class="topic-section">
                             <h2 class="topic-title">Per√≠odo Simples e Composto</h2>
                             <p>Para entender isso, precisamos saber o que √© uma <span class="highlight">ora√ß√£o</span>: √© todo enunciado que se organiza em torno de um verbo. Cada verbo (ou locu√ß√£o verbal) forma uma ora√ß√£o.</p>
                             <ul>
                                <li><strong>Per√≠odo Simples:</strong> √â aquele formado por <span class="highlight">uma √∫nica ora√ß√£o</span>. Por isso, ele tamb√©m √© chamado de ora√ß√£o absoluta. Ex: "Os alunos do 8¬∫ ano <span class="highlight">estudaram</span> muito para a prova." (Apenas um verbo).</li>
                                <li><strong>Per√≠odo Composto:</strong> √â aquele formado por <span class="highlight">duas ou mais ora√ß√µes</span>. Elas podem estar ligadas de duas maneiras: por coordena√ß√£o ou por subordina√ß√£o. Ex: "Eu <span class="highlight">estudei</span> e <span class="highlight">aprendi</span> a mat√©ria." (Dois verbos = duas ora√ß√µes).</li>
                             </ul>
                        </div>

                        <div class="topic-section">
                            <h2 class="topic-title">Coordena√ß√£o e Subordina√ß√£o</h2>
                            <p>Esta √© a forma como as ora√ß√µes se relacionam dentro de um per√≠odo composto.</p>
                             <h3 class="sub-topic-title">Ora√ß√µes Coordenadas</h3>
                            <p>S√£o ora√ß√µes <span class="highlight">independentes</span>, ou seja, uma n√£o depende sintaticamente da outra para fazer sentido. Elas s√£o como vizinhas que moram no mesmo "per√≠odo", mas cada uma tem sua pr√≥pria estrutura completa. S√£o ligadas por conectivos chamados <span class="highlight">conjun√ß√µes coordenativas</span>.</p>
                            <ul>
                                <li><strong>Aditivas:</strong> Expressam ideia de soma, adi√ß√£o. Conjun√ß√µes: <span class="highlight">e, nem, mas tamb√©m</span>. Ex: "Ela n√£o <span class="highlight">veio</span> √† festa <span class="highlight">nem</span> <span class="highlight">deu</span> satisfa√ß√£o."</li>
                                <li><strong>Adversativas:</strong> Expressam ideia de oposi√ß√£o, contraste. Conjun√ß√µes: <span class="highlight">mas, por√©m, contudo, todavia</span>. Ex: "Eu <span class="highlight">estudei</span> muito, <span class="highlight">mas</span> n√£o <span class="highlight">fui</span> bem na prova."</li>
                                <li><strong>Alternativas:</strong> Expressam ideia de altern√¢ncia, escolha. Conjun√ß√µes: <span class="highlight">ou...ou, ora...ora, quer...quer</span>. Ex: "<span class="highlight">Ora</span> ele <span class="highlight">estuda</span>, <span class="highlight">ora</span> ele <span class="highlight">joga</span> videogame."</li>
                                <li><strong>Conclusivas:</strong> Expressam ideia de conclus√£o. Conjun√ß√µes: <span class="highlight">logo, portanto, por isso, assim</span>. Ex: "<span class="highlight">Penso</span>, <span class="highlight">logo</span> <span class="highlight">existo</span>."</li>
                                <li><strong>Explicativas:</strong> Expressam uma explica√ß√£o ou justificativa. Conjun√ß√µes: <span class="highlight">que, porque, pois (antes do verbo)</span>. Ex: "<span class="highlight">Feche</span> a janela, <span class="highlight">pois</span> <span class="highlight">est√°</span> chovendo."</li>
                            </ul>

                            <h3 class="sub-topic-title">Ora√ß√µes Subordinadas</h3>
                            <p>S√£o ora√ß√µes <span class="highlight">dependentes</span>. Uma ora√ß√£o (a subordinada) funciona como um termo sint√°tico (sujeito, objeto, adjunto, etc.) da outra (a ora√ß√£o principal). Sozinha, a ora√ß√£o subordinada n√£o tem sentido completo.</p>
                             <p>Ex: "<span class="highlight">Espero</span> <span class="highlight">que voc√™ venha</span>."<br>A primeira ora√ß√£o ("Espero") √© a principal. A segunda ("que voc√™ venha") √© a subordinada, pois ela completa o sentido do verbo "esperar". Quem espera, espera ALGO. Esse "algo" √© a segunda ora√ß√£o. Sozinha, "que voc√™ venha" n√£o faz sentido.</p>
                        </div>
                        
                    </div>
                </section>

                <section id="practice-section" class="hidden">
                    <div class="mb-4 flex justify-end">
                        <button id="order-toggle-btn" class="btn-ghost text-xs">Ordem Aleat√≥ria</button>
                    </div>
                    <div id="question-buttons" class="mb-4"></div>
                    <div id="quiz-container">
                        </div>
                </section>
            </div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const root = document.documentElement;
        const themeToggle = document.getElementById('theme-toggle');
        const btnLearn = document.getElementById('btn-learn');
        const btnPractice = document.getElementById('btn-practice');
        const learnSection = document.getElementById('learn-section');
        const practiceSection = document.getElementById('practice-section');
        const questionButtons = document.getElementById('question-buttons');
        const quizContainer = document.getElementById('quiz-container');
        const orderToggleBtn = document.getElementById('order-toggle-btn');

        if(!btnLearn || !btnPractice || !learnSection || !practiceSection || !questionButtons || !quizContainer || !orderToggleBtn){
            console.error('Elementos DOM n√£o encontrados.');
            return;
        }

        (function(){
            const t = localStorage.getItem('cmf-grammar-theme') || 'dark';
            if(t === 'light') root.classList.add('theme-light');
            themeToggle.addEventListener('click', () => {
                root.classList.toggle('theme-light');
                localStorage.setItem('cmf-grammar-theme', root.classList.contains('theme-light') ? 'light' : 'dark');
            });
        })();
        
        const quizData = [
            // Fun√ß√µes da Linguagem
            { topic: 'Fun√ß√µes da Linguagem', q: '1) Em "N√£o perca esta oportunidade! Ligue agora!", qual fun√ß√£o da linguagem predomina?', options: ['Emotiva', 'Apelativa', 'Referencial', 'Po√©tica'], answer: 'Apelativa', explanation: 'O uso de verbos no imperativo ("n√£o perca", "ligue") visa convencer o leitor a tomar uma a√ß√£o.'},
            { topic: 'Fun√ß√µes da Linguagem', q: '2) A previs√£o do tempo em um telejornal √© um exemplo claro de qual fun√ß√£o?', options: ['F√°tica', 'Metalingu√≠stica', 'Referencial', 'Po√©tica'], answer: 'Referencial', explanation: 'O objetivo principal √© informar sobre um fato (o tempo) de maneira objetiva.'},
            { topic: 'Fun√ß√µes da Linguagem', q: '3) A frase "Que saudade que eu sinto da minha terra!" tem como fun√ß√£o principal a:', options: ['Emotiva', 'Apelativa', 'F√°tica', 'Referencial'], answer: 'Emotiva', explanation: 'O foco est√° na express√£o do sentimento (saudade) do emissor (eu).'},
            { topic: 'Fun√ß√µes da Linguagem', q: '4) Quando um professor de portugu√™s explica o que √© um verbo, ele est√° usando a fun√ß√£o:', options: ['Po√©tica', 'Metalingu√≠stica', 'Apelativa', 'F√°tica'], answer: 'Metalingu√≠stica', explanation: 'Ele est√° usando a linguagem (c√≥digo) para explicar a pr√≥pria linguagem (verbo).'},
            { topic: 'Fun√ß√µes da Linguagem', q: '5) Em um poema cheio de rimas e met√°foras, a fun√ß√£o predominante √© a:', options: ['Referencial', 'Emotiva', 'Po√©tica', 'Metalingu√≠stica'], answer: 'Po√©tica', explanation: 'A preocupa√ß√£o principal √© com a forma e a beleza da mensagem, n√£o apenas com seu conte√∫do.'},
            { topic: 'Fun√ß√µes da Linguagem', q: '6) A express√£o "Al√¥, est√° me ouvindo?" cumpre qual fun√ß√£o da linguagem?', options: ['F√°tica', 'Apelativa', 'Emotiva', 'Referencial'], answer: 'F√°tica', explanation: 'A inten√ß√£o √© testar se o canal de comunica√ß√£o est√° funcionando corretamente.'},
            { topic: 'Fun√ß√µes da Linguagem', q: '7) Qual fun√ß√£o da linguagem √© predominante em uma receita de bolo?', options: ['Emotiva', 'Apelativa', 'Po√©tica', 'F√°tica'], answer: 'Apelativa', explanation: 'Embora informe (referencial), a principal fun√ß√£o √© instruir e guiar o receptor, usando verbos no imperativo (misture, asse).'},
            { topic: 'Fun√ß√µes da Linguagem', q: '8) Um dicion√°rio √© um livro onde a fun√ß√£o _________ √© total.', options: ['Referencial', 'Po√©tica', 'Metalingu√≠stica', 'Emotiva'], answer: 'Metalingu√≠stica', explanation: 'Ele usa palavras para definir e explicar o significado de outras palavras.'},
            { topic: 'Fun√ß√µes da Linguagem', q: '9) A frase "O amor √© fogo que arde sem se ver" de Cam√µes √© um exemplo de fun√ß√£o:', options: ['Referencial', 'Po√©tica', 'F√°tica', 'Apelativa'], answer: 'Po√©tica', explanation: 'A constru√ß√£o da mensagem, com uma met√°fora e sonoridade, √© o foco principal.'},
            { topic: 'Fun√ß√µes da Linguagem', q: '10) "Vote no candidato X!" √© um exemplo claro da fun√ß√£o:', options: ['Emotiva', 'Referencial', 'Apelativa', 'Metalingu√≠stica'], answer: 'Apelativa', explanation: 'O objetivo √© persuadir o eleitor a realizar uma a√ß√£o espec√≠fica (votar).'},
            { topic: 'Fun√ß√µes da Linguagem', q: '11) Um bilhete que diz "Estou com dor de cabe√ßa, volto mais tarde" tem qual fun√ß√£o predominante?', options: ['Referencial', 'Emotiva', 'F√°tica', 'Po√©tica'], answer: 'Referencial', explanation: 'A principal inten√ß√£o √© informar sobre um fato (a dor de cabe√ßa e a volta tardia).'},
            { topic: 'Fun√ß√µes da Linguagem', q: '12) Em conversas informais, express√µes como "N√©?", "Entende?" e "Hmm..." s√£o marcas da fun√ß√£o:', options: ['Apelativa', 'F√°tica', 'Emotiva', 'Po√©tica'], answer: 'F√°tica', explanation: 'S√£o usadas para manter o contato e garantir que a comunica√ß√£o continue fluindo.'},
            { topic: 'Fun√ß√µes da Linguagem', q: '13) Qual fun√ß√£o se concentra no emissor e na express√£o de seus sentimentos?', options: ['Apelativa', 'Referencial', 'Emotiva', 'Metalingu√≠stica'], answer: 'Emotiva', explanation: '√â a fun√ß√£o da subjetividade, focada no "eu".'},

            // Per√≠odo Simples e Composto
            { topic: 'Per√≠odo Simples e Composto', q: '14) A frase "O sol ilumina a cidade e aquece os dias" √© um:', options: ['Per√≠odo simples', 'Per√≠odo composto', 'Uma √∫nica ora√ß√£o', 'Frase nominal'], answer: 'Per√≠odo composto', explanation: 'Possui dois verbos ("ilumina" e "aquece"), logo, duas ora√ß√µes.'},
            { topic: 'Per√≠odo Simples e Composto', q: '15) Qual das alternativas abaixo cont√©m um per√≠odo simples?', options: ['Eu quero que voc√™ venha.', 'Cheguei, vi e venci.', 'Preciso de sua ajuda.', 'Estudei, mas n√£o passei.'], answer: 'Preciso de sua ajuda.', explanation: 'Esta frase possui apenas um verbo ("preciso").'},
            { topic: 'Per√≠odo Simples e Composto', q: '16) "O professor pediu sil√™ncio." Esta frase √© classificada como:', options: ['Per√≠odo composto por coordena√ß√£o', 'Per√≠odo composto por subordina√ß√£o', 'Per√≠odo simples', 'Frase sem verbo'], answer: 'Per√≠odo simples', explanation: 'Cont√©m apenas uma ora√ß√£o, pois h√° apenas o verbo "pediu".'},
            { topic: 'Per√≠odo Simples e Composto', q: '17) O que define uma ora√ß√£o?', options: ['A presen√ßa de um sujeito', 'A presen√ßa de um verbo ou locu√ß√£o verbal', 'A presen√ßa de pontua√ß√£o', 'Um conjunto de palavras com sentido completo'], answer: 'A presen√ßa de um verbo ou locu√ß√£o verbal', explanation: 'A estrutura da ora√ß√£o se organiza sempre em torno de um verbo.'},
            { topic: 'Per√≠odo Simples e Composto', q: '18) Quantas ora√ß√µes h√° no per√≠odo "Quando o despertador tocou, eu levantei e fui tomar banho"?', options: ['Uma', 'Duas', 'Tr√™s', 'Quatro'], answer: 'Tr√™s', explanation: 'Os verbos s√£o: "tocou", "levantei" e "fui tomar" (locu√ß√£o verbal), formando tr√™s ora√ß√µes.'},
            
            // Coordena√ß√£o e Subordina√ß√£o
            { topic: 'Coordena√ß√£o e Subordina√ß√£o', q: '19) No per√≠odo "Estudei para a prova, mas esqueci o conte√∫do", a segunda ora√ß√£o √©:', options: ['Coordenada aditiva', 'Coordenada adversativa', 'Subordinada adverbial', 'Coordenada explicativa'], answer: 'Coordenada adversativa', explanation: 'A conjun√ß√£o "mas" introduz uma ideia de contraste ou oposi√ß√£o √† primeira ora√ß√£o.'},
            { topic: 'Coordena√ß√£o e Subordina√ß√£o', q: '20) "√â necess√°rio que todos colaborem." A segunda ora√ß√£o √©:', options: ['Coordenada', 'Subordinada', 'Principal', 'Assind√©tica'], answer: 'Subordinada', explanation: 'A ora√ß√£o "que todos colaborem" depende da primeira para fazer sentido, completando a ideia de "√© necess√°rio".'},
            { topic: 'Coordena√ß√£o e Subordina√ß√£o', q: '21) Qual per√≠odo √© composto por coordena√ß√£o?', options: ['Desejo que voc√™ seja feliz.', 'Ele falou que viria.', 'Penso, logo existo.', 'O livro que li √© √≥timo.'], answer: 'Penso, logo existo.', explanation: 'A conjun√ß√£o "logo" conecta duas ora√ß√µes independentes com uma ideia de conclus√£o.'},
            { topic: 'Coordena√ß√£o e Subordina√ß√£o', q: '22) "N√£o compareceu √† reuni√£o nem justificou a falta." A segunda ora√ß√£o √© coordenada:', options: ['Aditiva', 'Adversativa', 'Alternativa', 'Conclusiva'], answer: 'Aditiva', explanation: 'A conjun√ß√£o "nem" (equivalente a "e n√£o") adiciona uma informa√ß√£o √† primeira ora√ß√£o.'},
            { topic: 'Coordena√ß√£o e Subordina√ß√£o', q: '23) A principal caracter√≠stica das ora√ß√µes coordenadas √© que elas s√£o:', options: ['Sintaticamente dependentes', 'Sintaticamente independentes', 'Sempre iniciadas por pronome relativo', 'Sempre sem conjun√ß√£o'], answer: 'Sintaticamente independentes', explanation: 'Uma ora√ß√£o coordenada tem sua pr√≥pria estrutura sint√°tica e n√£o funciona como termo de outra.'},
            { topic: 'Coordena√ß√£o e Subordina√ß√£o', q: '24) Em "Ora estuda, ora trabalha", temos ora√ß√µes coordenadas:', options: ['Aditivas', 'Adversativas', 'Alternativas', 'Explicativas'], answer: 'Alternativas', explanation: 'As conjun√ß√µes "ora...ora" expressam uma ideia de altern√¢ncia entre as a√ß√µes.'},
            { topic: 'Coordena√ß√£o e Subordina√ß√£o', q: '25) "Choveu, porque o ch√£o est√° molhado." A segunda ora√ß√£o √© coordenada:', options: ['Conclusiva', 'Adversativa', 'Aditiva', 'Explicativa'], answer: 'Explicativa', explanation: 'A segunda ora√ß√£o justifica ou explica o motivo da afirma√ß√£o feita na primeira.'},
            { topic: 'Coordena√ß√£o e Subordina√ß√£o', q: '26) Qual a classifica√ß√£o da ora√ß√£o destacada em "O homem **que trabalha** vence na vida"?', options: ['Coordenada aditiva', 'Subordinada substantiva', 'Subordinada adjetiva', 'Coordenada adversativa'], answer: 'Subordinada adjetiva', explanation: 'A ora√ß√£o "que trabalha" funciona como um adjetivo, caracterizando o "homem".'},
            { topic: 'Coordena√ß√£o e Subordina√ß√£o', q: '27) Em "A situa√ß√£o √© grave, portanto devemos agir", a segunda ora√ß√£o √©:', options: ['Coordenada conclusiva', 'Coordenada explicativa', 'Subordinada adverbial consecutiva', 'Coordenada adversativa'], answer: 'Coordenada conclusiva', explanation: 'A conjun√ß√£o "portanto" introduz uma conclus√£o l√≥gica baseada na primeira ora√ß√£o.'},
            { topic: 'Coordena√ß√£o e Subordina√ß√£o', q: '28) A ora√ß√£o subordinada funciona como um ________ da ora√ß√£o principal.', options: ['verbo principal', 'termo sint√°tico (sujeito, objeto, etc.)', 'per√≠odo independente', 'sin√¥nimo'], answer: 'termo sint√°tico (sujeito, objeto, etc.)', explanation: 'A ess√™ncia da subordina√ß√£o √© que uma ora√ß√£o inteira desempenha o papel de uma fun√ß√£o sint√°tica na outra.'},
            { topic: 'Coordena√ß√£o e Subordina√ß√£o', q: '29) "Quer voc√™ queira, quer n√£o, teremos que ir." As ora√ß√µes s√£o coordenadas:', options: ['Adversativas', 'Aditivas', 'Alternativas', 'Conclusivas'], answer: 'Alternativas', explanation: 'As conjun√ß√µes "quer...quer" indicam uma escolha ou altern√¢ncia.'},
            { topic: 'Coordena√ß√£o e Subordina√ß√£o', q: '30) Em "Fico feliz quando voc√™ me visita", a segunda ora√ß√£o √©:', options: ['Coordenada', 'Subordinada', 'Absoluta', 'Principal'], answer: 'Subordinada', explanation: 'Ela indica a circunst√¢ncia de tempo em que a primeira ora√ß√£o acontece, sendo dependente dela.'},
            
            // Revis√£o Geral
            { topic: 'Revis√£o Geral', q: '31) A manchete "Infla√ß√£o sobe 0,5% em agosto, diz instituto" utiliza predominantemente a fun√ß√£o:', options: ['Emotiva', 'Apelativa', 'Referencial', 'Po√©tica'], answer: 'Referencial', explanation: 'O objetivo √© informar um dado econ√¥mico de forma direta e objetiva.'},
            { topic: 'Revis√£o Geral', q: '32) Qual per√≠odo abaixo √© composto por subordina√ß√£o?', options: ['O dia est√° lindo, mas ficarei em casa.', 'Eu n√£o sei se ele vir√°.', 'Leia o livro e fa√ßa o resumo.', 'Venha logo, pois est√° tarde.'], answer: 'Eu n√£o sei se ele vir√°.', explanation: 'A ora√ß√£o "se ele vir√°" completa o sentido do verbo "sei", funcionando como seu objeto direto.'},
            { topic: 'Revis√£o Geral', q: '33) A frase "Que dia horr√≠vel!" √© um exemplo de fun√ß√£o:', options: ['F√°tica', 'Apelativa', 'Emotiva', 'Metalingu√≠stica'], answer: 'Emotiva', explanation: 'O foco est√° na express√£o do sentimento negativo do emissor sobre o dia.'},
            { topic: 'Revis√£o Geral', q: '34) "Os atletas treinaram muito; logo, venceram o campeonato." A segunda ora√ß√£o √©:', options: ['Coordenada conclusiva', 'Coordenada explicativa', 'Coordenada adversativa', 'Subordinada adverbial final'], answer: 'Coordenada conclusiva', explanation: '"Logo" introduz a consequ√™ncia ou conclus√£o do esfor√ßo mencionado na primeira ora√ß√£o.'},
            { topic: 'Revis√£o Geral', q: '35) O que √© um per√≠odo simples?', options: ['Uma frase curta', 'Uma frase com um √∫nico verbo', 'Uma frase sem sujeito', 'Uma frase com duas ora√ß√µes'], answer: 'Uma frase com um √∫nico verbo', explanation: 'Per√≠odo simples √© aquele constitu√≠do por apenas uma ora√ß√£o (e, portanto, um verbo ou locu√ß√£o verbal).'},
            { topic: 'Revis√£o Geral', q: '36) Em "Ele √© um bom aluno, por√©m conversa muito", a conjun√ß√£o "por√©m" pode ser substitu√≠da sem alterar o sentido por:', options: ['portanto', 'e', 'pois', 'contudo'], answer: 'contudo', explanation: '"Contudo" √© uma conjun√ß√£o adversativa, assim como "por√©m", expressando contraste.'},
            { topic: 'Revis√£o Geral', q: '37) "Fale baixo, que o beb√™ est√° dormindo." A conjun√ß√£o "que" classifica a segunda ora√ß√£o como:', options: ['Subordinada adjetiva', 'Coordenada explicativa', 'Coordenada aditiva', 'Subordinada substantiva'], answer: 'Coordenada explicativa', explanation: 'A segunda ora√ß√£o apresenta a justificativa para o pedido feito na primeira.'},
            { topic: 'Revis√£o Geral', q: '38) Qual o √∫nico per√≠odo composto abaixo?', options: ['Que sil√™ncio!', 'Os jogadores entraram em campo confiantes.', 'Preciso de mais tempo para terminar a tarefa.', 'O sinal tocou e os alunos sa√≠ram.'], answer: 'O sinal tocou e os alunos sa√≠ram.', explanation: '√â o √∫nico com dois verbos ("tocou" e "sa√≠ram"), formando duas ora√ß√µes.'},
            { topic: 'Revis√£o Geral', q: '39) "Quando a chuva passar, eu sairei." A primeira ora√ß√£o √©:', options: ['Principal', 'Coordenada', 'Subordinada', 'Absoluta'], answer: 'Subordinada', explanation: 'Ela estabelece uma condi√ß√£o de tempo para a ocorr√™ncia da ora√ß√£o principal ("eu sairei").'},
            { topic: 'Revis√£o Geral', q: '40) Uma propaganda de xampu que diz "Cabelos 10x mais fortes. Compre agora!" usa, respectivamente, as fun√ß√µes:', options: ['Referencial e Apelativa', 'Po√©tica e F√°tica', 'Emotiva e Referencial', 'Apelativa e Metalingu√≠stica'], answer: 'Referencial e Apelativa', explanation: 'Primeiro informa uma caracter√≠stica do produto (referencial) e depois comanda uma a√ß√£o (apelativa).'}
        ];

        let questionOrder = quizData.map((_,i)=>i);
        let currentIndex = 0;
        let questionStatus = Array(quizData.length).fill(null);
        let quizStarted = false;
        let isRandomOrder = true; 

        orderToggleBtn.addEventListener('click', () => {
            isRandomOrder = !isRandomOrder; 
            orderToggleBtn.textContent = isRandomOrder ? 'Ordem Aleat√≥ria' : 'Ordem Crescente';
            startQuiz();
        });

        function switchView(view){
            if(view==='learn'){
                practiceSection.classList.add('hidden');
                learnSection.classList.remove('hidden');
                btnLearn.classList.replace('btn-ghost', 'btn-primary');
                btnPractice.classList.replace('btn-primary', 'btn-ghost');
            } else {
                learnSection.classList.add('hidden');
                practiceSection.classList.remove('hidden');
                btnPractice.classList.replace('btn-ghost', 'btn-primary');
                btnLearn.classList.replace('btn-primary', 'btn-ghost');
                if (!quizStarted) {
                    startQuiz();
                    quizStarted = true;
                }
            }
        }

        btnLearn.addEventListener('click', () => switchView('learn'));
        btnPractice.addEventListener('click', () => switchView('practice'));

        function renderQuestionButtons(){
            questionButtons.innerHTML='';
            quizData.forEach((_,originalIndex)=>{
                const b = document.createElement('button');
                b.textContent = (originalIndex + 1);
                b.setAttribute('data-original-index', String(originalIndex));
                b.title = `Ir para a quest√£o ${originalIndex+1}`;
                b.onclick = ()=>{
                    const pos = questionOrder.indexOf(originalIndex);
                    if(pos >= 0){ currentIndex = pos; showQuestion(); }
                };
                if(questionStatus[originalIndex]==='correct') b.classList.add('correct-status');
                if(questionStatus[originalIndex]==='wrong') b.classList.add('wrong-status');
                
                if (quizStarted) {
                    const currentQuestionOriginalIndex = questionOrder[currentIndex];
                    if(originalIndex === currentQuestionOriginalIndex) {
                        b.classList.add('current-question');
                    }
                }
                
                questionButtons.appendChild(b);
            });
        }

        const questionTopic = document.createElement('p');
        questionTopic.className='text-sm font-semibold text-[var(--accent)] mb-2';
        const questionText = document.createElement('p');
        questionText.className='text-xl mt-2';
        const optionsContainer = document.createElement('div');
        optionsContainer.className='mt-4 grid gap-3';
        const feedbackContainer = document.createElement('div');
        const nextBtn = document.createElement('button');
        nextBtn.className='btn-primary mt-4'; nextBtn.textContent='Pr√≥xima';
        const redoBtn = document.createElement('button');
        redoBtn.className='btn-ghost mt-4 ml-3'; redoBtn.textContent='Refazer';

        quizContainer.appendChild(questionTopic);
        quizContainer.appendChild(questionText);
        quizContainer.appendChild(optionsContainer);
        quizContainer.appendChild(feedbackContainer);
        quizContainer.appendChild(nextBtn);
        quizContainer.appendChild(redoBtn);

        function startQuiz(){
            if (isRandomOrder) {
                shuffleArray(questionOrder);
            } else {
                questionOrder = quizData.map((_, i) => i);
            }
            currentIndex = 0;
            questionStatus.fill(null);
            showQuestion();
        }

        function showQuestion(){
            if (currentIndex >= questionOrder.length) {
                showFinalResults();
                return;
            }
        
            const qIdx = questionOrder[currentIndex];
            const qObj = quizData[qIdx];
            
            questionTopic.textContent = qObj.topic;
            questionText.innerHTML = `${qIdx + 1}) ${qObj.q.replace(/^[\s\d\)\(\.\:\-‚Äì‚Äî_]+/,'').trim()}`;
            
            optionsContainer.innerHTML='';
            feedbackContainer.innerHTML='';
            redoBtn.classList.add('hidden');
            nextBtn.disabled = true;

            qObj.options.forEach(opt =>{
                const b = document.createElement('button');
                b.className='option-btn'; b.textContent=opt;
                b.onclick = ()=> selectAnswer(b,opt,qObj.answer,qObj.explanation,qIdx);
                optionsContainer.appendChild(b);
            });

            renderQuestionButtons();
        }
        
        function showFinalResults() {
            const correctCount = questionStatus.filter(s => s === 'correct').length;
            const total = quizData.length;
            questionTopic.textContent = '';
            questionText.innerHTML = `üéâ Fim do Quiz! üéâ`;
            optionsContainer.innerHTML = `<p class="text-center text-lg">Voc√™ acertou ${correctCount} de ${total} quest√µes.</p>`;
            feedbackContainer.innerHTML = '';
            nextBtn.textContent = 'Recome√ßar Quiz';
            nextBtn.disabled = false;
            nextBtn.onclick = () => {
                quizStarted = false;
                startQuiz(); 
                quizStarted = true;
            };
            redoBtn.classList.add('hidden');
        }

        function selectAnswer(btn,opt,correct,explanation,qIdx){
            Array.from(optionsContainer.children).forEach(b=>b.disabled=true);
            nextBtn.disabled = false;

            if(opt===correct){
                btn.classList.add('celebrate','correct');
                createConfetti();
                questionStatus[qIdx]='correct';
                feedbackContainer.className='feedback-correct mt-4';
                feedbackContainer.textContent = 'Correto! ' + (explanation || '');
            } else {
                btn.classList.add('wrong');
                questionStatus[qIdx]='wrong';
                feedbackContainer.className='feedback-wrong mt-4';
                feedbackContainer.innerHTML = `<strong>Errado.</strong> Resposta correta: <strong>${correct}</strong>.`;
                if(explanation) feedbackContainer.innerHTML += `<div class="mt-2 text-sm">${explanation}</div>`;
                
                Array.from(optionsContainer.children).forEach(b=>{
                    if(b.textContent === correct) b.classList.add('correct');
                });
                redoBtn.classList.remove('hidden');
            }
            renderQuestionButtons();
        }

        nextBtn.addEventListener('click', ()=>{
            if(currentIndex < questionOrder.length-1){ 
                currentIndex++; 
                showQuestion(); 
            } else { 
                currentIndex++;
                showFinalResults();
            }
        });

        redoBtn.addEventListener('click', ()=>{
            const currentQuestionIndex = questionOrder[currentIndex];
            questionStatus[currentQuestionIndex] = null;
            showQuestion();
        });

        function shuffleArray(a){
            for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; }
        }

        function createConfetti(){
            const colors = ['#f59e0b','#ef4444','#10b981','#3b82f6','#8b5cf6'];
            for(let i=0;i<12;i++){
                const el = document.createElement('div');
                el.className='confetti';
                el.style.left = (30 + Math.random()*40) + '%';
                el.style.top = (10 + Math.random()*10) + 'vh';
                el.style.color = colors[Math.floor(Math.random()*colors.length)];
                el.textContent = 'üéâ';
                el.style.transform = `rotate(${Math.random()*360}deg)`;
                el.style.animation = `confetti-fall ${1.2 + Math.random()*1}s linear forwards`;
                document.body.appendChild(el);
                setTimeout(()=> el.remove(), 2200);
            }
        }
        
        switchView('learn');
    });
    </script>
</body>
</html>
