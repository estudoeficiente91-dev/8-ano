<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Reino Animalia ‚Äì 8¬∫ Ano</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root{
            --bg:#071023; --card:#0b1624; --accent:#3b82f6; --muted:#97a6bf; --text:#e6eef8; --success:#34d399; --danger:#ef4444; --border:rgba(255,255,255,0.12); --muted-2: rgba(230,238,248,0.85);
        }
        html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); color:var(--text);}
        .container{max-width:980px;margin:28px auto;padding:18px}
        .page-header{ padding:1.25rem; border-radius:12px; background: linear-gradient(180deg, rgba(59,130,246,0.06), transparent); box-shadow: 0 8px 24px rgba(2,6,23,0.6); }
        .card{ background: var(--card); color: var(--text); border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 6px 20px rgba(2,6,23,0.6); padding:18px }
        .btn-primary{ background: linear-gradient(90deg,var(--accent), #3b82f6); color: #061226; padding: .5rem 1.25rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.4); box-shadow: 0 6px 18px rgba(59,130,246,0.12); cursor: pointer; }
        .btn-ghost{ background: transparent; color: var(--muted-2); padding: .45rem .9rem; border-radius: 10px; border: 1px solid var(--border); cursor:pointer; }
        .option-btn{ display:block; width:100%; text-align:left; padding:.75rem 1rem; border-radius:10px; background: rgba(255,255,255,0.02); border:1px solid var(--border); color:var(--muted-2); cursor:pointer; transition: transform 150ms ease, background 150ms ease; }
        .option-btn:hover:not(:disabled){ background: rgba(255,255,255,0.035); transform: translateY(-1px); }
        .option-btn.correct{ background: var(--success) !important; color: #062e1f !important; border-color: rgba(4,120,87,0.18) !important; }
        .option-btn.wrong{ background: var(--danger) !important; color: #fff !important; border-color: rgba(185,28,28,0.18) !important; }
        .option-btn:disabled { cursor: not-allowed; }
        #question-buttons{ display:flex; flex-wrap:wrap; gap:8px; }
        #question-buttons button{ background: transparent; color: var(--muted-2); border:1px solid var(--border); padding:.45rem .6rem; border-radius:8px; cursor:pointer; }
        #question-buttons button.current-question { background-color: rgba(59, 130, 246, 0.2); border-color: var(--accent); }
        #question-buttons button.correct-status { background-color: var(--success); color: #062e1f; border-color: var(--success); }
        #question-buttons button.wrong-status { background-color: var(--danger); color: white; border-color: var(--danger); }
        .feedback-correct{ background: rgba(16,185,129,0.12); border:1px solid rgba(16,185,129,0.22); color: #bbf7d0; padding:12px; border-radius:8px }
        .feedback-wrong{ background: rgba(239,68,68,0.12); border:1px solid rgba(239,68,68,0.22); color: #ffdede; padding:12px; border-radius:8px }
        .celebrate{ animation: pop 480ms cubic-bezier(.2,.9,.3,1); box-shadow: 0 12px 36px rgba(96,165,250,0.18), 0 0 28px rgba(16,185,129,0.12); }
        @keyframes pop{ 0%{ transform: scale(1); } 50%{ transform: scale(1.08); } 100%{ transform: scale(1); } }
        .confetti{ position: fixed; z-index: 9999; pointer-events: none; font-size: 18px; opacity: 1; transform-origin: center; }
        @keyframes confetti-fall { 0%{ transform: translateY(-10vh) rotate(0deg); opacity:1 } 100%{ transform: translateY(100vh) rotate(540deg); opacity:0 } }
        .theme-light{ --bg: #f8fafc; --card: #ffffff; --muted: #475569; --text: #0f1724; --accent: #0284c7; --success: #047857; --danger: #b91c1c; --border: rgba(15,23,42,0.1); --muted-2: rgba(15,23,36,0.85); }
        .topic-section { margin-bottom: 2.5rem; border-left: 3px solid var(--accent); padding-left: 1.5rem; }
        .topic-title { font-size: 1.5rem; font-weight: 700; color: var(--accent); margin-bottom: 1rem; }
        .sub-topic-title { font-size: 1.15rem; font-weight: 600; color: var(--text); margin-top: 1.5rem; margin-bottom: 0.75rem; }
        .topic-section p, .topic-section ul { font-size: 1rem; color: var(--muted-2); line-height: 1.7; text-align: justify; }
        .topic-section ul { list-style-position: inside; list-style-type: disc; margin-top: 0.5rem; padding-left: 1rem;}
        .highlight { background-color: rgba(59, 130, 246, 0.1); padding: 0.2rem 0.4rem; border-radius: 4px; font-weight: 600; color: var(--accent); }
        .difficulty-badge { padding: 0.1rem 0.6rem; border-radius: 99px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; }
        .difficulty-facil { background-color: rgba(52, 211, 153, 0.2); color: #6ee7b7; }
        .difficulty-medio { background-color: rgba(250, 204, 21, 0.2); color: #facc15; }
        .difficulty-dificil { background-color: rgba(248, 113, 113, 0.2); color: #f87171; }
    </style>
</head>
<body class="antialiased">
    <div class="container">
        <header class="page-header">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold">Ci√™ncias ‚Äî 8¬∫ Ano</h1>
                    <p class="text-sm text-slate-400">Guia de estudos completo sobre o Reino Animalia.</p>
                </div>
                <div>
                    <button id="theme-toggle" class="btn-ghost">Tema</button>
                </div>
            </div>
        </header>

        <main class="mt-6">
            <div class="card">
                <nav class="mb-4">
                    <button id="btn-learn" class="btn-primary">Aprender</button>
                    <button id="btn-practice" class="btn-ghost ml-2">Praticar</button>
                </nav>

                <section id="learn-section">
                    <div class="space-y-8">
                        
                        <div class="topic-section">
                            <h2 class="topic-title">Reino Animalia</h2>
                            <p>O Reino Animalia, ou Reino dos Animais, √© um dos mais diversos do planeta. Todos os animais compartilham tr√™s caracter√≠sticas principais: s√£o <span class="highlight">eucariontes</span> (suas c√©lulas t√™m n√∫cleo organizado), <span class="highlight">multicelulares</span> (formados por muitas c√©lulas) e <span class="highlight">heter√≥trofos</span> (n√£o produzem seu pr√≥prio alimento, precisando consumir outros seres vivos).</p>
                            <p>Este reino √© dividido em grandes grupos chamados <span class="highlight">filos</span>. Vamos conhecer os principais:</p>

                            <h3 class="sub-topic-title">Invertebrados</h3>
                            <ul>
                                <li><strong>Por√≠feros:</strong> S√£o as esponjas-do-mar. Animais muito simples, aqu√°ticos e s√©sseis (vivem fixos). Seus corpos s√£o cheios de poros, por onde filtram a √°gua para obter alimento.</li>
                                <li><strong>Cnid√°rios:</strong> Inclui √°guas-vivas, corais e an√™monas. Possuem c√©lulas urticantes chamadas <span class="highlight">cnid√≥citos</span>, usadas para defesa e captura de presas.</li>
                                <li><strong>Platelmintos:</strong> Vermes de corpo achatado, como as plan√°rias e a solit√°ria (t√™nia).</li>
                                <li><strong>Nematelmintos:</strong> Vermes de corpo cil√≠ndrico e alongado, como a lombriga.</li>
                                <li><strong>Moluscos:</strong> Animais de corpo mole, muitos com uma concha protetora. Inclui carac√≥is, ostras, lulas e polvos.</li>
                                <li><strong>Anel√≠deos:</strong> Possuem o corpo formado por an√©is (segmentos). Minhocas e sanguessugas s√£o exemplos.</li>
                                <li><strong>Artr√≥podes:</strong> O maior filo de todos. A principal caracter√≠stica √© o <span class="highlight">exoesqueleto</span> (uma "casca" externa) e as patas articuladas. Se dividem em: Insetos (baratas, borboletas), Aracn√≠deos (aranhas, escorpi√µes), Crust√°ceos (caranguejos, camar√µes), Quil√≥podes (lacraias) e Dipl√≥podes (piolhos-de-cobra).</li>
                                <li><strong>Equinodermos:</strong> Animais marinhos com espinhos na pele. Ex: estrela-do-mar e ouri√ßo-do-mar.</li>
                            </ul>

                            <h3 class="sub-topic-title">Cordados (Vertebrados)</h3>
                            <p>O filo dos Cordados inclui os animais com notocorda, uma estrutura de sustenta√ß√£o que, na maioria, evolui para a <span class="highlight">coluna vertebral</span>. S√£o os vertebrados:</p>
                             <ul>
                                <li><strong>Peixes:</strong> Aqu√°ticos, respiram por br√¢nquias e t√™m o corpo coberto por escamas.</li>
                                <li><strong>Anf√≠bios:</strong> Vivem parte da vida na √°gua (fase larval) e parte na terra (fase adulta). T√™m a pele √∫mida e lisa. Ex: sapos, r√£s.</li>
                                <li><strong>R√©pteis:</strong> Possuem o corpo coberto por escamas ou placas, respira√ß√£o pulmonar e botam ovos com casca. Ex: tartarugas, jacar√©s, cobras.</li>
                                <li><strong>Aves:</strong> T√™m o corpo coberto de penas, ossos ocos (pneum√°ticos), bico e s√£o adaptadas ao voo.</li>
                                <li><strong>Mam√≠feros:</strong> Possuem pelos no corpo e gl√¢ndulas mam√°rias para amamentar os filhotes. N√≥s, seres humanos, pertencemos a esta classe.</li>
                            </ul>
                        </div>
                        
                    </div>
                </section>

                <section id="practice-section" class="hidden">
                     <div class="mb-4 flex justify-end">
                        <button id="order-toggle-btn" class="btn-ghost text-xs">Ordem Crescente</button>
                    </div>
                    <div id="question-buttons" class="mb-4"></div>
                    <div id="quiz-container">
                        </div>
                </section>
            </div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const root = document.documentElement;
        const themeToggle = document.getElementById('theme-toggle');
        const btnLearn = document.getElementById('btn-learn');
        const btnPractice = document.getElementById('btn-practice');
        const learnSection = document.getElementById('learn-section');
        const practiceSection = document.getElementById('practice-section');
        const questionButtons = document.getElementById('question-buttons');
        const quizContainer = document.getElementById('quiz-container');
        const orderToggleBtn = document.getElementById('order-toggle-btn');

        if(!btnLearn || !btnPractice || !learnSection || !practiceSection || !questionButtons || !quizContainer || !orderToggleBtn){
            console.error('Elementos DOM n√£o encontrados.');
            return;
        }

        (function(){
            const t = localStorage.getItem('cmf-science-8ano-theme') || 'dark';
            if(t === 'light') root.classList.add('theme-light');
            themeToggle.addEventListener('click', () => {
                root.classList.toggle('theme-light');
                localStorage.setItem('cmf-science-8ano-theme', root.classList.contains('theme-light') ? 'light' : 'dark');
            });
        })();
        
        const quizData = [
            { topic: 'Caracter√≠sticas Gerais', difficulty: 'F√°cil', q: '1) Qual das seguintes caracter√≠sticas N√ÉO pertence a todos os animais?', options: ['S√£o multicelulares', 'S√£o heter√≥trofos', 'Produzem seu pr√≥prio alimento', 'S√£o eucariontes'], answer: 'Produzem seu pr√≥prio alimento', explanation: 'A produ√ß√£o do pr√≥prio alimento (autotrofia) √© caracter√≠stica de plantas e algas. Animais s√£o heter√≥trofos.'},
            { topic: 'Caracter√≠sticas Gerais', difficulty: 'F√°cil', q: '2) Seres eucariontes s√£o aqueles cujas c√©lulas possuem:', options: ['Parede celular', 'Apenas material gen√©tico disperso', 'N√∫cleo organizado', 'Cloroplastos'], answer: 'N√∫cleo organizado', explanation: 'A presen√ßa de um n√∫cleo delimitado por uma membrana (carioteca) √© a principal caracter√≠stica das c√©lulas eucariontes.'},
            
            // Invertebrados
            { topic: 'Por√≠feros', difficulty: 'F√°cil', q: '3) As esponjas-do-mar, animais s√©sseis e filtradores, pertencem a qual filo?', options: ['Cnidaria', 'Porifera', 'Mollusca', 'Annelida'], answer: 'Porifera', explanation: 'O nome Porifera vem dos in√∫meros poros que esses animais possuem no corpo para filtrar a √°gua.'},
            { topic: 'Cnid√°rios', difficulty: 'M√©dio', q: '4) As c√©lulas urticantes usadas por √°guas-vivas para defesa e captura de presas s√£o chamadas de:', options: ['Poros', 'Cnid√≥citos', 'C√©lulas-flama', 'Esp√≠culas'], answer: 'Cnid√≥citos', explanation: 'Os cnid√≥citos s√£o a caracter√≠stica mais marcante do filo Cnidaria.'},
            { topic: 'Platelmintos', difficulty: 'F√°cil', q: '5) A t√™nia, conhecida como "solit√°ria", √© um verme parasita de corpo achatado. A qual filo ela pertence?', options: ['Nematelmintos', 'Platelmintos', 'Anel√≠deos', 'Moluscos'], answer: 'Platelmintos', explanation: '"Platy" significa chato, e "helminthes" significa verme. S√£o os vermes achatados.'},
            { topic: 'Nematelmintos', difficulty: 'F√°cil', q: '6) A lombriga √© um verme de corpo cil√≠ndrico, n√£o segmentado, que causa a ascarid√≠ase. Ela pertence ao filo:', options: ['Platelmintos', 'Anel√≠deos', 'Nematelmintos', 'Equinodermos'], answer: 'Nematelmintos', explanation: '"Nema" significa fio ou cilindro. S√£o os vermes de corpo cil√≠ndrico.'},
            { topic: 'Moluscos', difficulty: 'F√°cil', q: '7) Polvos, lulas, ostras e carac√≥is s√£o exemplos de animais do filo:', options: ['Mollusca', 'Arthropoda', 'Annelida', 'Cnidaria'], answer: 'Mollusca', explanation: 'Todos eles possuem corpo mole, caracter√≠stica que d√° nome ao filo (Mollusca).'},
            { topic: 'Anel√≠deos', difficulty: 'F√°cil', q: '8) As minhocas s√£o muito importantes para o solo e possuem o corpo dividido em an√©is. Elas s√£o do filo:', options: ['Nematelmintos', 'Moluscos', 'Anel√≠deos', 'Platelmintos'], answer: 'Anel√≠deos', explanation: 'A principal caracter√≠stica dos anel√≠deos √© o corpo segmentado em an√©is.'},
            { topic: 'Artr√≥podes', difficulty: 'F√°cil', q: '9) O exoesqueleto de quitina e as patas articuladas s√£o caracter√≠sticas marcantes de qual filo?', options: ['Moluscos', 'Equinodermos', 'Cordados', 'Artr√≥podes'], answer: 'Artr√≥podes', explanation: '"Arthro" significa articula√ß√£o e "podos" significa p√©s/patas. √â o maior filo animal.'},
            { topic: 'Artr√≥podes', difficulty: 'M√©dio', q: '10) Aranhas e escorpi√µes, que possuem 4 pares de patas e n√£o t√™m antenas, pertencem √† classe dos:', options: ['Insetos', 'Crust√°ceos', 'Aracn√≠deos', 'Quil√≥podes'], answer: 'Aracn√≠deos', explanation: 'A aus√™ncia de antenas e a presen√ßa de 8 patas s√£o caracter√≠sticas dos aracn√≠deos.'},
            { topic: 'Artr√≥podes', difficulty: 'M√©dio', q: '11) Um animal com 3 pares de patas, um par de antenas e o corpo dividido em cabe√ßa, t√≥rax e abdome √© um(a):', options: ['Crust√°ceo', 'Aracn√≠deo', 'Inseto', 'Miri√°pode'], answer: 'Inseto', explanation: 'Essa √© a descri√ß√£o cl√°ssica da estrutura corporal de um inseto.'},
            { topic: 'Artr√≥podes', difficulty: 'M√©dio', q: '12) Camar√µes e caranguejos s√£o artr√≥podes que vivem principalmente em ambiente aqu√°tico e respiram por br√¢nquias. Eles s√£o da classe dos:', options: ['Insetos', 'Crust√°ceos', 'Aracn√≠deos', 'Dipl√≥podes'], answer: 'Crust√°ceos', explanation: 'A maioria dos crust√°ceos √© aqu√°tica e possui dois pares de antenas.'},
            { topic: 'Equinodermos', difficulty: 'F√°cil', q: '13) Estrelas-do-mar e ouri√ßos-do-mar s√£o animais exclusivamente marinhos com espinhos na pele. Pertencem ao filo:', options: ['Porifera', 'Mollusca', 'Cnidaria', 'Echinodermata'], answer: 'Echinodermata', explanation: '"Echino" significa espinho e "derma" significa pele.'},

            // Vertebrados
            { topic: 'Cordados - Vertebrados', difficulty: 'F√°cil', q: '14) Qual √© a estrutura de sustenta√ß√£o que caracteriza o filo dos Cordados e que evolui para a coluna vertebral na maioria deles?', options: ['Exoesqueleto', 'Notocorda', 'Concha', 'Cr√¢nio'], answer: 'Notocorda', explanation: 'A notocorda √© um bast√£o flex√≠vel presente em todos os cordados, pelo menos na fase embrion√°ria.'},
            { topic: 'Peixes', difficulty: 'F√°cil', q: '15) A respira√ß√£o atrav√©s de br√¢nquias e o corpo coberto por escamas s√£o caracter√≠sticas de qual grupo de vertebrados?', options: ['Anf√≠bios', 'R√©pteis', 'Peixes', 'Mam√≠feros'], answer: 'Peixes', explanation: 'Essas s√£o adapta√ß√µes cl√°ssicas ao modo de vida aqu√°tico.'},
            { topic: 'Anf√≠bios', difficulty: 'M√©dio', q: '16) Sapos e r√£s passam por uma metamorfose, tendo uma fase larval aqu√°tica (girino) e uma fase adulta terrestre. Por isso, s√£o classificados como:', options: ['R√©pteis', 'Anf√≠bios', 'Peixes', 'Aves'], answer: 'Anf√≠bios', explanation: '"Anfi" significa duas e "bio" significa vida, referindo-se a essa "vida dupla" na √°gua e na terra.'},
            { topic: 'R√©pteis', difficulty: 'M√©dio', q: '17) A conquista definitiva do ambiente terrestre pelos vertebrados foi poss√≠vel com o surgimento do ovo com casca, uma caracter√≠stica de qual grupo?', options: ['Anf√≠bios', 'Peixes', 'R√©pteis', 'Mam√≠feros'], answer: 'R√©pteis', explanation: 'O ovo com casca protege o embri√£o da desseca√ß√£o, permitindo a reprodu√ß√£o fora da √°gua.'},
            { topic: 'Aves', difficulty: 'F√°cil', q: '18) Corpo coberto de penas, ossos pneum√°ticos (ocos) e bico s√£o adapta√ß√µes para o voo presentes nas:', options: ['Aves', 'R√©pteis', 'Anf√≠bios', 'Mam√≠feros'], answer: 'Aves', explanation: 'Todas essas caracter√≠sticas contribuem para diminuir o peso e facilitar o voo.'},
            { topic: 'Mam√≠feros', difficulty: 'F√°cil', q: '19) A presen√ßa de pelos e gl√¢ndulas mam√°rias para amamentar os filhotes s√£o caracter√≠sticas exclusivas dos:', options: ['R√©pteis', 'Aves', 'Mam√≠feros', 'Anf√≠bios'], answer: 'Mam√≠feros', explanation: 'A amamenta√ß√£o √© a caracter√≠stica que d√° nome √† classe dos mam√≠feros.'},
            
            // Revis√£o Geral
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '20) Qual dos grupos de invertebrados abaixo √© o mais pr√≥ximo evolutivamente dos cordados?', options: ['Artr√≥podes', 'Moluscos', 'Equinodermos', 'Anel√≠deos'], answer: 'Equinodermos', explanation: 'Apesar das apar√™ncias, estudos embrion√°rios mostram que equinodermos e cordados compartilham um ancestral comum mais recente.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '21) Qual √© o √∫nico filo animal cujos membros s√£o s√©sseis na fase adulta?', options: ['Cnid√°rios', 'Por√≠feros', 'Moluscos', 'Platelmintos'], answer: 'Por√≠feros', explanation: 'As esponjas vivem fixas a um substrato durante toda a sua vida adulta.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '22) A segmenta√ß√£o do corpo (metameria) √© uma caracter√≠stica marcante em qual filo?', options: ['Platelmintos', 'Nematelmintos', 'Anel√≠deos', 'Moluscos'], answer: 'Anel√≠deos', explanation: 'O corpo das minhocas, por exemplo, √© visivelmente formado pela repeti√ß√£o de segmentos ou an√©is.'},
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '23) Um animal que n√£o possui tecidos verdadeiros e se alimenta por filtra√ß√£o √© um:', options: ['Cnid√°rio', 'Por√≠fero', 'Platelminto', 'Equinodermo'], answer: 'Por√≠fero', explanation: 'As esponjas s√£o os √∫nicos animais que n√£o possuem tecidos e √≥rg√£os definidos.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '24) Qual caracter√≠stica permitiu aos artr√≥podes um grande sucesso evolutivo e a conquista de diversos ambientes?', options: ['Corpo mole', 'Aus√™ncia de patas', 'Exoesqueleto resistente e patas articuladas', 'Respira√ß√£o por br√¢nquias'], answer: 'Exoesqueleto resistente e patas articuladas', explanation: 'O exoesqueleto protege contra predadores e a desidrata√ß√£o, enquanto as patas articuladas permitem uma locomo√ß√£o eficiente.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '25) A transi√ß√£o da respira√ß√£o branquial para a pulmonar durante a vida √© observada em:', options: ['R√©pteis', 'Aves', 'Anf√≠bios', 'Peixes'], answer: 'Anf√≠bios', explanation: 'O girino tem respira√ß√£o branquial, e o sapo adulto tem respira√ß√£o pulmonar e cut√¢nea.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '26) Tartarugas e cobras pertencem √† mesma classe. Qual?', options: ['Anf√≠bios', 'R√©pteis', 'Aves', 'Peixes'], answer: 'R√©pteis', explanation: 'Ambos s√£o r√©pteis, caracterizados pelo corpo com escamas ou placas e ovos com casca.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '27) Um ser humano, um c√£o e uma baleia pertencem √† mesma classe. Qual?', options: ['Aves', 'Peixes', 'R√©pteis', 'Mam√≠feros'], answer: 'Mam√≠feros', explanation: 'Todos possuem pelos (mesmo que vestigiais, como nas baleias) e gl√¢ndulas mam√°rias.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '28) A principal diferen√ßa entre insetos e aracn√≠deos √©:', options: ['O n√∫mero de patas e a presen√ßa de antenas', 'O tipo de alimenta√ß√£o', 'O habitat em que vivem', 'A presen√ßa de exoesqueleto'], answer: 'O n√∫mero de patas e a presen√ßa de antenas', explanation: 'Insetos t√™m 6 patas e antenas; aracn√≠deos t√™m 8 patas e n√£o possuem antenas.'},
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '29) Qual dos animais abaixo √© um molusco sem concha externa evidente?', options: ['Caracol', 'Ostra', 'Polvo', 'Marisco'], answer: 'Polvo', explanation: 'Polvos e lulas s√£o moluscos cefal√≥podes que possuem uma concha interna reduzida ou ausente.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '30) Animais de sangue frio (pecilot√©rmicos) que dependem da temperatura externa para se aquecer s√£o principalmente:', options: ['Aves e mam√≠feros', 'R√©pteis e anf√≠bios', 'Apenas aves', 'Apenas mam√≠feros'], answer: 'R√©pteis e anf√≠bios', explanation: 'Diferente de aves e mam√≠feros (endot√©rmicos), eles n√£o produzem calor internamente para manter a temperatura corporal constante.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '31) Qual o animal que N√ÉO pertence ao grupo dos artr√≥podes?', options: ['Formiga', 'Caranguejo', 'Minhoca', 'Escorpi√£o'], answer: 'Minhoca', explanation: 'A minhoca √© um anel√≠deo, pois seu corpo √© formado por an√©is.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '32) A capacidade de voo evoluiu de forma independente em quais grupos de vertebrados?', options: ['Peixes, anf√≠bios e r√©pteis', 'R√©pteis (pterossauros), aves e mam√≠feros (morcegos)', 'Apenas em aves', 'Anf√≠bios e aves'], answer: 'R√©pteis (pterossauros), aves e mam√≠feros (morcegos)', explanation: 'O voo surgiu separadamente em diferentes linhagens ao longo da evolu√ß√£o dos vertebrados.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '33) Qual desses animais N√ÉO √© um mam√≠fero?', options: ['Morcego', 'Baleia', 'Pinguim', 'Ornitorrinco'], answer: 'Pinguim', explanation: 'O pinguim √© uma ave, apesar de n√£o voar. O ornitorrinco √© um mam√≠fero que bota ovos.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '34) Corais, que formam grandes recifes, s√£o col√¥nias de animais do filo:', options: ['Porifera', 'Cnidaria', 'Mollusca', 'Echinodermata'], answer: 'Cnidaria', explanation: 'Os recifes de coral s√£o formados por milhares de pequenos p√≥lipos de cnid√°rios.'},
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '35) O que a minhoca e a sanguessuga t√™m em comum?', options: ['S√£o parasitas', 'Possuem corpo achatado', 'Pertencem ao filo Annelida', 'Vivem apenas em √°gua doce'], answer: 'Pertencem ao filo Annelida', explanation: 'Ambos possuem o corpo segmentado em an√©is, caracter√≠stica principal do filo.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '36) O ser humano pertence √† ordem dos Primatas, classe dos Mam√≠feros e filo dos:', options: ['Artr√≥podes', 'Cordados', 'Anel√≠deos', 'Equinodermos'], answer: 'Cordados', explanation: 'Como possu√≠mos coluna vertebral (originada da notocorda), somos classificados como cordados.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '37) Qual animal abaixo √© um invertebrado?', options: ['Sapo', 'Cobra', 'Tubar√£o', 'Lula'], answer: 'Lula', explanation: 'A lula √© um molusco, portanto, n√£o possui coluna vertebral.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '38) A caracter√≠stica de ter o corpo dividido em cabe√ßa, t√≥rax e abdome √© exclusiva de qual grupo?', options: ['Aracn√≠deos', 'Crust√°ceos', 'Insetos', 'Todos os artr√≥podes'], answer: 'Insetos', explanation: 'Essa divis√£o corporal √© a marca registrada da classe Insecta.'},
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '39) Qual filo animal √© o primeiro na escala evolutiva a apresentar um sistema digest√≥rio completo (com boca e √¢nus)?', options: ['Por√≠feros', 'Cnid√°rios', 'Platelmintos', 'Nematelmintos'], answer: 'Nematelmintos', explanation: 'Os nematelmintos foram os pioneiros a desenvolver um tubo digest√≥rio completo, o que foi um grande avan√ßo evolutivo.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '40) Qual das alternativas cont√©m apenas r√©pteis?', options: ['Sapo, tartaruga, r√£', 'Cobra, lagarto, jacar√©', 'Salamandra, cobra, lagarto', 'Jacar√©, pinguim, tartaruga'], answer: 'Cobra, lagarto, jacar√©', explanation: 'Sapo, r√£ e salamandra s√£o anf√≠bios. Pinguim √© uma ave.'}
        ];

        let questionOrder = quizData.map((_,i)=>i);
        let currentIndex = 0;
        let questionStatus = Array(quizData.length).fill(null);
        let quizStarted = false;
        let isRandomOrder = false; 

        orderToggleBtn.addEventListener('click', () => {
            isRandomOrder = !isRandomOrder; 
            orderToggleBtn.textContent = isRandomOrder ? 'Ordem Aleat√≥ria' : 'Ordem Crescente';
            startQuiz();
        });

        function switchView(view){
            if(view==='learn'){
                practiceSection.classList.add('hidden');
                learnSection.classList.remove('hidden');
                btnLearn.classList.replace('btn-ghost', 'btn-primary');
                btnPractice.classList.replace('btn-primary', 'btn-ghost');
            } else {
                learnSection.classList.add('hidden');
                practiceSection.classList.remove('hidden');
                btnPractice.classList.replace('btn-ghost', 'btn-primary');
                btnLearn.classList.replace('btn-primary', 'btn-ghost');
                if (!quizStarted) {
                    startQuiz();
                    quizStarted = true;
                }
            }
        }

        btnLearn.addEventListener('click', () => switchView('learn'));
        btnPractice.addEventListener('click', () => switchView('practice'));

        function renderQuestionButtons(){
            questionButtons.innerHTML='';
            quizData.forEach((_,originalIndex)=>{
                const b = document.createElement('button');
                b.textContent = (originalIndex + 1);
                b.setAttribute('data-original-index', String(originalIndex));
                b.title = `Ir para a quest√£o ${originalIndex+1}`;
                b.onclick = ()=>{
                    const pos = questionOrder.indexOf(originalIndex);
                    if(pos >= 0){ currentIndex = pos; showQuestion(); }
                };
                if(questionStatus[originalIndex]==='correct') b.classList.add('correct-status');
                if(questionStatus[originalIndex]==='wrong') b.classList.add('wrong-status');
                
                if (quizStarted) {
                    const currentQuestionOriginalIndex = questionOrder[currentIndex];
                    if(originalIndex === currentQuestionOriginalIndex) {
                        b.classList.add('current-question');
                    }
                }
                
                questionButtons.appendChild(b);
            });
        }

        const questionInfoContainer = document.createElement('div');
        questionInfoContainer.className = 'flex justify-between items-center mb-2';
        const questionTopic = document.createElement('p');
        questionTopic.className='text-sm font-semibold text-[var(--accent)]';
        const questionDifficulty = document.createElement('span');
        
        const questionText = document.createElement('p');
        questionText.className='text-xl mt-2';
        const optionsContainer = document.createElement('div');
        optionsContainer.className='mt-4 grid gap-3';
        const feedbackContainer = document.createElement('div');
        const nextBtn = document.createElement('button');
        nextBtn.className='btn-primary mt-4'; nextBtn.textContent='Pr√≥xima';
        const redoBtn = document.createElement('button');
        redoBtn.className='btn-ghost mt-4 ml-3'; redoBtn.textContent='Refazer';

        questionInfoContainer.appendChild(questionTopic);
        questionInfoContainer.appendChild(questionDifficulty);
        quizContainer.appendChild(questionInfoContainer);
        quizContainer.appendChild(questionText);
        quizContainer.appendChild(optionsContainer);
        quizContainer.appendChild(feedbackContainer);
        quizContainer.appendChild(nextBtn);
        quizContainer.appendChild(redoBtn);

        function startQuiz(){
            if (isRandomOrder) {
                shuffleArray(questionOrder);
            } else {
                questionOrder = quizData.map((_, i) => i);
            }
            currentIndex = 0;
            questionStatus.fill(null);
            showQuestion();
        }

        function showQuestion(){
            if (currentIndex >= questionOrder.length) {
                showFinalResults();
                return;
            }
        
            const qIdx = questionOrder[currentIndex];
            const qObj = quizData[qIdx];
            
            questionTopic.textContent = qObj.topic;
            questionDifficulty.textContent = qObj.difficulty;
            questionDifficulty.className = `difficulty-badge difficulty-${qObj.difficulty.toLowerCase()}`;
            
            questionText.innerHTML = `${qIdx + 1}) ${qObj.q.replace(/^[\s\d\)\(\.\:\-‚Äì‚Äî_]+/,'').trim()}`;
            
            optionsContainer.innerHTML='';
            feedbackContainer.innerHTML='';
            redoBtn.classList.add('hidden');
            nextBtn.disabled = true;

            qObj.options.forEach(opt =>{
                const b = document.createElement('button');
                b.className='option-btn'; b.textContent=opt;
                b.onclick = ()=> selectAnswer(b,opt,qObj.answer,qObj.explanation,qIdx);
                optionsContainer.appendChild(b);
            });

            renderQuestionButtons();
        }
        
        function showFinalResults() {
            const correctCount = questionStatus.filter(s => s === 'correct').length;
            const total = quizData.length;
            questionInfoContainer.classList.add('hidden');
            questionText.innerHTML = `üéâ Fim do Quiz! üéâ`;
            optionsContainer.innerHTML = `<p class="text-center text-lg">Voc√™ acertou ${correctCount} de ${total} quest√µes.</p>`;
            feedbackContainer.innerHTML = '';
            nextBtn.textContent = 'Recome√ßar Quiz';
            nextBtn.disabled = false;
            nextBtn.onclick = () => {
                questionInfoContainer.classList.remove('hidden');
                quizStarted = false;
                startQuiz(); 
                quizStarted = true;
            };
            redoBtn.classList.add('hidden');
        }

        function selectAnswer(btn,opt,correct,explanation,qIdx){
            Array.from(optionsContainer.children).forEach(b=>b.disabled=true);
            nextBtn.disabled = false;

            if(opt===correct){
                btn.classList.add('celebrate','correct');
                createConfetti();
                questionStatus[qIdx]='correct';
                feedbackContainer.className='feedback-correct mt-4';
                feedbackContainer.textContent = 'Correto! ' + (explanation || '');
            } else {
                btn.classList.add('wrong');
                questionStatus[qIdx]='wrong';
                feedbackContainer.className='feedback-wrong mt-4';
                feedbackContainer.innerHTML = `<strong>Errado.</strong> Resposta correta: <strong>${correct}</strong>.`;
                if(explanation) feedbackContainer.innerHTML += `<div class="mt-2 text-sm">${explanation}</div>`;
                
                Array.from(optionsContainer.children).forEach(b=>{
                    if(b.textContent === correct) b.classList.add('correct');
                });
                redoBtn.classList.remove('hidden');
            }
            renderQuestionButtons();
        }

        nextBtn.addEventListener('click', ()=>{
            if(currentIndex < questionOrder.length-1){ 
                currentIndex++; 
                showQuestion(); 
            } else { 
                currentIndex++;
                showFinalResults();
            }
        });

        redoBtn.addEventListener('click', ()=>{
            const currentQuestionIndex = questionOrder[currentIndex];
            questionStatus[currentQuestionIndex] = null;
            showQuestion();
        });

        function shuffleArray(a){
            for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; }
        }

        function createConfetti(){
            const colors = ['#f59e0b','#ef4444','#10b981','#3b82f6','#8b5cf6'];
            for(let i=0;i<12;i++){
                const el = document.createElement('div');
                el.className='confetti';
                el.style.left = (30 + Math.random()*40) + '%';
                el.style.top = (10 + Math.random()*10) + 'vh';
                el.style.color = colors[Math.floor(Math.random()*colors.length)];
                el.textContent = 'üéâ';
                el.style.transform = `rotate(${Math.random()*360}deg)`;
                el.style.animation = `confetti-fall ${1.2 + Math.random()*1}s linear forwards`;
                document.body.appendChild(el);
                setTimeout(()=> el.remove(), 2200);
            }
        }
        
        switchView('learn');
    });
    </script>
</body>
</html>
