<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ci√™ncias 7¬∫ Ano - Seres Vivos e Sa√∫de: Aprenda e Pratique</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .tab-button.active {
            background-color: #0369a1; /* Sky-700 */
            color: white;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }
        .accordion-button.open + .accordion-content {
            max-height: 4000px; /* Increased max-height for potentially longer content */
        }
        .quiz-option:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        .correct-answer {
            background-color: #10b981 !important; /* Emerald-500 */
            color: white !important;
            border-color: #059669 !important; /* Emerald-600 */
        }
        .wrong-answer {
            background-color: #ef4444 !important; /* Red-500 */
            color: white !important;
            border-color: #dc2626 !important; /* Red-600 */
        }
        .content-text { /* General text styling for readability */
            font-size: 1rem;
            line-height: 1.6;
        }
        .term-highlight {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f3f4f6; /* gray-100 */
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.95rem;
        }
        .example-diagram {
            font-style: italic;
            color: #075985; /* sky-800 for example sentences */
            margin-left: 1rem;
            display: block;
            margin-top: 0.5rem;
        }
         .quiz-question-text {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals with Sky Blue accent (Consistent with previous apps) -->
    <!-- Application Structure Plan: Two-section SPA. 'Aprender' section uses an accordion for step-by-step explanations of Biology concepts (classification, viruses, kingdoms), relevant to 7th grade. 'Praticar' section is an interactive quiz with immediate feedback and score tracking. This structure separates learning from application, aiding comprehension and retention. Navigation is via two main buttons. -->
    <!-- Visualization & Content Choices: Report Info: Simplified biology concepts (classification, viruses, kingdoms, health) for 7th grade -> Goal: Inform/Organize -> Viz/Presentation: Accordion in 'Aprender'. Interaction: Expand/collapse. Justification: Breaks down biological information into digestible steps. Report Info: Age-appropriate biology problems & solutions -> Goal: Test knowledge/Compare -> Viz/Presentation: Interactive quiz in 'Praticar'. Interaction: Clickable answers, feedback, score. Justification: Active learning, immediate reinforcement. Library/Method: Vanilla JS & Tailwind CSS. Content presented as styled text. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-stone-100 text-slate-800">

    <div class="container mx-auto max-w-4xl p-4 sm:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-sky-800">Ci√™ncias - 7¬∫ Ano: Seres Vivos e Sa√∫de</h1>
            <p class="text-slate-600 mt-2">Aprenda sobre a classifica√ß√£o da vida, os reinos e os seres microsc√≥picos!</p>
        </header>

        <nav class="flex justify-center mb-8 bg-white p-2 rounded-lg shadow-sm">
            <button id="btn-learn" class="tab-button active flex-1 sm:flex-none text-center py-2 px-6 font-semibold rounded-md transition-colors duration-300">Aprender</button>
            <button id="btn-practice" class="tab-button flex-1 sm:flex-none text-center py-2 px-6 font-semibold rounded-md transition-colors duration-300">Praticar</button>
        </nav>

        <main>
            <section id="learn-section">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-2xl font-bold mb-4 text-sky-700">Explorando a Diversidade da Vida</h2>
                    <p class="mb-6 content-text">O nosso planeta √© cheio de vida! Para entender essa imensa variedade, os cientistas organizam os seres vivos em grupos. Vamos descobrir como essa classifica√ß√£o funciona e conhecer os principais reinos.</p>
                    
                    <div id="accordion-container" class="space-y-3">
                    </div>

                    <div class="mt-6 p-4 bg-sky-50 border border-sky-200 rounded-lg">
                        <h3 class="font-bold text-lg text-sky-800">üí° Fique Ligado!</h3>
                        <ul class="list-disc list-inside mt-2 space-y-1 text-slate-700 content-text">
                            <li><strong class="font-semibold">Classificar √© Organizar:</strong> A classifica√ß√£o ajuda a entender as semelhan√ßas e diferen√ßas entre os seres vivos.</li>
                            <li><strong class="font-semibold">Cinco Grandes Reinos:</strong> Monera, Protoctista (Protista), Fungi, Plantae e Animalia.</li>
                            <li><strong class="font-semibold">V√≠rus s√£o diferentes:</strong> Eles n√£o pertencem a nenhum reino, pois n√£o s√£o formados por c√©lulas.</li>
                            <li><strong class="font-semibold">Microsc√≥picos, mas importantes:</strong> Bact√©rias, fungos, protozo√°rios e algas t√™m pap√©is essenciais na natureza e na nossa vida.</li>
                            <li><strong class="font-semibold">Preven√ß√£o √© o melhor rem√©dio:</strong> Vacina√ß√£o e saneamento b√°sico s√£o fundamentais para evitar doen√ßas causadas por seres microsc√≥picos.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="practice-section" class="hidden">
                 <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-2xl font-bold mb-2 text-sky-700">Hora de Praticar para a Prova!</h2>
                    <p class="mb-6 content-text">Resolva os problemas abaixo para testar seus conhecimentos sobre classifica√ß√£o dos seres vivos, reinos, v√≠rus e sa√∫de.</p>

                    <div id="quiz-container">
                        <p id="question-progress" class="text-center font-semibold text-slate-600 mb-4"></p>
                        <div id="question-area" class="bg-stone-50 p-6 rounded-lg border border-stone-200 text-center">
                            <!-- Question text will be injected here -->
                        </div>
                        <div id="options-container" class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6">
                            <!-- Options will be injected here -->
                        </div>
                        <div id="feedback-container" class="mt-4 p-4 rounded-lg text-center hidden">
                            <p id="feedback-text" class="font-semibold"></p>
                            <p id="feedback-explanation" class="text-sm mt-1"></p>
                        </div>
                        <div class="text-center mt-6">
                            <button id="next-question-btn" class="hidden py-2 px-8 bg-sky-600 text-white font-semibold rounded-lg shadow-md hover:bg-sky-700 transition-colors">Pr√≥xima</button>
                        </div>
                    </div>
                    
                    <div id="score-container" class="hidden text-center py-8">
                        <h3 class="text-2xl font-bold text-sky-800">Quiz Finalizado!</h3>
                        <p id="score-text" class="text-lg mt-2"></p>
                        <div id="score-visual" class="w-full bg-stone-200 rounded-full h-4 my-4 overflow-hidden">
                            <div id="score-bar" class="bg-emerald-500 h-4 rounded-full transition-all duration-500"></div>
                        </div>
                        <button id="restart-quiz-btn" class="mt-6 py-2 px-8 bg-sky-600 text-white font-semibold rounded-lg shadow-md hover:bg-sky-700 transition-colors">Tentar Novamente</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const learnSection = document.getElementById('learn-section');
            const practiceSection = document.getElementById('practice-section');
            const btnLearn = document.getElementById('btn-learn');
            const btnPractice = document.getElementById('btn-practice');

            const accordionContainer = document.getElementById('accordion-container');
            const quizContainer = document.getElementById('quiz-container');
            const scoreContainer = document.getElementById('score-container');
            const questionProgress = document.getElementById('question-progress');
            const questionArea = document.getElementById('question-area'); 
            const optionsContainer = document.getElementById('options-container');
            const feedbackContainer = document.getElementById('feedback-container');
            const feedbackText = document.getElementById('feedback-text');
            const feedbackExplanation = document.getElementById('feedback-explanation');
            const nextQuestionBtn = document.getElementById('next-question-btn');
            const restartQuizBtn = document.getElementById('restart-quiz-btn');
            const scoreTextElement = document.getElementById('score-text');
            const scoreBar = document.getElementById('score-bar');

            const learnData = [
                {
                    title: '1. Classifica√ß√£o dos Seres Vivos',
                    content: 'Classificar os seres vivos √© uma forma de <strong>organiz√°-los em grupos</strong> de acordo com suas semelhan√ßas e diferen√ßas. Isso ajuda os cientistas a estudar e entender a enorme diversidade de vida na Terra.<br><br><strong>Lineu</strong> foi um cientista muito importante que criou um sistema de classifica√ß√£o com categorias hier√°rquicas (Reino, Filo, Classe, Ordem, Fam√≠lia, G√™nero e Esp√©cie) e a <strong>nomenclatura cient√≠fica binomial</strong>, onde cada ser vivo recebe um nome duplo em latim (Ex: <em>Homo sapiens</em>).'
                },
                {
                    title: '2. V√≠rus: Fora dos Reinos',
                    content: 'V√≠rus s√£o seres muito simples e peculiares. Eles s√£o <strong>acelulares</strong>, ou seja, n√£o s√£o formados por c√©lulas. Consistem basicamente em material gen√©tico (DNA ou RNA) envolto por uma c√°psula de prote√≠na chamada <strong>caps√≠deo</strong>.<br><br>Por n√£o terem metabolismo pr√≥prio, eles s√£o considerados <strong>parasitas intracelulares obrigat√≥rios</strong>, o que significa que eles precisam invadir uma c√©lula viva para conseguir se reproduzir. Doen√ßas causadas por v√≠rus s√£o chamadas de <strong>viroses</strong> (ex: gripe, dengue, sarampo, COVID-19), e a <strong>vacina√ß√£o</strong> √© a principal forma de preven√ß√£o.'
                },
                {
                    title: '3. Reino Monera: As Bact√©rias',
                    content: 'Este reino √© formado por seres <strong>unicelulares</strong> (uma √∫nica c√©lula) e <strong>procariontes</strong> (c√©lula sem n√∫cleo organizado). Os principais representantes s√£o as <strong>bact√©rias</strong>.<br><br><ul><li><strong>Estrutura:</strong> Simples, com material gen√©tico solto no citoplasma.</li><li><strong>Import√¢ncia:</strong> Possuem grande import√¢ncia ecol√≥gica, atuando como <strong>decompositoras</strong> (reciclando mat√©ria org√¢nica). Tamb√©m s√£o usadas na produ√ß√£o de alimentos (iogurtes, queijos) e medicamentos. Algumas podem causar doen√ßas.</li></ul>'
                },
                {
                    title: '4. Reino Protoctista (ou Protista)',
                    content: '√â um reino muito diverso, com seres <strong>eucariontes</strong> (c√©lula com n√∫cleo organizado). Inclui dois grandes grupos:<br><br><ul><li><strong>Algas:</strong> S√£o seres <strong>autotr√≥ficos</strong> (produzem seu pr√≥prio alimento pela fotoss√≠ntese). A maioria √© aqu√°tica e s√£o respons√°veis por grande parte da produ√ß√£o de oxig√™nio do planeta.</li><li><strong>Protozo√°rios:</strong> S√£o seres <strong>heterotr√≥ficos</strong> (n√£o produzem seu pr√≥prio alimento). A maioria √© unicelular e se locomove de diferentes formas (usando c√≠lios, flagelos ou pseud√≥podes). Alguns podem causar doen√ßas como a Doen√ßa de Chagas e a mal√°ria.</li></ul>'
                },
                {
                    title: '5. Reino Fungi: Os Fungos',
                    content: 'Este reino inclui os cogumelos, bolores, orelhas-de-pau e leveduras. S√£o seres <strong>eucariontes</strong> e <strong>heterotr√≥ficos por absor√ß√£o</strong> (soltam enzimas no ambiente e absorvem os nutrientes).<br><br><ul><li><strong>Import√¢ncia:</strong> Assim como as bact√©rias, s√£o excelentes <strong>decompositores</strong>. S√£o usados na produ√ß√£o de p√£es, bebidas alco√≥licas, queijos e antibi√≥ticos (como a penicilina). Alguns podem causar doen√ßas chamadas micoses.</li><li><strong>Reprodu√ß√£o:</strong> Geralmente se reproduzem por meio de <strong>esporos</strong>.</li></ul>'
                },
                 {
                    title: '6. Reinos Plantae e Animalia',
                    content: 'Esses s√£o os reinos mais conhecidos por n√≥s!<br><br><strong>Reino Plantae (Plantas):</strong> Formado por seres <strong>eucariontes, multicelulares e autotr√≥ficos fotossintetizantes</strong>. S√£o a base de muitas cadeias alimentares.<br><br><strong>Reino Animalia (Animais):</strong> Formado por seres <strong>eucariontes, multicelulares e heterotr√≥ficos por ingest√£o</strong>. Possuem grande capacidade de locomo√ß√£o e sistemas nervosos complexos.'
                },
                {
                    title: '7. Ambiente, Sa√∫de e Seres Microsc√≥picos',
                    content: 'Muitas doen√ßas s√£o causadas por seres microsc√≥picos (v√≠rus, bact√©rias, protozo√°rios, fungos). A transmiss√£o dessas doen√ßas muitas vezes est√° ligada √†s condi√ß√µes do ambiente.<br><br>Fatores como <strong>falta de saneamento b√°sico, √°gua n√£o tratada e ac√∫mulo de lixo</strong> favorecem a prolifera√ß√£o de vetores (como o mosquito da dengue) e de micro-organismos causadores de doen√ßas como c√≥lera e leptospirose.<br><br>Por isso, al√©m da <strong>vacina√ß√£o</strong>, cuidar do meio ambiente e ter bons h√°bitos de higiene s√£o fundamentais para a sa√∫de de todos.'
                }
            ];

            const quizData = [
                { question: "Por que √© importante classificar os seres vivos?", answer: "Para organizar e facilitar o estudo da diversidade da vida.", options: ["Para dar nomes mais complicados.", "Para saber quais s√£o comest√≠veis.", "Para organizar e facilitar o estudo da diversidade da vida.", "Para separar os animais por cor."], explanation: "A classifica√ß√£o ajuda os cientistas a organizar a imensa variedade de seres vivos, entendendo suas rela√ß√µes e facilitando os estudos." },
                { question: "O que s√£o crit√©rios de classifica√ß√£o?", answer: "Caracter√≠sticas usadas para agrupar os seres vivos.", options: ["Os nomes cient√≠ficos.", "Apenas o tamanho e o peso.", "Caracter√≠sticas usadas para agrupar os seres vivos.", "O local onde o ser vivo foi encontrado."], explanation: "Crit√©rios s√£o caracter√≠sticas como estrutura celular, modo de alimenta√ß√£o e reprodu√ß√£o, usados para agrupar os seres." },
                { question: "Quem foi Lineu e qual sua principal contribui√ß√£o?", answer: "Criou o sistema de classifica√ß√£o binomial e categorias hier√°rquicas.", options: ["Descobriu os v√≠rus.", "Criou a teoria da evolu√ß√£o.", "Criou o sistema de classifica√ß√£o binomial e categorias hier√°rquicas.", "Inventou o microsc√≥pio."], explanation: "Lineu √© considerado o 'pai da taxonomia' por criar o sistema de nomenclatura e as categorias como Reino, Filo, Classe, etc." },
                { question: "O que √© a nomenclatura cient√≠fica binomial?", answer: "Um sistema com dois nomes em latim para cada esp√©cie: G√™nero e ep√≠teto espec√≠fico.", options: ["Um sistema com dois nomes em latim para cada esp√©cie: G√™nero e ep√≠teto espec√≠fico.", "Um nome popular e um nome cient√≠fico.", "O nome do Reino e da Classe do ser vivo.", "Um sistema com tr√™s nomes em ingl√™s."], explanation: "O sistema binomial usa dois nomes em latim (G√™nero com letra mai√∫scula e ep√≠teto espec√≠fico com min√∫scula) para identificar universalmente uma esp√©cie." },
                { question: "Quais s√£o os principais reinos dos seres vivos?", answer: "Monera, Protista, Fungi, Plantae e Animalia.", options: ["Bact√©ria, V√≠rus, Fungo, Planta, Animal.", "Monera, Protista, Fungi, Plantae e Animalia.", "Procarionte, Eucarionte, V√≠rus, Planta, Animal.", "Vertebrados, Invertebrados, Plantas, Fungos, Bact√©rias."], explanation: "A classifica√ß√£o mais tradicional divide os seres vivos nesses cinco grandes reinos." },
                { question: "Qual a principal caracter√≠stica dos v√≠rus que os diferencia dos outros seres vivos?", answer: "S√£o acelulares (n√£o possuem c√©lulas).", options: ["S√£o todos mortais.", "S√£o procariontes.", "S√£o acelulares (n√£o possuem c√©lulas).", "S√£o autotr√≥ficos."], explanation: "V√≠rus n√£o s√£o formados por c√©lulas, consistindo basicamente em material gen√©tico e uma c√°psula de prote√≠na." },
                { question: "Como os v√≠rus se reproduzem?", answer: "Invadindo uma c√©lula hospedeira para usar sua maquinaria celular.", options: ["Por divis√£o bin√°ria.", "Por brotamento.", "Invadindo uma c√©lula hospedeira para usar sua maquinaria celular.", "Eles n√£o se reproduzem."], explanation: "Como parasitas intracelulares obrigat√≥rios, os v√≠rus precisam usar a estrutura de uma c√©lula viva para fazer c√≥pias de si mesmos." },
                { question: "Gripe, dengue e sarampo s√£o exemplos de doen√ßas causadas por:", answer: "V√≠rus", options: ["Bact√©rias", "Fungos", "Protozo√°rios", "V√≠rus"], explanation: "Essas doen√ßas, conhecidas como viroses, s√£o causadas pela infec√ß√£o por diferentes tipos de v√≠rus." },
                { question: "Por que a vacina√ß√£o √© importante contra doen√ßas virais?", answer: "Porque estimula o corpo a criar defesas (anticorpos) espec√≠ficas.", options: ["Porque mata os v√≠rus diretamente com antibi√≥ticos.", "Porque cria uma barreira f√≠sica no corpo.", "Porque estimula o corpo a criar defesas (anticorpos) espec√≠ficas.", "Porque s√≥ funciona em crian√ßas."], explanation: "A vacina 'ensina' o sistema imunol√≥gico a reconhecer e combater um v√≠rus espec√≠fico, prevenindo a doen√ßa." },
                { question: "A que reino pertencem as bact√©rias e arqueas?", answer: "Reino Monera", options: ["Reino Fungi", "Reino Protoctista", "Reino Monera", "Reino Plantae"], explanation: "O Reino Monera √© composto por seres unicelulares e procariontes, como as bact√©rias e as arqueas." },
                { question: "Como √© a estrutura celular b√°sica de uma bact√©ria?", answer: "N√£o possui n√∫cleo organizado, com material gen√©tico disperso no citoplasma.", options: ["Possui n√∫cleo, mitoc√¥ndrias e cloroplastos.", "√â formada apenas por uma c√°psula de prote√≠na e DNA.", "N√£o possui n√∫cleo organizado, com material gen√©tico disperso no citoplasma.", "√â multicelular com tecidos especializados."], explanation: "As bact√©rias s√£o procariontes, o que significa que seu material gen√©tico n√£o est√° contido dentro de um n√∫cleo." },
                { question: "Como as bact√©rias se reproduzem principalmente?", answer: "Por divis√£o bin√°ria.", options: ["Por esporos.", "Por fus√£o de gametas.", "Por divis√£o bin√°ria.", "Por brotamento."], explanation: "A divis√£o bin√°ria √© um processo de reprodu√ß√£o assexuada em que uma c√©lula se divide em duas id√™nticas." },
                { question: "Qual o principal papel das bact√©rias na cadeia alimentar?", answer: "Atuam como decompositoras.", options: ["S√£o a base da cadeia (produtoras).", "S√£o os principais predadores.", "Atuam como decompositoras.", "N√£o participam da cadeia alimentar."], explanation: "Bact√©rias decompositoras s√£o fundamentais para devolver nutrientes ao ambiente, reciclando mat√©ria org√¢nica morta." },
                { question: "Na biotecnologia, as bact√©rias s√£o usadas para:", answer: "Produ√ß√£o de alimentos, medicamentos e limpeza ambiental.", options: ["Apenas para causar doen√ßas em laborat√≥rio.", "Produ√ß√£o de alimentos, medicamentos e limpeza ambiental.", "Constru√ß√£o de computadores.", "Fabrica√ß√£o de pl√°sticos."], explanation: "A capacidade metab√≥lica das bact√©rias √© aproveitada em diversas √°reas, desde fazer iogurte at√© produzir insulina e despoluir ambientes." },
                { question: "O que s√£o algas?", answer: "Protoctistas autotr√≥ficos que realizam fotoss√≠ntese.", options: ["Plantas aqu√°ticas simples.", "Protoctistas autotr√≥ficos que realizam fotoss√≠ntese.", "Fungos que vivem na √°gua.", "Animais microsc√≥picos verdes."], explanation: "Algas s√£o classificadas no Reino Protoctista e s√£o essenciais na produ√ß√£o de oxig√™nio por meio da fotoss√≠ntese." },
                { question: "Como ocorre a reprodu√ß√£o das algas?", answer: "Pode ser assexuada ou sexuada.", options: ["Apenas por esporos.", "Apenas de forma sexuada.", "Pode ser assexuada ou sexuada.", "Apenas por divis√£o celular."], explanation: "As algas apresentam grande diversidade reprodutiva, incluindo m√©todos assexuados (como a divis√£o) e sexuados (com gametas)." },
                { question: "O que s√£o protozo√°rios?", answer: "Protoctistas heterotr√≥ficos e unicelulares.", options: ["V√≠rus complexos.", "Animais muito pequenos.", "Bact√©rias com n√∫cleo.", "Protoctistas heterotr√≥ficos e unicelulares."], explanation: "Protozo√°rios s√£o seres eucariontes e unicelulares que precisam obter alimento do ambiente, classificados no Reino Protoctista." },
                { question: "Qual o crit√©rio usado para classificar os protozo√°rios?", answer: "O modo de locomo√ß√£o.", options: ["A cor.", "O tamanho.", "O modo de locomo√ß√£o.", "O tipo de alimenta√ß√£o."], explanation: "Eles s√£o agrupados em ciliados, flagelados, riz√≥podes (pseud√≥podes) e esporozo√°rios (sem locomo√ß√£o) com base em como se movem." },
                { question: "Como ocorre a reprodu√ß√£o dos protozo√°rios?", answer: "Geralmente por divis√£o bin√°ria (assexuada).", options: ["Apenas por esporos.", "Apenas de forma sexuada.", "Geralmente por divis√£o bin√°ria (assexuada).", "N√£o se reproduzem."], explanation: "A forma mais comum de reprodu√ß√£o dos protozo√°rios √© a divis√£o bin√°ria, mas alguns podem realizar processos sexuados." },
                { question: "Qual o papel das algas na biosfera?", answer: "Produzem a maior parte do oxig√™nio e servem de base para cadeias alimentares aqu√°ticas.", options: ["Apenas causam mar√© vermelha.", "Produzem a maior parte do oxig√™nio e servem de base para cadeias alimentares aqu√°ticas.", "Decomp√µem mat√©ria org√¢nica.", "Fixam o nitrog√™nio do ar."], explanation: "O fitopl√¢ncton, composto principalmente por algas, √© o principal respons√°vel pela fotoss√≠ntese nos oceanos, liberando oxig√™nio." },
                { question: "Como os fungos se alimentam?", answer: "Absorvendo nutrientes do ambiente (heterotr√≥ficos por absor√ß√£o).", options: ["Realizando fotoss√≠ntese.", "Ingerindo outros seres vivos.", "Absorvendo nutrientes do ambiente (heterotr√≥ficos por absor√ß√£o).", "Capturando presas com tent√°culos."], explanation: "Fungos liberam enzimas que digerem a mat√©ria externamente e depois absorvem os nutrientes." },
                { question: "Como ocorre a reprodu√ß√£o dos fungos?", answer: "Pode ser assexuada (esporos) ou sexuada.", options: ["Apenas por divis√£o celular.", "Apenas de forma sexuada.", "Pode ser assexuada (esporos) ou sexuada.", "N√£o se reproduzem."], explanation: "Os fungos t√™m ciclos de vida complexos, com reprodu√ß√£o assexuada (muitas vezes por esporos) e sexuada." },
                { question: "O que √© um fungo mutual√≠stico?", answer: "Um fungo que vive em associa√ß√£o ben√©fica com outro ser vivo.", options: ["Um fungo que causa doen√ßas.", "Um fungo que se alimenta de mat√©ria morta.", "Um fungo que vive em associa√ß√£o ben√©fica com outro ser vivo.", "Um fungo que ca√ßa outros micro-organismos."], explanation: "Mutualismo √© uma rela√ß√£o onde ambos os seres se beneficiam, como nos liquens (associa√ß√£o de fungo e alga)." },
                { question: "Qual o papel principal dos fungos na natureza?", answer: "Atuar como decompositores.", options: ["Realizar fotoss√≠ntese.", "Atuar como decompositores.", "Produzir flores e frutos.", "Ser a base das cadeias alimentares."], explanation: "Junto com as bact√©rias, os fungos s√£o os principais recicladores de nutrientes do planeta." },
                { question: "O que s√£o doen√ßas reemergentes?", answer: "Doen√ßas que j√° foram controladas mas voltaram a ser um problema.", options: ["Doen√ßas que nunca existiram antes.", "Doen√ßas que s√≥ afetam animais.", "Doen√ßas que j√° foram controladas mas voltaram a ser um problema.", "Doen√ßas que n√£o t√™m cura."], explanation: "A tuberculose √© um exemplo de doen√ßa reemergente, que ressurgiu como um problema de sa√∫de p√∫blica em muitos locais." },
                { question: "Qual destes fatores favorece a transmiss√£o da c√≥lera?", answer: "Falta de saneamento b√°sico e √°gua n√£o tratada.", options: ["Excesso de vacina√ß√£o.", "Polui√ß√£o do ar.", "Falta de saneamento b√°sico e √°gua n√£o tratada.", "Altas temperaturas."], explanation: "A c√≥lera √© causada por uma bact√©ria presente na √°gua e alimentos contaminados, sendo um grande problema em locais sem saneamento." }
            ];
            
            let lastAnswerWasCorrect = false;
            let score = 0;
            let shuffledQuizData = [];

            function switchView(view) {
                if (view === 'learn') {
                    learnSection.classList.remove('hidden');
                    practiceSection.classList.add('hidden');
                    btnLearn.classList.add('active');
                    btnPractice.classList.remove('active');
                } else {
                    learnSection.classList.add('hidden');
                    practiceSection.classList.remove('hidden');
                    btnLearn.classList.remove('active');
                    btnPractice.classList.add('active');
                    startQuiz();
                }
            }

            btnLearn.addEventListener('click', () => switchView('learn'));
            btnPractice.addEventListener('click', () => switchView('practice'));

            function createAccordion() {
                accordionContainer.innerHTML = '';
                learnData.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'border border-stone-200 rounded-lg';
                    div.innerHTML = `
                        <button class="accordion-button w-full p-4 text-left font-semibold text-lg flex justify-between items-center hover:bg-stone-50 transition-colors">
                            <span>${item.title}</span>
                            <span class="transform transition-transform duration-300 text-sky-600">&#9662;</span>
                        </button>
                        <div class="accordion-content">
                            <div class="p-4 border-t border-stone-200 text-slate-700 prose max-w-none content-text">
                                ${item.content}
                            </div>
                        </div>
                    `;
                    accordionContainer.appendChild(div);
                });

                document.querySelectorAll('.accordion-button').forEach(button => {
                    button.addEventListener('click', () => {
                        const icon = button.querySelector('span:last-child');
                        const isOpen = button.classList.toggle('open');
                        icon.style.transform = isOpen ? 'rotate(180deg)' : 'rotate(0deg)';
                        if (isOpen) {
                            document.querySelectorAll('.accordion-button.open').forEach(openButton => {
                                if (openButton !== button) {
                                    openButton.classList.remove('open');
                                    openButton.querySelector('span:last-child').style.transform = 'rotate(0deg)';
                                }
                            });
                        }
                    });
                });
            }

            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            function startQuiz() {
                score = 0;
                shuffledQuizData = shuffleArray([...quizData]);
                quizContainer.classList.remove('hidden');
                scoreContainer.classList.add('hidden');
                showQuestion();
            }

            function showQuestion() {
                feedbackContainer.classList.add('hidden');
                nextQuestionBtn.classList.add('hidden');

                const questionData = shuffledQuizData[0];
                questionProgress.textContent = `Quest√µes restantes: ${shuffledQuizData.length}`;
                
                questionArea.innerHTML = `<p class="quiz-question-text">${questionData.question}</p>`;

                optionsContainer.innerHTML = '';
                let currentOptions = shuffleArray([...questionData.options]); 

                currentOptions.forEach(option => {
                    const button = document.createElement('button');
                    button.innerHTML = option; 
                    button.className = "quiz-option w-full p-3 border-2 border-stone-300 rounded-lg hover:bg-stone-200 transition-colors";
                    button.addEventListener('click', () => selectAnswer(option, questionData.answer, questionData.explanation));
                    optionsContainer.appendChild(button);
                });
            }

            function selectAnswer(selectedOption, correctAnswer, explanation) {
                const buttons = optionsContainer.querySelectorAll('button');
                lastAnswerWasCorrect = selectedOption === correctAnswer;

                if (lastAnswerWasCorrect) {
                    score++;
                    feedbackText.textContent = 'üéâ Correto!';
                    feedbackContainer.className = 'mt-4 p-4 rounded-lg text-center bg-emerald-100 border border-emerald-200 text-emerald-800';
                } else {
                    feedbackText.textContent = 'ü§î Incorreto! Esta pergunta aparecer√° novamente.';
                    feedbackContainer.className = 'mt-4 p-4 rounded-lg text-center bg-red-100 border border-red-200 text-red-800';
                }

                feedbackExplanation.innerHTML = `<strong>Explica√ß√£o:</strong> ${explanation}`;
                feedbackContainer.classList.remove('hidden');

                buttons.forEach(button => {
                    button.disabled = true;
                    if (button.innerHTML === correctAnswer) { 
                        button.classList.add('correct-answer');
                    } else if (button.innerHTML === selectedOption && !lastAnswerWasCorrect) {
                        button.classList.add('wrong-answer');
                    }
                });

                nextQuestionBtn.classList.remove('hidden');
            }
            
            function showScore() {
                quizContainer.classList.add('hidden');
                scoreContainer.classList.remove('hidden');
                scoreTextElement.textContent = `Parab√©ns! Voc√™ respondeu todas as quest√µes corretamente!`;
                scoreBar.style.width = `100%`;
            }

            nextQuestionBtn.addEventListener('click', () => {
                if (lastAnswerWasCorrect) {
                    shuffledQuizData.shift();
                } else {
                    const failedQuestion = shuffledQuizData.shift();
                    shuffledQuizData.push(failedQuestion);
                }

                if (shuffledQuizData.length > 0) {
                    showQuestion();
                } else {
                    showScore();
                }
            });
            
            restartQuizBtn.addEventListener('click', startQuiz);

            createAccordion();
            switchView('learn');
        });
    </script>
</body>
</html>
