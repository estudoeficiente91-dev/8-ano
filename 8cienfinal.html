<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ci√™ncias ‚Äì 8¬∫ Ano (Biologia)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root{
            --bg:#111827; 
            --card:#1f2937; 
            --accent:#818cf8; 
            --muted:#9ca3af; 
            --text:#e5e7eb;
            --success:#34d399;
            --danger:#f87171; 
            --border:rgba(255,255,255,0.1); 
            --muted-2: rgba(230,238,248,0.9);
        }
        html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); color:var(--text);}
        .container{max-width:980px;margin:28px auto;padding:18px}
        .page-header{ padding:1.25rem; border-radius:12px; background: linear-gradient(180deg, rgba(129, 140, 248, 0.06), transparent); box-shadow: 0 8px 24px rgba(2,6,23,0.6); }
        .card{ background: var(--card); color: var(--text); border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 6px 20px rgba(2,6,23,0.6); padding:18px }
        .btn-primary{ background: linear-gradient(90deg,var(--accent), #6366f1); color: #ffffff; padding: .5rem 1.25rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.2); box-shadow: 0 6px 18px rgba(129, 140, 248, 0.12); cursor: pointer; }
        .btn-ghost{ background: transparent; color: var(--muted-2); padding: .45rem .9rem; border-radius: 10px; border: 1px solid var(--border); cursor:pointer; }
        .option-btn{ display:block; width:100%; text-align:left; padding:.75rem 1rem; border-radius:10px; background: rgba(255,255,255,0.02); border:1px solid var(--border); color:var(--muted-2); cursor:pointer; transition: transform 150ms ease, background 150ms ease; }
        .option-btn:hover:not(:disabled){ background: rgba(255,255,255,0.035); transform: translateY(-1px); }
        .option-btn.correct{ background: var(--success) !important; color: #062e1f !important; border-color: rgba(4,120,87,0.18) !important; }
        .option-btn.wrong{ background: var(--danger) !important; color: #fff !important; border-color: rgba(185,28,28,0.18) !important; }
        .option-btn:disabled { cursor: not-allowed; }
        #question-buttons{ display:flex; flex-wrap:wrap; gap:8px; }
        #question-buttons button{ 
            position: relative;
            background: transparent; 
            color: var(--muted-2); 
            border:1px solid var(--border); 
            padding:.45rem .6rem; 
            border-radius:8px; 
            cursor:pointer; 
            min-width: 42px;
        }
        #question-buttons button.current-question { background-color: rgba(129, 140, 248, 0.2); border-color: var(--accent); }
        #question-buttons button.correct-status { background-color: var(--success); color: #062e1f; border-color: var(--success); }
        #question-buttons button.wrong-status { background-color: var(--danger); color: white; border-color: var(--danger); }
        .feedback-correct{ background: rgba(16,185,129,0.12); border:1px solid rgba(16,185,129,0.22); color: #bbf7d0; padding:12px; border-radius:8px }
        .feedback-wrong{ background: rgba(239,68,68,0.12); border:1px solid rgba(239,68,68,0.22); color: #ffdede; padding:12px; border-radius:8px }
        .celebrate{ animation: pop 480ms cubic-bezier(.2,.9,.3,1); box-shadow: 0 12px 36px rgba(129, 140, 248, 0.18), 0 0 28px rgba(16,185,129,0.12); }
        @keyframes pop{ 0%{ transform: scale(1); } 50%{ transform: scale(1.08); } 100%{ transform: scale(1); } }
        .confetti{ position: fixed; z-index: 9999; pointer-events: none; font-size: 18px; opacity: 1; transform-origin: center; }
        @keyframes confetti-fall { 0%{ transform: translateY(-10vh) rotate(0deg); opacity:1 } 100%{ transform: translateY(100vh) rotate(540deg); opacity:0 } }
        
        .theme-light{ 
            --bg: #ffffff; 
            --card: #f9fafb; 
            --muted: #4b5563; 
            --text: #111827; 
            --accent: #4f46e5; 
            --success: #047857; 
            --danger: #b91c1c; 
            --border: rgba(15,23,42,0.1); 
            --muted-2: rgba(17, 24, 39, 0.9);
        }
        .topic-section { margin-bottom: 2.5rem; border-left: 3px solid var(--accent); padding-left: 1.5rem; }
        .topic-title { font-size: 1.5rem; font-weight: 700; color: var(--accent); margin-bottom: 1rem; }
        .sub-topic-title { font-size: 1.15rem; font-weight: 600; color: var(--text); margin-top: 1.5rem; margin-bottom: 0.75rem; }
        .topic-section p, .topic-section ul { font-size: 1rem; color: var(--muted-2); line-height: 1.7; text-align: justify; }
        .topic-section ul { list-style-position: inside; list-style-type: disc; margin-top: 0.5rem; padding-left: 1rem;}
        .highlight { background-color: rgba(129, 140, 248, 0.1); padding: 0.2rem 0.4rem; border-radius: 4px; font-weight: 600; color: var(--accent); }
        
        .difficulty-badge { padding: 0.1rem 0.6rem; border-radius: 99px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; }
        .difficulty-facil { background-color: rgba(52, 211, 153, 0.2); color: #6ee7b7; }
        .difficulty-medio { background-color: rgba(250, 204, 21, 0.2); color: #facc15; }
        .difficulty-dificil { background-color: rgba(248, 113, 113, 0.2); color: #f87171; }
        
        .difficulty-dot {
            position: absolute;
            top: 2px;
            right: 2px;
            width: 6px;
            height: 6px;
            border-radius: 50%;
        }
        .difficulty-facil-dot { background-color: #34d399; }
        .difficulty-medio-dot { background-color: #facc15; }
        .difficulty-dificil-dot { background-color: #ef4444; }
    </style>
</head>
<body class="antialiased">
    <div class="container">
        <header class="page-header">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold">Ci√™ncias ‚Äî 8¬∫ Ano</h1>
                    <p class="text-sm text-slate-400">Guia de estudos: Sistema End√≥crino e Reprodu√ß√£o.</p>
                </div>
                <div>
                    <button id="theme-toggle" class="btn-ghost">Tema</button>
                </div>
            </div>
        </header>

        <main class="mt-6">
            <div class="card">
                <nav class="mb-4">
                    <button id="btn-learn" class="btn-primary">Aprender</button>
                    <button id="btn-practice" class="btn-ghost ml-2">Praticar</button>
                </nav>

                <section id="learn-section">
                    <div class="space-y-8">
                        
                        <div class="topic-section">
                            <h2 class="topic-title">Sistema End√≥crino: Regula√ß√£o do Corpo</h2>
                            <p>O sistema end√≥crino √© composto por <span class="highlight">gl√¢ndulas end√≥crinas</span> que produzem subst√¢ncias qu√≠micas chamadas <span class="highlight">horm√¥nios</span>. Esses horm√¥nios s√£o lan√ßados na corrente sangu√≠nea e atuam como mensageiros, regulando o funcionamento de √≥rg√£os e tecidos distantes.</p>
                            
                            <h3 class="sub-topic-title">Principais Gl√¢ndulas e Horm√¥nios</h3>
                            <ul>
                                <li><strong>Hipot√°lamo:</strong> Localizado no c√©rebro, √© o "chefe". Conecta o sistema nervoso ao end√≥crino e controla a hip√≥fise.</li>
                                <li><strong>Hip√≥fise (Pituit√°ria):</strong> Conhecida como a "gl√¢ndula mestra". Produz horm√¥nios que controlam outras gl√¢ndulas (tireoide, suprarrenais, g√¥nadas) e tamb√©m o <span class="highlight">GH (Horm√¥nio do Crescimento)</span>.</li>
                                <li><strong>Gl√¢ndula Pineal:</strong> Produz a <span class="highlight">melatonina</span>, que regula o sono e os ritmos biol√≥gicos (dia/noite).</li>
                                <li><strong>Tireoide:</strong> Localizada no pesco√ßo, produz <span class="highlight">T3 e T4</span>, que regulam o metabolismo (velocidade do corpo). Doen√ßas comuns: <span class="highlight">Hipotireoidismo</span> (metabolismo lento, ganho de peso) e <span class="highlight">Hipertireoidismo</span> (metabolismo acelerado, perda de peso).</li>
                                <li><strong>Timo:</strong> Importante para o sistema imunol√≥gico (defesa), amadurecendo os linf√≥citos T. Atrofia na idade adulta.</li>
                                <li><strong>Suprarrenais (Adrenais):</strong> Ficam sobre os rins. Produzem <span class="highlight">Adrenalina</span> (prepara para luta ou fuga) e <span class="highlight">Cortisol</span> (horm√¥nio do estresse e anti-inflamat√≥rio).</li>
                                <li><strong>P√¢ncreas:</strong> Gl√¢ndula mista. Produz <span class="highlight">Insulina</span> (baixa a glicose no sangue) e <span class="highlight">Glucagon</span> (aumenta a glicose no sangue).</li>
                            </ul>

                            <h3 class="sub-topic-title">Regula√ß√£o e Diabetes</h3>
                             <p><strong>Retroalimenta√ß√£o (Feedback):</strong> √â o mecanismo de controle. Se um horm√¥nio est√° alto demais, o corpo manda um sinal para parar de produzi-lo (Feedback Negativo), mantendo o equil√≠brio.</p>
                             <p><strong>Diabetes Mellitus:</strong> Doen√ßa caracterizada pelo excesso de glicose (a√ß√∫car) no sangue.</p>
                             <ul>
                                 <li><strong>Tipo 1:</strong> O sistema imune destr√≥i as c√©lulas do p√¢ncreas. O corpo <span class="highlight">n√£o produz insulina</span>. Geralmente surge na inf√¢ncia.</li>
                                 <li><strong>Tipo 2:</strong> O corpo produz insulina, mas ela <span class="highlight">n√£o funciona direito</span> (resist√™ncia √† insulina). Associada √† obesidade e sedentarismo.</li>
                             </ul>
                        </div>
                        
                        <div class="topic-section">
                             <h2 class="topic-title">Puberdade e Sistema Genital</h2>
                             <p>A <strong>Puberdade</strong> √© o per√≠odo de transi√ß√£o entre a inf√¢ncia e a vida adulta, marcado pelo amadurecimento sexual. √â desencadeada pelo hipot√°lamo e hip√≥fise, que estimulam as g√¥nadas.</p>
                             
                             <h3 class="sub-topic-title">G√¥nadas e Horm√¥nios Sexuais</h3>
                             <ul>
                                <li><strong>Test√≠culos (Homens):</strong> Produzem <span class="highlight">Testosterona</span> (caracter√≠sticas masculinas: pelos, voz grossa, m√∫sculos) e espermatozoides.</li>
                                <li><strong>Ov√°rios (Mulheres):</strong> Produzem <span class="highlight">Estrog√™nio</span> (caracter√≠sticas femininas: seios, quadril) e <span class="highlight">Progesterona</span> (prepara o √∫tero para gravidez) e √≥vulos.</li>
                             </ul>

                             <h3 class="sub-topic-title">Desenvolvimento do Sexo Biol√≥gico</h3>
                             <p>O sexo biol√≥gico √© determinado na fecunda√ß√£o (XX para feminino, XY para masculino). As g√¥nadas se diferenciam durante a gesta√ß√£o, mas √© na puberdade que as caracter√≠sticas sexuais secund√°rias (corpo de homem ou mulher) se definem plenamente sob a√ß√£o dos horm√¥nios.</p>
                        </div>
                        
                    </div>
                </section>

                <section id="practice-section" class="hidden">
                     <div class="mb-4 flex justify-end">
                        <!-- Bot√£o de ordem removido -->
                    </div>
                    <div id="question-buttons" class="mb-4"></div>
                    <div id="quiz-container">
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const root = document.documentElement;
        const themeToggle = document.getElementById('theme-toggle');
        const btnLearn = document.getElementById('btn-learn');
        const btnPractice = document.getElementById('btn-practice');
        const learnSection = document.getElementById('learn-section');
        const practiceSection = document.getElementById('practice-section');
        const questionButtons = document.getElementById('question-buttons');
        const quizContainer = document.getElementById('quiz-container');
        
        if(!btnLearn || !btnPractice || !learnSection || !practiceSection || !questionButtons || !quizContainer){
            console.error('Elementos DOM n√£o encontrados.');
            return;
        }

        (function(){
            const t = localStorage.getItem('cmf-science-8ano-bio-theme') || 'dark';
            if(t === 'light') root.classList.add('theme-light');
            themeToggle.addEventListener('click', () => {
                root.classList.toggle('theme-light');
                localStorage.setItem('cmf-science-8ano-bio-theme', root.classList.contains('theme-light') ? 'light' : 'dark');
            });
        })();
        
        const quizData = [
            { topic: 'Sistema End√≥crino', difficulty: 'F√°cil', q: '1) Qual √© a fun√ß√£o principal das gl√¢ndulas end√≥crinas?', options: ['Produzir suor', 'Produzir horm√¥nios e lan√ß√°-los no sangue', 'Produzir saliva', 'Filtrar o sangue'], answer: 'Produzir horm√¥nios e lan√ß√°-los no sangue', explanation: 'Gl√¢ndulas end√≥crinas secretam mensageiros qu√≠micos (horm√¥nios) diretamente na corrente sangu√≠nea.'},
            { topic: 'Gl√¢ndulas: Hip√≥fise', difficulty: 'F√°cil', q: '2) Qual gl√¢ndula √© conhecida como a "gl√¢ndula mestra" por controlar v√°rias outras?', options: ['Tireoide', 'P√¢ncreas', 'Hip√≥fise', 'Suprarrenal'], answer: 'Hip√≥fise', explanation: 'A hip√≥fise (ou pituit√°ria) produz horm√¥nios que estimulam o funcionamento de outras gl√¢ndulas, como a tireoide e as g√¥nadas.'},
            { topic: 'Gl√¢ndulas: Tireoide', difficulty: 'M√©dio', q: '3) O hipotireoidismo √© uma condi√ß√£o causada pela:', options: ['Produ√ß√£o excessiva de horm√¥nios da tireoide', 'Baixa produ√ß√£o de horm√¥nios da tireoide', 'Falta de insulina', 'Excesso de adrenalina'], answer: 'Baixa produ√ß√£o de horm√¥nios da tireoide', explanation: 'No "hipo" (baixo), o metabolismo fica lento, causando cansa√ßo e ganho de peso.'},
            { topic: 'Gl√¢ndulas: P√¢ncreas', difficulty: 'F√°cil', q: '4) Qual √© a fun√ß√£o da insulina produzida pelo p√¢ncreas?', options: ['Aumentar o n√≠vel de a√ß√∫car no sangue', 'Diminuir o n√≠vel de glicose (a√ß√∫car) no sangue', 'Acelerar o cora√ß√£o', 'Controlar o sono'], answer: 'Diminuir o n√≠vel de glicose (a√ß√∫car) no sangue', explanation: 'A insulina permite que a glicose entre nas c√©lulas para ser usada como energia, baixando sua taxa no sangue.'},
            { topic: 'Gl√¢ndulas: P√¢ncreas', difficulty: 'M√©dio', q: '5) Qual horm√¥nio tem o efeito oposto ao da insulina, aumentando a glicose no sangue quando estamos em jejum?', options: ['Adrenalina', 'Glucagon', 'Cortisol', 'Melatonina'], answer: 'Glucagon', explanation: 'O glucagon libera a glicose armazenada no f√≠gado para o sangue, evitando a hipoglicemia.'},
            { topic: 'Diabetes', difficulty: 'M√©dio', q: '6) O Diabetes Tipo 1 √© caracterizado por:', options: ['Resist√™ncia √† insulina devido √† obesidade', 'O corpo parar de produzir insulina por um ataque autoimune', 'Excesso de produ√ß√£o de insulina', 'Falta de horm√¥nio do crescimento'], answer: 'O corpo parar de produzir insulina por um ataque autoimune', explanation: 'No Tipo 1, o sistema imunol√≥gico destr√≥i as c√©lulas do p√¢ncreas que produzem insulina.'},
            { topic: 'Diabetes', difficulty: 'F√°cil', q: '7) O Diabetes Tipo 2 est√° frequentemente associado a:', options: ['Fatores gen√©ticos apenas', 'M√° alimenta√ß√£o, obesidade e sedentarismo', 'Infec√ß√µes virais', 'Excesso de exerc√≠cios'], answer: 'M√° alimenta√ß√£o, obesidade e sedentarismo', explanation: 'O estilo de vida √© o principal fator de risco para o desenvolvimento da resist√™ncia √† insulina no Tipo 2.'},
            { topic: 'Gl√¢ndulas: Suprarrenais', difficulty: 'F√°cil', q: '8) Qual horm√¥nio √© liberado em situa√ß√µes de perigo ou estresse agudo ("luta ou fuga")?', options: ['Insulina', 'Melatonina', 'Adrenalina', 'Testosterona'], answer: 'Adrenalina', explanation: 'A adrenalina prepara o corpo para a√ß√£o r√°pida: acelera o cora√ß√£o, dilata as pupilas e aumenta a energia.'},
            { topic: 'Gl√¢ndulas: Suprarrenais', difficulty: 'M√©dio', q: '9) O cortisol, tamb√©m produzido pelas suprarrenais, √© conhecido como o horm√¥nio do:', options: ['Amor', 'Crescimento', 'Sono', 'Estresse cr√¥nico e inflama√ß√£o'], answer: 'Estresse cr√¥nico e inflama√ß√£o', explanation: 'O cortisol ajuda o corpo a lidar com o estresse prolongado e atua como anti-inflamat√≥rio.'},
            { topic: 'Gl√¢ndulas: Pineal', difficulty: 'F√°cil', q: '10) A melatonina, produzida pela gl√¢ndula pineal, √© respons√°vel por regular:', options: ['O n√≠vel de a√ß√∫car', 'O ciclo do sono e vig√≠lia', 'O crescimento dos ossos', 'A press√£o arterial'], answer: 'O ciclo do sono e vig√≠lia', explanation: 'A melatonina √© liberada no escuro e prepara o corpo para dormir.'},
            { topic: 'Puberdade', difficulty: 'F√°cil', q: '11) O horm√¥nio sexual masculino predominante, produzido nos test√≠culos, √© a:', options: ['Progesterona', 'Estrog√™nio', 'Testosterona', 'Insulina'], answer: 'Testosterona', explanation: 'A testosterona √© respons√°vel pelas caracter√≠sticas sexuais secund√°rias masculinas (pelos, voz grossa, massa muscular).'},
            { topic: 'Puberdade', difficulty: 'F√°cil', q: '12) Quais s√£o os principais horm√¥nios sexuais femininos produzidos nos ov√°rios?', options: ['Testosterona e Adrenalina', 'Estrog√™nio e Progesterona', 'Insulina e Glucagon', 'GH e TSH'], answer: 'Estrog√™nio e Progesterona', explanation: 'O estrog√™nio define as caracter√≠sticas femininas e a progesterona regula o ciclo menstrual e a gravidez.'},
            { topic: 'Puberdade', difficulty: 'M√©dio', q: '13) O que marca o in√≠cio da puberdade biol√≥gica nas meninas?', options: ['O crescimento dos p√©s', 'A primeira menstrua√ß√£o (menarca)', 'A mudan√ßa de voz', 'O aparecimento de barba'], answer: 'A primeira menstrua√ß√£o (menarca)', explanation: 'A menarca √© o marco biol√≥gico que indica o amadurecimento do sistema reprodutor feminino.'},
            { topic: 'Regula√ß√£o Hormonal', difficulty: 'Dif√≠cil', q: '14) O mecanismo de "Feedback Negativo" (Retroalimenta√ß√£o) serve para:', options: ['Aumentar a produ√ß√£o de horm√¥nios indefinidamente', 'Manter o equil√≠brio, inibindo a produ√ß√£o de um horm√¥nio quando seu n√≠vel j√° est√° alto', 'Destruir as gl√¢ndulas', 'Criar novos horm√¥nios'], answer: 'Manter o equil√≠brio, inibindo a produ√ß√£o de um horm√¥nio quando seu n√≠vel j√° est√° alto', explanation: '√â como um termostato: se est√° quente o suficiente (n√≠vel alto de horm√¥nio), o sistema desliga (para a produ√ß√£o) para n√£o superaquecer.'},
            { topic: 'Hipot√°lamo', difficulty: 'M√©dio', q: '15) O hipot√°lamo √© uma estrutura do c√©rebro que faz a conex√£o entre quais sistemas?', options: ['Digest√≥rio e Respirat√≥rio', 'Nervoso e End√≥crino', 'Circulat√≥rio e Excretor', 'Muscular e Esquel√©tico'], answer: 'Nervoso e End√≥crino', explanation: 'Ele recebe sinais nervosos e comanda a hip√≥fise para liberar horm√¥nios, integrando os dois sistemas de controle do corpo.'},
            { topic: 'Gl√¢ndulas: Timo', difficulty: 'Dif√≠cil', q: '16) O Timo √© uma gl√¢ndula muito ativa na inf√¢ncia que desempenha um papel crucial no sistema:', options: ['Digest√≥rio', 'Imunol√≥gico (defesa)', 'Nervoso', 'Reprodutor'], answer: 'Imunol√≥gico (defesa)', explanation: 'No timo ocorre a matura√ß√£o dos linf√≥citos T, c√©lulas de defesa essenciais. Ele diminui de tamanho (atrofia) na idade adulta.'},
            { topic: 'Horm√¥nios e Digest√£o', difficulty: 'Dif√≠cil', q: '17) Al√©m da insulina e glucagon, o sistema digest√≥rio produz horm√¥nios como a grelina e a leptina, que controlam:', options: ['A cor da pele', 'O crescimento do cabelo', 'A fome e a saciedade', 'A for√ßa muscular'], answer: 'A fome e a saciedade', explanation: 'A grelina estimula a fome ("est√¥mago vazio") e a leptina sinaliza saciedade ("est√¥mago cheio").'},
            { topic: 'Puberdade', difficulty: 'F√°cil', q: '18) Qual gl√¢ndula produz o Horm√¥nio do Crescimento (GH)?', options: ['Tireoide', 'P√¢ncreas', 'Hip√≥fise', 'Pineal'], answer: 'Hip√≥fise', explanation: 'O GH √© essencial para o crescimento de ossos e tecidos, principalmente durante a inf√¢ncia e adolesc√™ncia.'},
            { topic: 'Gl√¢ndulas: Tireoide', difficulty: 'F√°cil', q: '19) Onde a gl√¢ndula tireoide est√° localizada?', options: ['No c√©rebro', 'No pesco√ßo', 'Em cima dos rins', 'No abd√¥men'], answer: 'No pesco√ßo', explanation: 'Ela tem formato de borboleta e fica na parte anterior do pesco√ßo, logo abaixo do "gog√≥".'},
            { topic: 'Puberdade', difficulty: 'M√©dio', q: '20) A puberdade √© desencadeada quando o hipot√°lamo estimula a hip√≥fise a produzir horm√¥nios que ativam as:', options: ['Suprarrenais', 'Tireoides', 'G√¥nadas (test√≠culos e ov√°rios)', 'C√©lulas da pele'], answer: 'G√¥nadas (test√≠culos e ov√°rios)', explanation: 'Esse eixo Hipot√°lamo-Hip√≥fise-G√¥nadas √© o respons√°vel pelo in√≠cio da produ√ß√£o dos horm√¥nios sexuais.'},
            { topic: 'Geral', difficulty: 'Dif√≠cil', q: '21) O b√≥cio ("papo") √© um incha√ßo na tireoide causado historicamente pela falta de qual mineral na alimenta√ß√£o?', options: ['C√°lcio', 'Ferro', 'Iodo', 'S√≥dio'], answer: 'Iodo', explanation: 'O iodo √© fundamental para a produ√ß√£o dos horm√¥nios T3 e T4. Sem ele, a tireoide aumenta de tamanho tentando compensar a falta.'},
            { topic: 'Diabetes', difficulty: 'M√©dio', q: '22) Qual o principal sintoma do diabetes n√£o tratado?', options: ['Febre alta', 'Muita sede e muita vontade de urinar', 'Dor nas juntas', 'Tosse seca'], answer: 'Muita sede e muita vontade de urinar', explanation: 'O corpo tenta eliminar o excesso de glicose pela urina, o que leva √† desidrata√ß√£o e sede excessiva.'},
            { topic: 'Gl√¢ndulas: P√¢ncreas', difficulty: 'Dif√≠cil', q: '23) O p√¢ncreas √© considerado uma gl√¢ndula mista porque:', options: ['Produz horm√¥nios e suco digestivo', 'Fica no meio do corpo', 'Produz horm√¥nios masculinos e femininos', 'Funciona de dia e de noite'], answer: 'Produz horm√¥nios e suco digestivo', explanation: 'Ele tem fun√ß√£o end√≥crina (insulina/glucagon no sangue) e ex√≥crina (suco pancre√°tico no intestino).'},
            { topic: 'Puberdade', difficulty: 'F√°cil', q: '24) O aparecimento de pelos pubianos e axilares √© uma caracter√≠stica sexual:', options: ['Prim√°ria', 'Secund√°ria', 'Terci√°ria', 'Inexistente'], answer: 'Secund√°ria', explanation: 'Caracter√≠sticas prim√°rias s√£o os √≥rg√£os reprodutores. As secund√°rias surgem na puberdade.'},
            { topic: 'Desenvolvimento do Sexo', difficulty: 'M√©dio', q: '25) O sexo biol√≥gico de um beb√™ √© determinado geneticamente no momento da:', options: ['Fecunda√ß√£o', 'Nascimento', 'Puberdade', 'Primeira ultrassom'], answer: 'Fecunda√ß√£o', explanation: 'Os cromossomos sexuais (XX ou XY) s√£o definidos assim que o espermatozoide fecunda o √≥vulo.'},
            { topic: 'Gl√¢ndulas: Suprarrenais', difficulty: 'Dif√≠cil', q: '26) Al√©m de adrenalina e cortisol, as suprarrenais tamb√©m produzem pequenas quantidades de:', options: ['Insulina', 'Horm√¥nios sexuais', 'Horm√¥nio do crescimento', 'Melatonina'], answer: 'Horm√¥nios sexuais', explanation: 'Elas produzem andr√≥genos (horm√¥nios masculinos) em ambos os sexos, importantes para o in√≠cio da puberdade.'},
            { topic: 'Regula√ß√£o Hormonal', difficulty: 'F√°cil', q: '27) Horm√¥nios agem em qualquer c√©lula do corpo?', options: ['Sim, em todas', 'N√£o, apenas nas c√©lulas-alvo que t√™m receptores espec√≠ficos', 'Apenas nas c√©lulas do sangue', 'Apenas nas c√©lulas do c√©rebro'], answer: 'N√£o, apenas nas c√©lulas-alvo que t√™m receptores espec√≠ficos', explanation: 'Funciona como chave e fechadura: o horm√¥nio s√≥ "liga" as c√©lulas que t√™m a fechadura (receptor) correta para ele.'},
            { topic: 'Gl√¢ndulas: Tireoide', difficulty: 'M√©dio', q: '28) Sintomas como agita√ß√£o, perda de peso r√°pida e olhos saltados s√£o t√≠picos de:', options: ['Hipotireoidismo', 'Hipertireoidismo', 'Diabetes', 'Falta de crescimento'], answer: 'Hipertireoidismo', explanation: 'O excesso de horm√¥nios da tireoide acelera demais o metabolismo.'},
            { topic: 'Geral', difficulty: 'F√°cil', q: '29) Qual sistema atua em conjunto com o sistema end√≥crino para controlar o corpo?', options: ['Sistema Digest√≥rio', 'Sistema Nervoso', 'Sistema Esquel√©tico', 'Sistema Muscular'], answer: 'Sistema Nervoso', explanation: 'O sistema nervoso (r√°pido, el√©trico) e o end√≥crino (lento, qu√≠mico) s√£o os dois grandes sistemas de coordena√ß√£o.'},
            { topic: 'Puberdade', difficulty: 'Dif√≠cil', q: '30) A menopausa marca o fim de qual fase na vida da mulher?', options: ['A inf√¢ncia', 'A fase reprodutiva', 'A velhice', 'O crescimento'], answer: 'A fase reprodutiva', explanation: '√â quando os ov√°rios param de liberar √≥vulos e a produ√ß√£o de horm√¥nios femininos cai drasticamente.'},
            { topic: 'Hipot√°lamo', difficulty: 'Dif√≠cil', q: '31) Al√©m de controlar a hip√≥fise, o hipot√°lamo regula fun√ß√µes vitais como:', options: ['A respira√ß√£o', 'Os batimentos card√≠acos apenas', 'A temperatura corporal, a fome e a sede', 'A digest√£o mec√¢nica'], answer: 'A temperatura corporal, a fome e a sede', explanation: 'Ele √© o centro de controle da homeostase (equil√≠brio) do corpo.'},
            { topic: 'Horm√¥nios', difficulty: 'F√°cil', q: '32) O horm√¥nio testosterona √© produzido em maior quantidade:', options: ['Nos homens', 'Nas mulheres', 'Nas crian√ßas', 'Nos idosos'], answer: 'Nos homens', explanation: 'Embora mulheres tamb√©m tenham (em pequena quantidade), √© o principal horm√¥nio masculino.'},
            { topic: 'Geral', difficulty: 'M√©dio', q: '33) Qual horm√¥nio √© respons√°vel por preparar o √∫tero para receber o beb√™?', options: ['Adrenalina', 'Insulina', 'Progesterona', 'Testosterona'], answer: 'Progesterona', explanation: 'Ela espessa a parede do √∫tero (endom√©trio) para a implanta√ß√£o do embri√£o.'},
            { topic: 'Diabetes', difficulty: 'Dif√≠cil', q: '34) A hiperglicemia √©:', options: ['Baixo n√≠vel de a√ß√∫car no sangue', 'Alto n√≠vel de a√ß√∫car no sangue', 'Falta de sal no sangue', 'Excesso de gordura no sangue'], answer: 'Alto n√≠vel de a√ß√∫car no sangue', explanation: 'Hiper = muito; Glicemia = glicose no sangue. √â a condi√ß√£o marcante do diabetes.'},
            { topic: 'Gl√¢ndulas: Pineal', difficulty: 'M√©dio', q: '35) Por que a luz azul de celulares atrapalha o sono?', options: ['Porque esquenta os olhos', 'Porque inibe a produ√ß√£o de melatonina pela gl√¢ndula pineal', 'Porque estimula a adrenalina', 'Porque causa dor de cabe√ßa'], answer: 'Porque inibe a produ√ß√£o de melatonina pela gl√¢ndula pineal', explanation: 'A pineal entende a luz azul como "dia" e para de produzir o horm√¥nio do sono.'},
            { topic: 'Puberdade', difficulty: 'M√©dio', q: '36) O estir√£o do crescimento na puberdade ocorre devido √† a√ß√£o conjunta de quais horm√¥nios?', options: ['Insulina e Glucagon', 'Adrenalina e Cortisol', 'GH (crescimento) e horm√¥nios sexuais', 'Melatonina e TSH'], answer: 'GH (crescimento) e horm√¥nios sexuais', explanation: 'Os horm√¥nios sexuais potencializam o efeito do GH, causando o crescimento r√°pido.'},
            { topic: 'Geral', difficulty: 'F√°cil', q: '37) O sistema end√≥crino utiliza qual meio para transportar suas mensagens?', options: ['Nervos', 'Sangue', 'Ossos', 'M√∫sculos'], answer: 'Sangue', explanation: 'Os horm√¥nios s√£o lan√ßados na corrente sangu√≠nea para chegar a todo o corpo.'},
            { topic: 'Gl√¢ndulas: Suprarrenais', difficulty: 'Dif√≠cil', q: '38) O uso prolongado de corticoides (rem√©dios sint√©ticos que imitam o cortisol) pode causar:', options: ['Perda de peso', 'Aumento da imunidade', 'Incha√ßo, ganho de peso e aumento da glicose', 'Melhora no sono'], answer: 'Incha√ßo, ganho de peso e aumento da glicose', explanation: 'O excesso de cortisol (ou seus an√°logos) tem diversos efeitos colaterais metab√≥licos.'},
            { topic: 'Regula√ß√£o Hormonal', difficulty: 'M√©dio', q: '39) Se o n√≠vel de c√°lcio no sangue cai, as gl√¢ndulas paratireoides (atr√°s da tireoide) liberam um horm√¥nio para:', options: ['Retirar c√°lcio dos ossos e jogar no sangue', 'Jogar c√°lcio fora na urina', 'Transformar c√°lcio em ferro', 'Parar o cora√ß√£o'], answer: 'Retirar c√°lcio dos ossos e jogar no sangue', explanation: 'O corpo prioriza o n√≠vel de c√°lcio no sangue para o funcionamento dos m√∫sculos e nervos, sacrificando os ossos se necess√°rio.'},
            { topic: 'Forma√ß√£o Sistema Genital', difficulty: 'Dif√≠cil', q: '40) Durante o desenvolvimento embrion√°rio, a presen√ßa do cromossomo Y leva √† forma√ß√£o de:', options: ['Ov√°rios', 'Test√≠culos', '√ötero', 'Nenhuma g√¥nada'], answer: 'Test√≠culos', explanation: 'O gene SRY no cromossomo Y desencadeia a transforma√ß√£o das g√¥nadas indiferenciadas em test√≠culos.'}
        ];

        // Ordenar o quizData por dificuldade
        const difficultyOrder = { 'F√°cil': 1, 'M√©dio': 2, 'Dif√≠cil': 3 };
        quizData.sort((a, b) => difficultyOrder[a.difficulty] - difficultyOrder[b.difficulty]);

        let questionOrder = quizData.map((_,i)=>i);
        let currentIndex = 0;
        let questionStatus = Array(quizData.length).fill(null);
        let quizStarted = false;
        let retryQueue = []; // Fila para as quest√µes erradas

        // DOM Elements for the quiz
        const questionInfoContainer = document.createElement('div');
        questionInfoContainer.className = 'flex justify-between items-center mb-2';
        const questionTopic = document.createElement('p');
        questionTopic.className='text-sm font-semibold text-[var(--accent)]';
        const questionDifficulty = document.createElement('span');
        const questionText = document.createElement('p');
        questionText.className='text-xl mt-2';
        const optionsContainer = document.createElement('div');
        optionsContainer.className='mt-4 grid gap-3';
        const feedbackContainer = document.createElement('div');
        const nextBtn = document.createElement('button');
        nextBtn.className='btn-primary mt-4 hidden';
        nextBtn.textContent='Pr√≥xima';
        const redoBtn = document.createElement('button');
        redoBtn.className='btn-ghost mt-4 ml-3 hidden';
        redoBtn.textContent='Refazer';

        quizContainer.appendChild(questionInfoContainer);
        quizContainer.appendChild(questionText);
        quizContainer.appendChild(optionsContainer);
        quizContainer.appendChild(feedbackContainer);
        quizContainer.appendChild(nextBtn);
        quizContainer.appendChild(redoBtn);
        
        function setupNavEvents() {
            btnLearn.addEventListener('click', () => switchView('learn'));
            btnPractice.addEventListener('click', () => switchView('practice'));
        }

        function switchView(view){
            learnSection.classList.add('hidden');
            practiceSection.classList.add('hidden');

            btnLearn.classList.replace('btn-primary', 'btn-ghost');
            btnPractice.classList.replace('btn-primary', 'btn-ghost');

            if(view === 'learn'){
                learnSection.classList.remove('hidden');
                btnLearn.classList.replace('btn-ghost', 'btn-primary');
            } else if (view === 'practice') {
                practiceSection.classList.remove('hidden');
                btnPractice.classList.replace('btn-ghost', 'btn-primary');
                if (!quizStarted) {
                    startQuiz();
                    quizStarted = true;
                }
            }
        }
        
        // --- Regular Quiz Logic ---

        function renderQuestionButtons(buttonsEl, statusArr, index, orderArr){
            buttonsEl.innerHTML='';
            quizData.forEach((qObj,originalIndex)=>{
                const b = document.createElement('button');
                b.textContent = (originalIndex + 1);
                b.setAttribute('data-original-index', String(originalIndex));
                
                const dot = document.createElement('span');
                dot.className = `difficulty-dot difficulty-${qObj.difficulty.toLowerCase()}-dot`;
                b.appendChild(dot);
                
                b.title = `Quest√£o ${originalIndex+1}: Dificuldade ${qObj.difficulty}`;
                
                // Se a quest√£o estiver na fila de repeti√ß√£o (ou seja, foi errada e ainda n√£o acertada),
                // n√£o permitimos navegar diretamente para ela pelos bot√µes num√©ricos para for√ßar a sequ√™ncia de repeti√ß√£o.
                // A navega√ß√£o livre s√≥ funciona na primeira rodada ou para quest√µes j√° acertadas.
                
                b.onclick = ()=>{
                    // Permitir navega√ß√£o apenas se n√£o estivermos no modo de repeti√ß√£o for√ßada
                    if (retryQueue.length === 0) {
                         const pos = orderArr.indexOf(originalIndex);
                        if(pos >= 0){ 
                            currentIndex = pos; 
                            showQuestion(); 
                        }
                    }
                };

                if(questionStatus[originalIndex]==='correct') b.classList.add('correct-status');
                if(questionStatus[originalIndex]==='wrong') b.classList.add('wrong-status');
                
                if (quizStarted && index < orderArr.length) {
                     const currentQuestionOriginalIndex = orderArr[index];
                    if(originalIndex === currentQuestionOriginalIndex) {
                        b.classList.add('current-question');
                    }
                }
                
                buttonsEl.appendChild(b);
            });
        }
        
        function startQuiz(){
            // Ordena por dificuldade
            quizData.sort((a, b) => difficultyOrder[a.difficulty] - difficultyOrder[b.difficulty]);
            questionOrder = quizData.map((_, i) => i);
            currentIndex = 0;
            questionStatus = Array(quizData.length).fill(null);
            retryQueue = []; 
            showQuestion();
        }

        function showQuestion(){
            const finalResultsDiv = document.getElementById('final-results');
            if (finalResultsDiv) finalResultsDiv.remove();
            quizContainer.style.display = 'block';

            if (currentIndex >= questionOrder.length) {
                 if (retryQueue.length > 0) {
                    // Inicia rodada de repeti√ß√£o
                    questionOrder = [...retryQueue];
                    retryQueue = []; 
                    currentIndex = 0;
                    // Embaralha para n√£o ficar repetitivo na mesma ordem
                    for(let i=questionOrder.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [questionOrder[i],questionOrder[j]]=[questionOrder[j],questionOrder[i]]; }
                    
                    alert("Voc√™ errou algumas quest√µes. Vamos revis√°-las agora!");
                    showQuestion(); 
                    return;
                } else {
                    showFinalResults();
                    return;
                }
            }
        
            const qIdx = questionOrder[currentIndex];
            const qObj = quizData[qIdx];
            
            questionInfoContainer.classList.remove('hidden');
            questionTopic.textContent = qObj.topic;
            questionDifficulty.textContent = qObj.difficulty;
            questionDifficulty.className = `difficulty-badge difficulty-${qObj.difficulty.toLowerCase()}`;
            
            questionText.innerHTML = `${qIdx + 1}) ${qObj.q.replace(/^[\s\d\)\(\.\:\-‚Äì‚Äî_]+/,'').trim()}`;
            
            optionsContainer.innerHTML='';
            feedbackContainer.innerHTML='';
            nextBtn.classList.add('hidden'); 
            
            qObj.options.forEach(opt =>{
                const b = document.createElement('button');
                b.className='option-btn'; 
                b.textContent=opt;
                b.onclick = ()=> selectAnswer(b, opt, qObj.answer, qObj.explanation, qIdx);
                optionsContainer.appendChild(b);
            });

            renderQuestionButtons(questionButtons, questionStatus, currentIndex, questionOrder);
        }
        
        function showFinalResults() {
            const correctCount = questionStatus.filter(s => s === 'correct').length;
            const total = quizData.length;
            
            quizContainer.style.display = 'none';

            let finalResultsDiv = document.createElement('div');
            finalResultsDiv.id = 'final-results';
            finalResultsDiv.className = 'text-center';
            practiceSection.appendChild(finalResultsDiv);

            finalResultsDiv.innerHTML = `
                <h2 class="text-2xl font-bold">üéâ Parab√©ns! Voc√™ completou o Quiz! üéâ</h2>
                <p class="text-lg mt-4">Voc√™ dominou todas as quest√µes.</p>
                <button id="restart-btn" class="btn-primary mt-6">Recome√ßar do Zero</button>
            `;
            
            document.getElementById('restart-btn').onclick = () => {
                quizStarted = false;
                startQuiz(); 
                quizStarted = true;
            };
        }

        function selectAnswer(btn,opt,correct,explanation,qIdx){
            Array.from(optionsContainer.children).forEach(b=> {
                b.disabled=true;
                if(b.textContent === correct) {
                    b.classList.add('correct');
                }
            });
            nextBtn.classList.remove('hidden');

            if(opt===correct){
                btn.classList.add('celebrate');
                createConfetti();
                // S√≥ marca como 'correct' no status global se n√£o estava na fila de repeti√ß√£o (primeira tentativa)
                // Se estava na fila, a gente n√£o muda o status visual original para 'certo' para manter o hist√≥rico,
                // mas o usu√°rio conseguiu passar por ela.
                // Na verdade, para simplificar visualmente, podemos marcar como 'correct' agora para mostrar progresso.
                questionStatus[qIdx]='correct';
                
                feedbackContainer.className='feedback-correct mt-4';
                feedbackContainer.textContent = 'Correto! ' + (explanation || '');
            } else {
                btn.classList.add('wrong');
                questionStatus[qIdx]='wrong';
                retryQueue.push(qIdx); // Adiciona √† fila para refazer
                feedbackContainer.className='feedback-wrong mt-4';
                feedbackContainer.innerHTML = `<strong>Errado.</strong> ${explanation || ''}`;
            }
            renderQuestionButtons(questionButtons, questionStatus, currentIndex, questionOrder);
        }

        nextBtn.addEventListener('click', ()=>{
            currentIndex++; 
            showQuestion(); 
        });

        function createConfetti(){
            const colors = ['#f59e0b','#ef4444','#10b981','#3b82f6','#8b5cf6'];
            for(let i=0;i<12;i++){
                const el = document.createElement('div');
                el.className='confetti';
                el.style.left = (30 + Math.random()*40) + '%';
                el.style.top = (10 + Math.random()*10) + 'vh';
                el.style.color = colors[Math.floor(Math.random()*colors.length)];
                el.textContent = 'üéâ';
                el.style.transform = `rotate(${Math.random()*360}deg)`;
                el.style.animation = `confetti-fall ${1.2 + Math.random()*1}s linear forwards`;
                document.body.appendChild(el);
                setTimeout(()=> el.remove(), 2200);
            }
        }
        
        setupNavEvents();
        switchView('learn');
    });
    </script>
</body>
</html>