<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estudos: Gramática (8º Ano)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        /* Cores principais atualizadas */
        .bg-dark-bg { background-color: #121212; } /* Fundo principal */
        .bg-dark-surface { background-color: #1E1E1E; } /* Cartões e nav */
        .text-dark-text { color: #E0E0E0; } /* Texto padrão */
        .text-dark-light-text { color: #B0B0B0; } /* Texto secundário/p */

        /* paleta de destaque: Tons de Bronze/Dourado Envelhecido */
        .accent-primary { background-color: #D97706; color: white; } /* Laranja escuro/Bronze (Orange 700) */
        .hover\:accent-primary-dark { background-color: #C26402; } /* Laranja mais escuro (Orange 800) */
        .accent-secondary { color: #FDBA74; } /* Laranja claro/Pêssego (Orange 300) */
        .text-highlight { color: #FED7AA; } /* Laranja mais claro (Orange 200) para destaques */
        .text-success { color: #34D399; } /* Esmeralda para sucesso */
        .bg-success-dark { background-color: #065F46; } /* Esmeralda mais escuro */
        .text-error { color: #EF4444; } /* Vermelho para erro */
        .bg-error-dark { background-color: #991B1B; } /* Vermelho mais escuro */
        
        .mode-button.active {
            background-color: #D97706; /* Cor principal de destaque */
            color: white;
        }
        .nav-link.active {
            background-color: #D97706; /* Cor principal de destaque */
            color: white;
        }

        .prose-headings {
            color: #FDBA74; /* Laranja claro (Orange 300) */
        }
        .prose-strong {
            color: #FDBA74; /* Laranja claro (Orange 300) */
        }
        .prose-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1em;
            margin-bottom: 1em;
            overflow: auto;
            display: block;
        }
        .prose-th, .prose-td {
            border: 1px solid #424242; /* Cinza mais escuro para bordas da tabela */
            padding: 0.5em 1em;
            white-space: nowrap;
        }
        .prose-th {
            background-color: #2F2F2F; /* Fundo mais escuro para cabeçalho da tabela */
            font-weight: 600;
        }
        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
    </style>
</head>
<body class="bg-dark-bg text-dark-text">

    <div class="w-full max-w-7xl mx-auto">
        <header class="text-center py-8 px-4">
            <h1 class="text-4xl sm:text-5xl font-bold text-white mb-4">Gramática (8º Ano)</h1>
            <p class="text-lg text-dark-light-text">Revisão de Variação Linguística, Períodos, Orações e Interpretação de Texto.</p>
        </header>
        
        <nav class="flex justify-center items-center bg-dark-surface rounded-lg p-2 mb-8 gap-2 flex-wrap max-w-md mx-auto">
            <button id="btn-learn" class="mode-button accent-primary flex-grow sm:flex-grow-0 text-center py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">Aprender</button>
            <button id="btn-practice" class="mode-button flex-grow sm:flex-grow-0 text-center py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">Praticar</button>
        </nav>

        <div id="learn-container">
            <div class="flex flex-col lg:flex-row gap-8 p-4">
                <!-- Navegação Lateral --><aside class="lg:w-1/4">
                    <nav class="sticky top-4 bg-dark-surface rounded-lg p-4">
                        <h3 class="text-xl font-bold text-white mb-4">Tópicos</h3>
                        <ul class="space-y-2">
                            <li><a href="#variacao" class="nav-link block py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark active">1. Variação Linguística</a></li>
                            <li><a href="#periodos" class="nav-link block py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">2. Período Simples e Composto</a></li>
                            <li><a href="#coordenadas" class="nav-link block py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">3. Orações Coordenadas</a></li>
                            <li><a href="#subordinadas" class="nav-link block py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">4. Orações Subordinadas</a></li>
                            <li><a href="#interpretacao" class="nav-link block py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">5. Interpretação de Texto</a></li>
                        </ul>
                    </nav>
                </aside>

                <!-- Conteúdo Principal --><main class="lg:w-3/4 space-y-12">
                    
                    <section id="variacao" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-3xl font-bold border-b border-gray-700 pb-2 mb-4 prose-headings">1. Variação Linguística</h2>
                            <p>A <strong class="prose-strong">Variação Linguística</strong> é o movimento natural de mudança e adaptação que toda língua possui. Ela mostra que não existe um "jeito certo" de falar, mas sim o "jeito adequado" para cada situação. As variações podem ser:</p>
                            <ul>
                                <li><strong>Histórica (Diacrônica):</strong> Muda com o tempo. Ex: "Vossa Mercê" (antigo) virou "Vosmecê" e hoje é "Você". Palavras como "farmácia" (com ph) viraram "farmácia" (com f).</li>
                                <li><strong>Geográfica (Diatópica):</strong> Muda conforme a região. Ex: "Mandioca" (Sul/Sudeste), "Aipim" (Rio de Janeiro), "Macaxeira" (Nordeste). Sotaques também entram aqui.</li>
                                <li><strong>Social (Diastrática):</strong> Muda conforme o grupo social. Inclui:
                                    <ul>
                                        <li><strong>Gírias:</strong> Linguagem de um grupo específico (jovens, surfistas). Ex: "Tamo junto", "Mó cota".</li>
                                        <li><strong>Jargão:</strong> Linguagem técnica de uma profissão. Ex: O "dialeto" dos médicos ("paciente evoluiu para óbito") ou dos advogados ("autos conclusos").</li>
                                    </ul>
                                </li>
                                <li><strong>Situacional (Diafásica):</strong> Muda conforme a situação (formalidade).
                                    <ul>
                                        <li><strong>Linguagem Formal (Culta):</strong> Usada em entrevistas de emprego, documentos. Ex: "Prezado senhor, venho por meio desta..."</li>
                                        <li><strong>Linguagem Informal (Coloquial):</strong> Usada com amigos e família. Ex: "E aí, beleza? O que você vai fazer?"</li>
                                    </ul>
                                </li>
                            </ul>
                        </article>
                    </section>
                    
                    <section id="periodos" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-3xl font-bold border-b border-gray-700 pb-2 mb-4 prose-headings">2. Período Simples e Composto</h2>
                            <p>Para entender período, precisamos saber o que é uma <strong class="prose-strong">Oração</strong>. Uma oração é qualquer frase que se organiza ao redor de um <strong class="text-highlight">verbo</strong> (ou locução verbal).</p>
                            
                            <ul>
                                <li><strong>Período Simples:</strong> É aquele formado por <strong class="text-highlight">apenas UMA oração</strong> (ou seja, apenas um verbo ou locução verbal).</li>
                                <li>Ex: "O sol <strong class="text-highlight">brilhou</strong> hoje de manhã." (1 verbo = 1 oração)</li>
                                <li>Ex: "Os alunos <strong class="text-highlight">estão estudando</strong>." (1 locução verbal = 1 oração)</li>
                            </ul>
                            
                            <ul>
                                <li><strong>Período Composto:</strong> É aquele formado por <strong class="text-highlight">DUAS ou MAIS orações</strong> (ou seja, dois ou mais verbos/locuções).</li>
                                <li>Ex: "Eu <strong class="text-highlight">cheguei</strong> / e <strong class="text-highlight">vi</strong> / que você <strong class="text-highlight">tinha saído</strong>." (3 verbos/locuções = 3 orações)</li>
                            </ul>
                            
                            <p>Períodos compostos se dividem em <strong class="prose-strong">Coordenação</strong> e <strong class="prose-strong">Subordinação</strong>.</p>
                        </article>
                    </section>
                    
                    <section id="coordenadas" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-3xl font-bold border-b border-gray-700 pb-2 mb-4 prose-headings">3. Orações Coordenadas</h2>
                            <p>O Período Composto por Coordenação ocorre quando as orações são <strong class="text-highlight">independentes</strong>. Elas fazem sentido sozinhas, mas estão ligadas para formar um pensamento maior.</p>
                            <p>Ex: "Eu estudei muito." (faz sentido) / "Eu fui bem na prova." (faz sentido)</p>
                            
                            <h3 class="text-2xl font-semibold mt-6">Tipos de Coordenadas</h3>
                            <ul>
                                <li><strong>Assindéticas:</strong> Não possuem conjunção (palavra de ligação), são separadas por vírgula.</li>
                                <li>Ex: "Cheguei, vi, venci."</li>
                                <li><strong>Sindéticas:</strong> Possuem conjunção.</li>
                            </ul>
                            
                            <h3 class="text-2xl font-semibold mt-6">Classificação das Sindéticas</h3>
                            <div class="prose-table">
                                <table>
                                    <thead><tr><th>Tipo</th><th>Ideia</th><th>Conjunções Principais</th><th>Exemplo</th></tr></thead>
                                    <tbody>
                                        <tr><td><strong>Aditivas</strong></td><td>Soma, adição</td><td>e, nem, não só... mas também</td><td>"Ele estuda <strong class="text-highlight">e</strong> trabalha."</td></tr>
                                        <tr><td><strong>Adversativas</strong></td><td>Oposição, contraste</td><td>mas, porém, contudo, todavia</td><td>"Estudei muito, <strong class="text-highlight">mas</strong> fui mal."</td></tr>
                                        <tr><td><strong>Alternativas</strong></td><td>Escolha, alternância</td><td>ou...ou, ora...ora, quer...quer</td><td>"<strong class="text-highlight">Ou</strong> você estuda, <strong class="text-highlight">ou</strong> vê TV."</td></tr>
                                        <tr><td><strong>Conclusivas</strong></td><td>Conclusão, resultado</td><td>logo, portanto, por isso, pois (depois do verbo)</td><td>"Estudei, <strong class="text-highlight">logo</strong> devo passar."</td></tr>
                                        <tr><td><strong>Explicativas</strong></td><td>Explicação, motivo</td><td>que, porque, pois (antes do verbo)</td><td>"Estude, <strong class="text-highlight">pois</strong> a prova é amanhã."</td></tr>
                                    </tbody>
                                </table>
                            </div>
                        </article>
                    </section>
                    
                    <section id="subordinadas" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-3xl font-bold border-b border-gray-700 pb-2 mb-4 prose-headings">4. Orações Subordinadas</h2>
                            <p>O Período Composto por Subordinação ocorre quando uma oração é <strong class="text-highlight">dependente</strong> da outra (a Oração Principal) para fazer sentido completo. A oração subordinada funciona como uma "peça que falta" na oração principal.</p>
                            <p>Ex: "Eu quero..." (Oração Principal - falta algo) / "...que você volte." (Oração Subordinada - completa o sentido do verbo "querer").</p>
                            
                            <h3 class="text-2xl font-semibold mt-6">Tipos Principais de Subordinadas</h3>
                            <ul>
                                <li><strong>Substantivas:</strong> Têm função de <strong class="prose-strong">substantivo</strong>. Elas completam o sentido de um verbo (Objeto Direto ou Indireto) ou de um nome. Podem ser trocadas por <strong class="text-highlight">"ISSO"</strong>.
                                    <ul><li>Ex: "Eu quero (isso)." $\rightarrow$ "Eu quero <strong class="text-highlight">que você volte</strong>."</li></ul>
                                </li>
                                <li><strong>Adjetivas:</strong> Têm função de <strong class="prose-strong">adjetivo</strong>. Elas qualificam ou explicam um substantivo da oração principal. São introduzidas por Pronomes Relativos (que, o qual, onde, cujo).
                                    <ul><li>Ex: "O aluno <strong class="prose-strong">estudioso</strong> passou." $\rightarrow$ "O aluno <strong class="text-highlight">que estuda</strong> passou."</li></ul>
                                </li>
                                <li><strong>Adverbiais:</strong> Têm função de <strong class="prose-strong">advérbio</strong>. Elas indicam uma circunstância (tempo, causa, condição, finalidade, etc.) em relação à oração principal.
                                    <ul><li>Ex: "Eu saí <strong class="prose-strong">cedo</strong>." $\rightarrow$ "Eu saí <strong class="text-highlight">quando o sol nasceu</strong>." (ideia de tempo)</li></ul>
                                </li>
                            </ul>
                        </article>
                    </section>

                    <section id="interpretacao" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-3xl font-bold border-b border-gray-700 pb-2 mb-4 prose-headings">5. Interpretação de Texto</h2>
                            <p>Interpretar um texto é ir além do que está escrito, é captar a mensagem, as intenções e as conclusões possíveis.</p>
                            
                            <h3 class="text-2xl font-semibold mt-6">Compreensão vs. Interpretação</h3>
                            <ul>
                                <li><strong>Compreender:</strong> É saber o que <strong class="text-highlight">ESTÁ ESCRITO</strong> no texto. As respostas estão na superfície.
                                    <ul><li>Ex: "O que o autor disse sobre o personagem X?"</li></ul>
                                </li>
                                <li><strong>Interpretar:</strong> É saber o que o autor <strong class="text-highlight">QUIS DIZER</strong> (inferir). É uma conclusão que você tira com base no que leu.
                                    <ul><li>Ex: "Qual é a crítica que o autor faz à sociedade?"</li></ul>
                                </li>
                            </ul>

                            <h3 class="text-2xl font-semibold mt-6">Dicas para uma boa Interpretação</h3>
                            <ol>
                                <li><strong>Leia o Título e Subtítulos:</strong> Eles dão a pista principal sobre o tema.</li>
                                <li><strong>Primeira Leitura:</strong> Faça uma leitura rápida para ter uma ideia geral do assunto.</li>
                                <li><strong>Segunda Leitura:</strong> Leia com calma, sublinhando palavras-chave e a ideia principal de cada parágrafo.</li>
                                <li><strong>Identifique a Ideia Central (Tese):</strong> Qual é a principal mensagem que o autor quer passar?</li>
                                <li><strong>Contextualize:</strong> Quem escreveu? Para quem? Em que época?</li>
                            </ol>
                        </article>
                    </section>
                </main>
            </div>
        </div>
        
        <!-- Seção Praticar --><section id="practice-section" class="hidden p-4">
            <div id="quiz-container" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg max-w-3xl mx-auto">
                <div id="question-header" class="mb-4 text-center">
                    <p class="accent-secondary font-semibold" id="question-topic"></p>
                </div>
                <p id="question-text" class="text-xl text-center mb-6 min-h-[60px]"></p>
                <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
                <div id="feedback-container" class="mt-6 text-center"></div>

                <!-- Navegação --><div class="flex justify-between items-center mt-8">
                    <button id="prev-btn" class="accent-primary py-2 px-5 rounded-md font-semibold transition-colors hover:accent-primary-dark disabled:bg-gray-600 disabled:cursor-not-allowed">Anterior</button>
                    <span id="question-counter" class="font-semibold text-dark-text"></span>
                    <button id="next-btn" class="accent-primary py-2 px-5 rounded-md font-semibold transition-colors hover:accent-primary-dark">Próxima</button>
                </div>
            </div>

            <!-- Navegação de Questões --><div id="question-nav-container" class="hidden bg-dark-surface p-4 rounded-lg shadow-lg max-w-3xl mx-auto mt-4">
                <div id="question-buttons-grid" class="flex flex-wrap justify-center gap-2">
                    <!-- Buttons will be programmatically inserted here --></div>
            </div>

             <!-- Tela de Pontuação --><div id="score-screen" class="hidden text-center bg-dark-surface p-8 rounded-lg shadow-lg max-w-3xl mx-auto mt-8">
                <h3 class="text-4xl font-bold text-white mb-4">Pontuação Final</h3>
                <p id="final-score" class="text-6xl font-bold accent-secondary mb-2"></p>
                <p id="score-message" class="text-lg text-dark-light-text mb-8"></p>
                <button id="restart-btn" class="bg-green-600 text-white py-3 px-8 rounded-lg font-semibold text-lg hover:bg-green-500 transition-colors">Recomeçar</button>
            </div>
        </section>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script>
        // --- BANCO DE DADOS DAS QUESTÕES ---
        const questions = [
            // NÍVEL FÁCIL (10 Questões)
            { topic: "Variação Linguística", difficulty: "Fácil", question: "Chamar mandioca de 'aipim' ou 'macaxeira' dependendo da região é um exemplo de variação:", options: ["Histórica", "Social", "Geográfica", "Situacional"], answer: 2, explanation: "É uma variação Geográfica (Diatópica), pois muda conforme o local." },
            { topic: "Períodos", difficulty: "Fácil", question: "A frase 'O menino chorou.' é um exemplo de:", options: ["Período Simples", "Período Composto", "Oração Coordenada", "Oração Subordinada"], answer: 0, explanation: "É um Período Simples, pois possui apenas um verbo ('chorou')." },
            { topic: "Períodos", difficulty: "Fácil", question: "Quantas orações existem em 'Eu cheguei e o portão estava fechado'?", options: ["Uma", "Duas", "Três", "Nenhuma"], answer: 1, explanation: "Existem duas orações, pois há dois verbos: 'cheguei' e 'estava'." },
            { topic: "Orações Coordenadas", difficulty: "Fácil", question: "Na frase 'Estudei, MAS não entendi', a conjunção 'MAS' dá uma ideia de:", options: ["Adição", "Alternância", "Conclusão", "Adversidade (Oposição)"], answer: 3, explanation: "'Mas' é a principal conjunção Adversativa, indicando um contraste com a ideia anterior." },
            { topic: "Orações Coordenadas", difficulty: "Fácil", question: "Na frase 'Ele não só estuda, MAS TAMBÉM trabalha', a conjunção indica:", options: ["Adição", "Oposição", "Explicação", "Alternância"], answer: 0, explanation: "A expressão 'não só... mas também' é Aditiva, pois soma duas informações." },
            { topic: "Orações Subordinadas", difficulty: "Fácil", question: "Em 'Eu quero QUE VOCÊ SEJA APROVADO', a segunda oração é:", options: ["Coordenada Aditiva", "Coordenada Adversativa", "Oração Principal", "Oração Subordinada"], answer: 3, explanation: "A oração 'que você seja aprovado' é Subordinada, pois depende do verbo 'Quero' da oração principal para fazer sentido." },
            { topic: "Variação Linguística", difficulty: "Fácil", question: "Quando um médico usa o termo 'cefaleia' em vez de 'dor de cabeça', ele está usando um(a):", options: ["Gíria", "Variação Geográfica", "Jargão (Variação Social)", "Erro de português"], answer: 2, explanation: "É um Jargão, a linguagem técnica de um grupo profissional (variação social)." },
            { topic: "Variação Linguística", difficulty: "Fácil", question: "Usar 'E aí, beleza?' com amigos e 'Bom dia, senhor' com seu chefe é um exemplo de variação:", options: ["Histórica", "Geográfica", "Social", "Situacional"], answer: 3, explanation: "É uma variação Situacional (Diafásica), pois o falante adapta sua linguagem à formalidade da situação." },
            { topic: "Interpretação", difficulty: "Fácil", question: "O que significa 'Compreensão de Texto'?", options: ["Dar sua opinião sobre o texto", "Entender o que está escrito explicitamente", "Adivinhar o que o autor pensou", "Ler o texto rapidamente"], answer: 1, explanation: "Compreensão é entender as informações que estão na superfície do texto." },
            { topic: "Interpretação", difficulty: "Fácil", question: "O que significa 'Interpretação de Texto'?", options: ["Achar a resposta exata no texto", "Fazer conclusões lógicas com base no texto", "Decorar o texto", "Criticar o autor"], answer: 1, explanation: "Interpretação (ou inferência) é ir além do que está escrito, fazendo conclusões baseadas nas pistas do texto." },

            // NÍVEL MÉDIO (10 Questões)
            { topic: "Variação Linguística", difficulty: "Médio", question: "A mudança da palavra 'Pharmácia' (com PH) para 'Farmácia' (com F) é um exemplo de variação:", options: ["Geográfica", "Social", "Situacional", "Histórica"], answer: 3, explanation: "É uma variação Histórica (Diacrônica), pois a ortografia da palavra mudou com o passar do tempo." },
            { topic: "Períodos", difficulty: "Médio", question: "Classifique o período: 'A noite caiu e as estrelas surgiram no céu.'", options: ["Período Simples", "Período Composto por Coordenação", "Período Composto por Subordinação", "Período Composto Misto"], answer: 1, explanation: "É um Período Composto (verbos 'caiu' e 'surgiram'). As duas orações são independentes e ligadas pela conjunção 'e' (Aditiva), sendo Coordenadas." },
            { topic: "Orações Coordenadas", difficulty: "Médio", question: "Em 'Estudei muito, PORTANTO, mereço uma boa nota', a oração destacada é:", options: ["Adversativa", "Conclusiva", "Explicativa", "Aditiva"], answer: 1, explanation: "'Portanto' (assim como 'logo') introduz uma Conclusão lógica do fato anterior." },
            { topic: "Orações Coordenadas", difficulty: "Médio", question: "Em 'Abra a janela, POIS está calor', a oração destacada é:", options: ["Adversativa", "Alternativa", "Conclusiva", "Explicativa"], answer: 3, explanation: "'Pois' (antes do verbo, como 'porque') introduz uma Explicação ou motivo para a ordem anterior." },
            { topic: "Orações Subordinadas", difficulty: "Médio", question: "Em 'Eu preciso DE QUE VOCÊ ME AJUDE', a oração subordinada é:", options: ["Substantiva (pode trocar por 'DISSO')", "Adjetiva (qualifica 'eu')", "Adverbial (indica tempo)", "Coordenada (independente)"], answer: 0, explanation: "A oração completa o sentido do verbo 'precisar' (Quem precisa, precisa DE algo/DISSO). É uma Oração Subordinada Substantiva." },
            { topic: "Orações Subordinadas", difficulty: "Médio", question: "Em 'O livro QUE EU LI é ótimo', a oração subordinada é:", options: ["Substantiva (pode trocar por 'ISSO')", "Adjetiva (qualifica 'o livro')", "Adverbial (indica causa)", "Coordenada (independente)"], answer: 1, explanation: "A oração 'que eu li' está qualificando o substantivo 'livro' (não é qualquer livro, é aquele *que eu li*). É uma Oração Subordinada Adjetiva." },
            { topic: "Períodos", difficulty: "Médio", question: "Classifique o período: 'Quando a chuva passar, nós sairemos.'", options: ["Período Simples", "Período Composto por Coordenação", "Período Composto por Subordinação", "Frase Nominal"], answer: 2, explanation: "É Composto (verbos 'passar' e 'sairemos'). A oração 'Quando a chuva passar' indica o tempo em que a outra ocorrerá, sendo dependente dela (Subordinada Adverbial Temporal)." },
            { topic: "Orações Coordenadas", difficulty: "Médio", question: "Qual o tipo de oração coordenada em 'ORA estuda, ORA brinca'?", options: ["Aditiva", "Adversativa", "Alternativa", "Conclusiva"], answer: 2, explanation: "As conjunções 'ora... ora' (assim como 'ou... ou') indicam uma Alternância de fatos." },
            { topic: "Variação Linguística", difficulty: "Médio", question: "O que é 'Preconceito Linguístico'?", options: ["Achar um sotaque mais bonito que outro", "Julgar alguém como 'burro' ou 'errado' pelo seu modo de falar", "Corrigir um erro de gramática", "Falar usando gírias"], answer: 1, explanation: "É o preconceito social baseado no modo de falar da pessoa, julgando a variação (social, geográfica) do outro como 'inferior' ou 'errada'." },
            { topic: "Interpretação", difficulty: "Médio", question: "Qual a diferença entre a ideia central (tese) e um argumento?", options: ["São a mesma coisa", "A tese é a opinião; o argumento é a prova para defendê-la", "A tese é a prova; o argumento é a opinião", "A tese é a conclusão final"], answer: 1, explanation: "A tese é a ideia principal que o autor defende. Os argumentos são os fatos, dados ou raciocínios que ele usa para provar que a tese está correta." },

            // NÍVEL DIFÍCIL (10 Questões)
            { topic: "Períodos", difficulty: "Difícil", question: "Em 'O homem é um animal QUE PENSA', o período é composto por:", options: ["Coordenação", "Subordinação (Oração Adjetiva)", "Subordinação (Oração Substantiva)", "Subordinação (Oração Adverbial)"], answer: 1, explanation: "Temos os verbos 'é' e 'pensa'. A oração 'QUE PENSA' está qualificando o substantivo 'animal' (como um adjetivo). É uma Oração Subordinada Adjetiva." },
            { topic: "Orações Coordenadas", difficulty: "Difícil", question: "Em 'Ele saiu cedo, mas não chegou a tempo.' A segunda oração é:", options: ["Oração Coordenada Sindética Adversativa", "Oração Coordenada Assindética", "Oração Subordinada Adverbial", "Oração Principal"], answer: 0, explanation: "É uma oração Coordenada (independente), Sindética (tem conjunção) e Adversativa (ideia de oposição, 'mas')." },
            { topic: "Orações Coordenadas", difficulty: "Difícil", question: "Em 'Penso, logo existo.', a segunda oração ('logo existo') é:", options: ["Coordenada Conclusiva", "Coordenada Explicativa", "Subordinada Causal", "Subordinada Consecutiva"], answer: 0, explanation: "'Logo' é uma conjunção que introduz uma Conclusão baseada na oração anterior." },
            { topic: "Orações Subordinadas", difficulty: "Difícil", question: "Em 'É necessário QUE TODOS PARTICIPEM', a oração destacada é:", options: ["Adjetiva", "Adverbial", "Substantiva", "Coordenada"], answer: 2, explanation: "A oração 'que todos participem' pode ser trocada por 'ISSO' (ISSO é necessário). Ela funciona como o sujeito da oração principal. É Substantiva." },
            { topic: "Períodos", difficulty: "Difícil", question: "Qual dos períodos abaixo é composto por Subordinação?", options: ["O dia amanheceu e o sol surgiu.", "Estudei, mas não aprendi.", "Fiz o bolo conforme a receita mandou.", "Ele é inteligente, logo passará."], answer: 2, explanation: "'Conforme a receita mandou' indica a conformidade (um tipo de advérbio) em que o bolo foi feito. É uma Oração Subordinada Adverbial." },
            { topic: "Variação Linguística", difficulty: "Difícil", question: "A escolha de usar 'tu' ou 'você' para se referir à segunda pessoa se encaixa, no Brasil, principalmente em qual variação?", options: ["Histórica e Geográfica", "Apenas Social (Gíria)", "Apenas Situacional (Formal)", "Apenas Histórica"], answer: 0, explanation: "É Histórica (o 'tu' é mais antigo que o 'você') e também Geográfica (o Sul do Brasil usa 'tu' comumente, enquanto o Sudeste prefere 'você')." },
            { topic: "Períodos", difficulty: "Difícil", question: "Qual período abaixo é classificado como 'Simples'?", options: ["Eu quero ir ao cinema.", "Ele disse que viria.", "Choveu e ventou muito.", "Vou estudar para a prova."], answer: 3, explanation: "'Vou estudar' é uma locução verbal (conta como 1 verbo). 'Para a prova' não tem verbo. Portanto, é um Período Simples (1 oração)." },
            { topic: "Orações Subordinadas", difficulty: "Difícil", question: "Em 'Embora estivesse cansado, ele terminou o trabalho.' A primeira oração é:", options: ["Coordenada Adversativa", "Subordinada Adverbial Concessiva", "Subordinada Adverbial Causal", "Subordinada Adjetiva"], answer: 1, explanation: "'Embora' introduz uma ideia de 'concessão' (um obstáculo que não impediu a ação principal). É uma Oração Subordinada Adverbial Concessiva." },
            { topic: "Orações Coordenadas", difficulty: "Difícil", question: "Qual a diferença de sentido do 'pois' em: 1) 'Estude, pois a prova será difícil.' 2) 'Estudou muito; deve, pois, ser aprovado.'?", options: ["É igual nos dois casos", "1 é Explicativa; 2 é Conclusiva", "1 é Conclusiva; 2 é Explicativa", "1 é Causal; 2 é Aditiva"], answer: 1, explanation: "'Pois' antes do verbo (ou no início da oração) é Explicativa. 'Pois' depois do verbo (deslocado) é Conclusiva (sinônimo de 'portanto')." },
            { topic: "Interpretação", difficulty: "Difícil", question: "Quando um texto usa 'ironia' (dizer o oposto do que se quer dizer), o leitor precisa usar qual habilidade?", options: ["Apenas Compreensão", "Apenas Adivinhação", "Interpretação (Inferência)", "Variação Histórica"], answer: 2, explanation: "A ironia não está explícita. O leitor precisa *interpretar* o tom, o contexto e as pistas do texto para entender o sentido real (inferir)." }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            // --- LÓGECA DO MODO DE APRENDIZAGEM ---
            const links = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('#learn-container main section');

            const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        links.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, observerOptions);

            sections.forEach(section => { observer.observe(section); });
            
            links.forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                });
            });

            // --- LÓGICA DO MODO DE PRÁTICA ---
            const btnLearn = document.getElementById('btn-learn');
            const btnPractice = document.getElementById('btn-practice');
            const learnContainer = document.getElementById('learn-container');
            const practiceSection = document.getElementById('practice-section');
            
            const quizContainer = document.getElementById('quiz-container');
            const scoreScreen = document.getElementById('score-screen');
            const questionTopic = document.getElementById('question-topic');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const feedbackContainer = document.getElementById('feedback-container');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const questionCounter = document.getElementById('question-counter');
            const finalScore = document.getElementById('final-score');
            const scoreMessage = document.getElementById('score-message');
            const restartBtn = document.getElementById('restart-btn');
            const questionNavContainer = document.getElementById('question-nav-container');

            let state = {
                currentMode: 'learn',
                currentQuestionIndex: 0,
                userAnswers: [],
                score: 0,
            };

            function switchMode(mode) {
                state.currentMode = mode;
                btnLearn.classList.toggle('active', mode === 'learn');
                btnPractice.classList.toggle('active', mode !== 'learn');
                learnContainer.classList.toggle('hidden', mode !== 'learn');
                practiceSection.classList.toggle('hidden', mode === 'learn');

                if (mode === 'practice') {
                    startPractice();
                }
            }

            function startPractice() {
                state.currentQuestionIndex = 0;
                state.score = 0;
                state.userAnswers = Array(questions.length).fill(null);
                quizContainer.classList.remove('hidden');
                scoreScreen.classList.add('hidden');
                questionNavContainer.classList.remove('hidden');
                renderQuestionNavigation();
                renderQuestion(0);
            }
            
            function renderQuestion(index) {
                const question = questions[index];
                questionTopic.textContent = `${question.topic} - (Nível: ${question.difficulty})`;
                questionText.innerHTML = question.question; 
                
                questionCounter.textContent = `${index + 1} / ${questions.length}`;

                optionsContainer.innerHTML = '';
                feedbackContainer.innerHTML = '';

                question.options.forEach((option, i) => {
                    const button = document.createElement('button');
                    button.innerHTML = option; 
                    button.className = "w-full text-left p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors disabled:cursor-not-allowed";
                    button.onclick = () => checkAnswer(i, question.answer, question.explanation);
                    optionsContainer.appendChild(button);
                });

                updateNavButtonsState();
                updateQuestionNavButtons();
            }

            function checkAnswer(selectedIndex, correctIndex, explanation) {
                const isCorrect = selectedIndex === correctIndex;
                const isFirstAttempt = state.userAnswers[state.currentQuestionIndex] === null;
                const wasPreviouslyWrong = state.userAnswers[state.currentQuestionIndex] === false;

                if (isFirstAttempt) {
                    state.userAnswers[state.currentQuestionIndex] = isCorrect;
                    if (isCorrect) {
                        state.score++;
                        confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
                    }
                } else if (wasPreviouslyWrong && isCorrect) {
                    state.userAnswers[state.currentQuestionIndex] = true;
                    confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
                }

                Array.from(optionsContainer.children).forEach((btn, i) => {
                    btn.disabled = true;
                    if (i === correctIndex) {
                        btn.classList.remove('bg-gray-700', 'hover:bg-gray-600');
                        btn.classList.add('bg-green-600', 'text-white');
                    } else if (i === selectedIndex) {
                        btn.classList.remove('bg-gray-700', 'hover:bg-gray-600');
                        btn.classList.add('bg-red-600', 'text-white');
                    }
                });

                feedbackContainer.innerHTML = `
                    <div class="p-4 rounded-lg ${isCorrect ? 'bg-success-dark' : 'bg-error-dark'}">
                        <h4 class="font-bold text-lg mb-2">${isCorrect ? 'Resposta Correta!' : 'Resposta Incorreta!'}</h4>
                        <p class="text-sm" id="explanation-text"></p>
                        <button id="redo-question-btn" class="mt-4 py-2 px-4 accent-primary rounded-md font-semibold hover:accent-primary-dark transition-colors">Tentar Novamente</button>
                    </div>`;
                
                const explanationText = document.getElementById('explanation-text');
                explanationText.innerHTML = explanation; 

                document.getElementById('redo-question-btn').addEventListener('click', resetCurrentQuestion);
                updateQuestionNavButtons();
            }
            
            function resetCurrentQuestion() {
                feedbackContainer.innerHTML = '';
                Array.from(optionsContainer.children).forEach(btn => {
                    btn.disabled = false;
                    btn.className = "w-full text-left p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors disabled:cursor-not-allowed";
                });
            }

            function updateNavButtonsState() {
                prevBtn.disabled = state.currentQuestionIndex === 0;
                nextBtn.textContent = (state.currentQuestionIndex === questions.length - 1) ? "Finalizar" : "Próxima";
            }

            function nextQuestion() {
                if (state.currentQuestionIndex < questions.length - 1) {
                    goToQuestion(state.currentQuestionIndex + 1);
                } else {
                    showFinalScore();
                }
            }

            function prevQuestion() {
                if (state.currentQuestionIndex > 0) {
                   goToQuestion(state.currentQuestionIndex - 1);
                }
            }

            function goToQuestion(index) {
                if (index >= 0 && index < questions.length) {
                    state.currentQuestionIndex = index;
                    renderQuestion(index);
                }
            }

            function renderQuestionNavigation() {
                const grid = document.getElementById('question-buttons-grid');
                grid.innerHTML = '';
                for (let i = 0; i < questions.length; i++) {
                    const button = document.createElement('button');
                    button.textContent = i + 1;
                    button.className = 'w-9 h-9 flex items-center justify-center rounded-md font-semibold transition-all duration-200';
                    button.dataset.index = i;
                    button.onclick = () => goToQuestion(i);
                    grid.appendChild(button);
                }
            }
            
            function updateQuestionNavButtons() {
                const buttons = document.querySelectorAll('#question-buttons-grid button');
                buttons.forEach((btn, i) => {
                    btn.className = 'w-9 h-9 flex items-center justify-center rounded-md font-semibold transition-all duration-200';
                    const answerState = state.userAnswers[i];
                    
                    if (answerState === true) {
                        btn.classList.add('bg-green-600', 'text-white');
                    } else if (answerState === false) {
                        btn.classList.add('bg-red-600', 'text-white');
                    } else {
                        btn.classList.add('bg-gray-700', 'hover:bg-gray-600');
                    }

                    if (i === state.currentQuestionIndex) {
                        btn.classList.add('ring-2', 'ring-offset-2', 'ring-offset-gray-800', 'ring-orange-500'); 
                        btn.classList.remove('hover:bg-gray-600');
                    }
                });
            }
            
            function showFinalScore() {
                quizContainer.classList.add('hidden');
                scoreScreen.classList.remove('hidden');
                questionNavContainer.classList.add('hidden');

                const percentage = Math.round((state.score / questions.length) * 100);
                finalScore.textContent = `${percentage}%`;

                let message = '';
                if (percentage >= 90) message = "Excelente! Você dominou o assunto!";
                else if (percentage >= 70) message = "Muito bom! Continue praticando para aperfeiçoar.";
                else if (percentage >= 50) message = "Bom esforço! Reveja os tópicos que errou.";
                else message = "Não desanime! Reveja a seção 'Aprender' e tente novamente.";
                
                scoreMessage.textContent = `Você acertou ${state.score} de ${questions.length} questões. ${message}`;
            }

            // --- INICIALIZAÇÃO ---
            btnLearn.classList.add('active'); 
            
            btnLearn.addEventListener('click', () => switchMode('learn'));
            btnPractice.addEventListener('click', () => switchMode('practice'));
            prevBtn.addEventListener('click', prevQuestion);
            nextBtn.addEventListener('click', nextQuestion);
            restartBtn.addEventListener('click', startPractice);

            switchMode('learn');
        });
    </script>
</body>
</html>
