
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuadrilÃ¡teros: Ã‚ngulos e Lados - 8Âº Ano MatemÃ¡tica: Aprenda e Pratique</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .tab-button.active {
            background-color: #0369a1; /* Sky-700 */
            color: white;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }
        .accordion-button.open + .accordion-content {
            max-height: 4000px; /* Increased max-height for potentially longer content */
        }
        .quiz-option:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        .correct-answer {
            background-color: #10b981 !important; /* Emerald-500 */
            color: white !important;
            border-color: #059669 !important; /* Emerald-600 */
        }
        .wrong-answer {
            background-color: #ef4444 !important; /* Red-500 */
            color: white !important;
            border-color: #dc2626 !important; /* Red-600 */
        }
        .content-text { /* General text styling for readability */
            font-size: 1rem;
            line-height: 1.6;
        }
        .term-highlight {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f3f4f6; /* gray-100 */
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.95rem;
        }
        .example-diagram {
            font-style: italic;
            color: #075985; /* sky-800 for example sentences */
            margin-left: 1rem;
            display: block;
            margin-top: 0.5rem;
        }
         .quiz-question-text {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        /* Removed .quiz-image styles as images are removed */
    </style>
    <!-- Chosen Palette: Warm Neutrals with Sky Blue accent (Consistent with previous apps) -->
    <!-- Application Structure Plan: Two-section SPA. 'Aprender' section uses an accordion for step-by-step explanations of quadrilaterals properties (parallelograms, rhombuses, rectangles, squares, trapezoids) and problem-solving, relevant to 8th grade. 'Praticar' section is an interactive quiz with immediate feedback and score tracking, focusing on calculating angles and sides. Images removed from questions. This structure separates learning from application, aiding comprehension and retention. Navigation is via two main buttons. -->
    <!-- Visualization & Content Choices: Report Info: Simplified geometry concepts (quadrilaterals, properties, angle/side calculations) for 8th grade -> Goal: Inform/Organize -> Viz/Presentation: Accordion in 'Aprender'. Interaction: Expand/collapse. Justification: Breaks down geometrical information into digestible steps. Report Info: Age-appropriate geometry problems (calculating angles/sides) & solutions -> Goal: Test knowledge/Compare -> Viz/Presentation: Interactive quiz in 'Praticar'. Interaction: Clickable answers, feedback, score. Justification: Active learning, immediate reinforcement. Images removed. Library/Method: Vanilla JS & Tailwind CSS. Content presented as styled text. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-stone-100 text-slate-800">

    <div class="container mx-auto max-w-4xl p-4 sm:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-sky-800">MatemÃ¡tica - 8Âº Ano: QuadrilÃ¡teros</h1>
            <p class="text-slate-600 mt-2">Aprenda as propriedades dos quadrilÃ¡teros e resolva problemas com Ã¢ngulos e lados!</p>
        </header>

        <nav class="flex justify-center mb-8 bg-white p-2 rounded-lg shadow-sm">
            <button id="btn-learn" class="tab-button active flex-1 sm:flex-none text-center py-2 px-6 font-semibold rounded-md transition-colors duration-300">Aprender</button>
            <button id="btn-practice" class="tab-button flex-1 sm:flex-none text-center py-2 px-6 font-semibold rounded-md transition-colors duration-300">Praticar</button>
        </nav>

        <main>
            <section id="learn-section">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-2xl font-bold mb-4 text-sky-700">Desvendando os QuadrilÃ¡teros</h2>
                    <p class="mb-6 content-text">QuadrilÃ¡teros sÃ£o figuras geomÃ©tricas muito comuns no nosso dia a dia! Vamos explorar suas propriedades e aprender a resolver problemas envolvendo seus Ã¢ngulos e lados.</p>
                    
                    <div id="accordion-container" class="space-y-3">
                    </div>

                    <div class="mt-6 p-4 bg-sky-50 border border-sky-200 rounded-lg">
                        <h3 class="font-bold text-lg text-sky-800">ðŸ’¡ Fique Ligado!</h3>
                        <ul class="list-disc list-inside mt-2 space-y-1 text-slate-700 content-text">
                            <li><strong class="font-semibold">Soma dos Ã‚ngulos Internos:</strong> Em TODO quadrilÃ¡tero, a soma dos seus quatro Ã¢ngulos internos Ã© sempre <strong>360Â°</strong>.</li>
                            <li><strong class="font-semibold">Lados Opostos vs. Lados Consecutivos:</strong> Lados opostos nÃ£o se tocam (a nÃ£o ser nos vÃ©rtices). Lados consecutivos compartilham um vÃ©rtice.</li>
                            <li><strong class="font-semibold">Ã‚ngulos Opostos vs. Ã‚ngulos Consecutivos:</strong> Ã‚ngulos opostos nÃ£o compartilham um lado. Ã‚ngulos consecutivos compartilham um lado.</li>
                            <li><strong class="font-semibold">Diagonais:</strong> Segmentos de reta que unem dois vÃ©rtices nÃ£o consecutivos.</li>
                            <li><strong class="font-semibold">Paralelismo:</strong> Lembre-se do que sÃ£o retas paralelas (nunca se cruzam).</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="practice-section" class="hidden">
                 <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-2xl font-bold mb-2 text-sky-700">Hora de Praticar para a Prova!</h2>
                    <p class="mb-6 content-text">Resolva os problemas abaixo para testar seus conhecimentos sobre as propriedades dos quadrilÃ¡teros, cÃ¡lculo de Ã¢ngulos e lados.</p>

                    <div id="quiz-container">
                        <p id="question-progress" class="text-center font-semibold text-slate-600 mb-4"></p>
                        <div id="question-area" class="bg-stone-50 p-6 rounded-lg border border-stone-200 text-center">
                            <!-- Question text will be injected here -->
                        </div>
                        <div id="options-container" class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6">
                            <!-- Options will be injected here -->
                        </div>
                        <div id="feedback-container" class="mt-4 p-4 rounded-lg text-center hidden">
                            <p id="feedback-text" class="font-semibold"></p>
                            <p id="feedback-explanation" class="text-sm mt-1"></p>
                        </div>
                        <div class="text-center mt-6">
                            <button id="next-question-btn" class="hidden py-2 px-8 bg-sky-600 text-white font-semibold rounded-lg shadow-md hover:bg-sky-700 transition-colors">PrÃ³xima</button>
                        </div>
                    </div>
                    
                    <div id="score-container" class="hidden text-center py-8">
                        <h3 class="text-2xl font-bold text-sky-800">Quiz Finalizado!</h3>
                        <p id="score-text" class="text-lg mt-2"></p>
                        <div id="score-visual" class="w-full bg-stone-200 rounded-full h-4 my-4 overflow-hidden">
                            <div id="score-bar" class="bg-emerald-500 h-4 rounded-full transition-all duration-500"></div>
                        </div>
                        <button id="restart-quiz-btn" class="mt-6 py-2 px-8 bg-sky-600 text-white font-semibold rounded-lg shadow-md hover:bg-sky-700 transition-colors">Tentar Novamente</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const learnSection = document.getElementById('learn-section');
            const practiceSection = document.getElementById('practice-section');
            const btnLearn = document.getElementById('btn-learn');
            const btnPractice = document.getElementById('btn-practice');

            const accordionContainer = document.getElementById('accordion-container');
            const quizContainer = document.getElementById('quiz-container');
            const scoreContainer = document.getElementById('score-container');
            const questionProgress = document.getElementById('question-progress');
            const questionArea = document.getElementById('question-area'); 
            const optionsContainer = document.getElementById('options-container');
            const feedbackContainer = document.getElementById('feedback-container');
            const feedbackText = document.getElementById('feedback-text');
            const feedbackExplanation = document.getElementById('feedback-explanation');
            const nextQuestionBtn = document.getElementById('next-question-btn');
            const restartQuizBtn = document.getElementById('restart-quiz-btn');
            const scoreTextElement = document.getElementById('score-text');
            const scoreBar = document.getElementById('score-bar');

            const learnData = [
                {
                    title: '1. O que sÃ£o QuadrilÃ¡teros?',
                    content: 'QuadrilÃ¡teros sÃ£o polÃ­gonos que possuem <strong>quatro lados</strong>, <strong>quatro vÃ©rtices</strong> (os "cantos") e <strong>quatro Ã¢ngulos internos</strong>. A palavra "quadri" significa quatro e "lÃ¡tero" significa lado.<br><br>Uma propriedade fundamental de todo quadrilÃ¡tero convexo Ã© que a <strong>soma dos seus Ã¢ngulos internos Ã© sempre igual a 360Â°</strong>. Isso acontece porque podemos dividir qualquer quadrilÃ¡tero em dois triÃ¢ngulos traÃ§ando uma diagonal, e cada triÃ¢ngulo tem 180Â° na soma dos Ã¢ngulos internos (180Â° + 180Â° = 360Â°).'
                },
                {
                    title: '2. Paralelogramos: Propriedades Gerais',
                    content: 'Um paralelogramo Ã© um quadrilÃ¡tero que possui os <strong>lados opostos paralelos</strong>. A partir dessa definiÃ§Ã£o, surgem vÃ¡rias propriedades importantes:<br><ul><li><strong>Lados Opostos Congruentes (iguais):</strong> Os lados que estÃ£o um de frente para o outro tÃªm a mesma medida.</li><li><strong>Ã‚ngulos Opostos Congruentes (iguais):</strong> Os Ã¢ngulos que estÃ£o um de frente para o outro tÃªm a mesma medida.</li><li><strong>Ã‚ngulos Consecutivos Suplementares:</strong> Dois Ã¢ngulos seguidos (vizinhos) somam 180Â°.</li><li><strong>Diagonais se Cruzam no Ponto MÃ©dio:</strong> As duas diagonais se cortam exatamente na metade de cada uma.</li></ul><span class="example-diagram">Imagine um retÃ¢ngulo "inclinado". Ele ainda Ã© um paralelogramo!</span>'
                },
                {
                    title: '3. Losangos: Lados Iguais e Diagonais Perpendiculares',
                    content: 'O losango Ã© um tipo especial de paralelogramo que possui <strong>todos os quatro lados congruentes (iguais)</strong>.<br><br>AlÃ©m de todas as propriedades de um paralelogramo, o losango tem duas extras:<br><ul><li><strong>Diagonais Perpendiculares:</strong> As diagonais se cruzam formando Ã¢ngulos de 90Â°.</li><li><strong>Diagonais sÃ£o Bissetrizes dos Ã‚ngulos Internos:</strong> Cada diagonal divide os Ã¢ngulos dos vÃ©rtices por onde ela passa exatamente ao meio.</li></ul><span class="example-diagram">Pense na forma de uma pipa ou de um diamante de cartas de baralho.</span>'
                },
                {
                    title: '4. RetÃ¢ngulos: Quatro Ã‚ngulos Retos',
                    content: 'O retÃ¢ngulo Ã© um tipo especial de paralelogramo que possui os <strong>quatro Ã¢ngulos internos retos (iguais a 90Â°)</strong>.<br><br>AlÃ©m de todas as propriedades de um paralelogramo, o retÃ¢ngulo tem uma propriedade extra importante:<br><ul><li><strong>Diagonais Congruentes (iguais):</strong> As duas diagonais tÃªm a mesma medida.</li></ul><span class="example-diagram">Uma porta, uma janela, a tela do seu celular... sÃ£o exemplos de retÃ¢ngulos!</span>'
                },
                {
                    title: '5. Quadrados: O Mais "Perfeito" de Todos',
                    content: 'O quadrado Ã© um quadrilÃ¡tero super especial! Ele Ã©, ao mesmo tempo, um <strong>losango e um retÃ¢ngulo</strong>. Isso significa que ele possui:<br><ul><li><strong>Quatro lados congruentes (iguais)</strong> - propriedade do losango.</li><li><strong>Quatro Ã¢ngulos internos retos (90Â°)</strong> - propriedade do retÃ¢ngulo.</li></ul><br>Portanto, o quadrado herda TODAS as propriedades dos paralelogramos, dos losangos e dos retÃ¢ngulos!<br><ul><li>Lados opostos paralelos e iguais.</li><li>Ã‚ngulos opostos iguais (todos 90Â°).</li><li>Ã‚ngulos consecutivos suplementares (90Â°+90Â°=180Â°).</li><li>Diagonais se cruzam no ponto mÃ©dio.</li><li>Diagonais sÃ£o congruentes (iguais).</li><li>Diagonais sÃ£o perpendiculares.</li><li>Diagonais sÃ£o bissetrizes dos Ã¢ngulos internos.</li></ul>'
                },
                {
                    title: '6. TrapÃ©zios: Apenas um Par de Lados Paralelos',
                    content: 'O trapÃ©zio Ã© um quadrilÃ¡tero que possui <strong>apenas um par de lados opostos paralelos</strong>. Esses lados paralelos sÃ£o chamados de <strong>bases</strong> (base maior e base menor). Os outros dois lados sÃ£o chamados de lados nÃ£o paralelos ou oblÃ­quos.<br><br>Existem tipos especiais de trapÃ©zios:<br><ul><li><strong>TrapÃ©zio IsÃ³sceles:</strong> Os lados nÃ£o paralelos sÃ£o congruentes (iguais). Os Ã¢ngulos de cada base tambÃ©m sÃ£o congruentes entre si. As diagonais sÃ£o congruentes.</li><li><strong>TrapÃ©zio RetÃ¢ngulo:</strong> Possui dois Ã¢ngulos internos retos (90Â°), formados por um dos lados nÃ£o paralelos sendo perpendicular Ã s bases.</li><li><strong>TrapÃ©zio Escaleno:</strong> Os lados nÃ£o paralelos tÃªm medidas diferentes e os Ã¢ngulos das bases tambÃ©m sÃ£o diferentes.</li></ul>A soma dos Ã¢ngulos adjacentes a um mesmo lado nÃ£o paralelo Ã© sempre 180Â° (sÃ£o colaterais internos).'
                },
                {
                    title: '7. ResoluÃ§Ã£o de Problemas com QuadrilÃ¡teros',
                    content: 'Para resolver problemas envolvendo quadrilÃ¡teros, vocÃª usarÃ¡ as propriedades que aprendeu!<br><br><strong>Para calcular Ã¢ngulos desconhecidos:</strong><br><ul><li>Lembre-se que a soma dos quatro Ã¢ngulos internos Ã© sempre 360Â°.</li><li>Use as propriedades dos Ã¢ngulos opostos e consecutivos dos paralelogramos.</li><li>Lembre-se dos Ã¢ngulos de 90Â° em retÃ¢ngulos e quadrados.</li><li>Use as propriedades dos Ã¢ngulos das bases em trapÃ©zios isÃ³sceles.</li></ul><em>Exemplo: Em um paralelogramo, um Ã¢ngulo mede 70Â°. Quais sÃ£o os outros trÃªs? O oposto tambÃ©m Ã© 70Â°. Os outros dois sÃ£o (180Â°-70Â°) = 110Â° cada.</em><br><br><strong>Para calcular lados desconhecidos:</strong><br><ul><li>Lembre-se que lados opostos de paralelogramos sÃ£o iguais.</li><li>Todos os lados de losangos e quadrados sÃ£o iguais.</li><li>Use informaÃ§Ãµes dadas sobre perÃ­metros ou relaÃ§Ãµes entre os lados.</li></ul><em>Exemplo: Um lado de um losango mede 5 cm. Qual o perÃ­metro? 4 * 5 cm = 20 cm.</em>'
                }
            ];

            const quizData = [
                // Questions from previous version (images removed from data)
                { question: "Qual Ã© a soma dos Ã¢ngulos internos de qualquer quadrilÃ¡tero?", answer: "360Â°", options: ["180Â°", "270Â°", "360Â°", "540Â°"], explanation: "A soma dos Ã¢ngulos internos de todo quadrilÃ¡tero convexo Ã© sempre 360 graus." },
                { question: "Um paralelogramo tem um Ã¢ngulo medindo 80Â°. Qual a medida do seu Ã¢ngulo oposto?", answer: "80Â°", options: ["100Â°", "80Â°", "280Â°", "NÃ£o se pode determinar"], explanation: "Em um paralelogramo, os Ã¢ngulos opostos sÃ£o sempre congruentes (iguais)." },
                { question: "Se um lado de um losango mede 7 cm, qual o seu perÃ­metro?", answer: "28 cm", options: ["14 cm", "21 cm", "28 cm", "49 cm"], explanation: "Um losango tem todos os quatro lados iguais. PerÃ­metro = 4 * lado = 4 * 7 = 28 cm." },
                { question: "Qual propriedade Ã© exclusiva do retÃ¢ngulo (e nÃ£o de todos os paralelogramos)?", answer: "Diagonais congruentes (iguais)", options: ["Lados opostos paralelos", "Ã‚ngulos opostos iguais", "Diagonais congruentes (iguais)", "Diagonais se bissetam"], explanation: "Todos os paralelogramos tÃªm diagonais que se bissetam, mas apenas nos retÃ¢ngulos (e quadrados) elas sÃ£o sempre congruentes." },
                { question: "Um quadrado possui todas as propriedades de qual par de figuras?", answer: "Losango e RetÃ¢ngulo", options: ["TrapÃ©zio e Losango", "Losango e RetÃ¢ngulo", "Paralelogramo e TrapÃ©zio", "RetÃ¢ngulo e CÃ­rculo"], explanation: "O quadrado Ã© um tipo especial de losango (lados iguais) e tambÃ©m um tipo especial de retÃ¢ngulo (Ã¢ngulos retos)." },
                { question: "Em um trapÃ©zio isÃ³sceles, os Ã¢ngulos da base maior medem 70Â° cada. Se a base menor tem um Ã¢ngulo de 110Â°, qual o outro Ã¢ngulo da base menor?", answer: "110Â°", options: ["70Â°", "90Â°", "110Â°", "20Â°"], explanation: "Em um trapÃ©zio isÃ³sceles, os Ã¢ngulos de cada base sÃ£o congruentes. Assim, os dois Ã¢ngulos da base menor sÃ£o iguais." },
                { question: "TrÃªs Ã¢ngulos de um quadrilÃ¡tero medem 60Â°, 110Â° e 90Â°. Qual a medida do quarto Ã¢ngulo?", answer: "100Â°", options: ["80Â°", "90Â°", "100Â°", "120Â°"], explanation: "Soma total = 360Â°. Soma dos conhecidos = 60+110+90 = 260Â°. Quarto Ã¢ngulo = 360 - 260 = 100Â°." },
                { question: "As diagonais de um losango sÃ£o sempre:", answer: "Perpendiculares entre si", options: ["Congruentes (iguais)", "Paralelas aos lados", "Perpendiculares entre si", "Menores que os lados"], explanation: "Uma propriedade chave do losango Ã© que suas diagonais se cruzam formando Ã¢ngulos de 90Â° (sÃ£o perpendiculares)." },
                { question: "Um paralelogramo tem lados opostos medindo (x + 5) cm e 10 cm. Qual o valor de x?", answer: "5", options: ["3", "5", "10", "15"], explanation: "Lados opostos de um paralelogramo sÃ£o iguais. EntÃ£o x+5 = 10, logo x = 5." },
                { question: "Em um trapÃ©zio retÃ¢ngulo, quantos Ã¢ngulos retos ele possui?", answer: "Dois", options: ["Um", "Dois", "TrÃªs", "Quatro"], explanation: "Um trapÃ©zio retÃ¢ngulo possui exatamente dois Ã¢ngulos de 90Â°." },
                { question: "Se um Ã¢ngulo de um paralelogramo mede 115Â°, qual a medida de um Ã¢ngulo consecutivo (vizinho) a ele?", answer: "65Â°", options: ["115Â°", "75Â°", "65Â°", "245Â°"], explanation: "Ã‚ngulos consecutivos em um paralelogramo sÃ£o suplementares (somam 180Â°). 180Â° - 115Â° = 65Â°." },
                { question: "Qual quadrilÃ¡tero tem lados opostos paralelos e todos os Ã¢ngulos internos retos?", answer: "RetÃ¢ngulo", options: ["Losango", "TrapÃ©zio", "RetÃ¢ngulo", "Paralelogramo qualquer"], explanation: "Essa Ã© a definiÃ§Ã£o de um retÃ¢ngulo (que tambÃ©m Ã© um paralelogramo)." },
                { question: "Um quadrilÃ¡tero tem Ã¢ngulos expressos por x, 2x, 3x e 4x. Qual o valor de x?", answer: "36Â°", options: ["30Â°", "36Â°", "40Â°", "45Â°"], explanation: "A soma Ã© x + 2x + 3x + 4x = 360Â°. EntÃ£o 10x = 360Â°. Logo, x = 36Â°." },
                { question: "As diagonais de um quadrado formam que tipo de Ã¢ngulo ao se cruzarem?", answer: "90Â° (Reto)", options: ["Agudo (<90Â°)", "90Â° (Reto)", "Obtuso (>90Â°)", "Raso (180Â°)"], explanation: "O quadrado Ã© um losango, e as diagonais do losango sÃ£o perpendiculares, formando Ã¢ngulos de 90Â°." },
                { question: "Um trapÃ©zio tem bases medindo 10cm e 16cm. A medida da sua base mÃ©dia Ã©:", answer: "13 cm", options: ["10 cm", "16 cm", "26 cm", "13 cm"], explanation: "A base mÃ©dia de um trapÃ©zio Ã© a mÃ©dia aritmÃ©tica das bases: (10+16)/2 = 26/2 = 13 cm." },
                { question: "Qual Ã© o nome do quadrilÃ¡tero que tem todos os lados iguais e todos os Ã¢ngulos retos?", answer: "Quadrado", options: ["RetÃ¢ngulo", "Losango", "Quadrado", "TrapÃ©zio"], explanation: "O quadrado combina as propriedades de ter lados iguais (losango) e Ã¢ngulos retos (retÃ¢ngulo)." },
                { question: "Um dos Ã¢ngulos internos de um losango mede 120Â°. Qual a medida do Ã¢ngulo oposto a ele?", answer: "120Â°", options: ["60Â°", "90Â°", "120Â°", "NÃ£o Ã© possÃ­vel saber"], explanation: "Em um losango (que Ã© um paralelogramo), Ã¢ngulos opostos sÃ£o iguais." },
                { question: "Se as diagonais de um paralelogramo sÃ£o congruentes (iguais), podemos afirmar que ele Ã© um:", answer: "RetÃ¢ngulo (ou Quadrado)", options: ["Losango", "RetÃ¢ngulo (ou Quadrado)", "TrapÃ©zio", "Paralelogramo qualquer"], explanation: "A propriedade de diagonais congruentes Ã© especÃ­fica dos retÃ¢ngulos e, consequentemente, dos quadrados." },
                { question: "Um lado de um retÃ¢ngulo mede 8 cm e seu perÃ­metro Ã© 28 cm. Qual a medida do outro lado?", answer: "6 cm", options: ["6 cm", "8 cm", "10 cm", "14 cm"], explanation: "PerÃ­metro = 2*(lado1 + lado2).  28 = 2*(8 + lado2) => 14 = 8 + lado2 => lado2 = 6 cm." },
                { question: "Qual tipo de trapÃ©zio possui os lados nÃ£o paralelos congruentes (iguais)?", answer: "TrapÃ©zio IsÃ³sceles", options: ["TrapÃ©zio RetÃ¢ngulo", "TrapÃ©zio Escaleno", "TrapÃ©zio IsÃ³sceles", "Nenhum trapÃ©zio"], explanation: "Essa Ã© a definiÃ§Ã£o do trapÃ©zio isÃ³sceles." },
                { question: "Os Ã¢ngulos de um quadrilÃ¡tero sÃ£o x, x+10Â°, x+20Â° e x+30Â°. Qual o valor de x?", answer: "75Â°", options: ["60Â°", "70Â°", "75Â°", "80Â°"], explanation: "Soma: x + (x+10) + (x+20) + (x+30) = 360 => 4x + 60 = 360 => 4x = 300 => x = 75Â°." },
                { question: "Em um losango, uma diagonal mede 6 cm e a outra mede 8 cm. As diagonais se cruzam formando um Ã¢ngulo de:", answer: "90Â°", options: ["45Â°", "60Â°", "90Â°", "Depende dos lados"], explanation: "As diagonais de um losango sÃ£o sempre perpendiculares." },
                { question: "Um paralelogramo tem um lado medindo 2y - 3 e o lado oposto medindo 15. Qual o valor de y?", answer: "9", options: ["6", "7.5", "9", "12"], explanation: "Lados opostos sÃ£o iguais: 2y - 3 = 15 => 2y = 18 => y = 9." },
                { question: "Um trapÃ©zio tem Ã¢ngulos da base maior medindo 65Â° e 75Â°. Este trapÃ©zio pode ser classificado como:", answer: "Escaleno (ou nenhum dos outros)", options: ["IsÃ³sceles", "RetÃ¢ngulo", "Escaleno (ou nenhum dos outros)", "Quadrado"], explanation: "Se os Ã¢ngulos da base sÃ£o diferentes, ele nÃ£o Ã© isÃ³sceles nem retÃ¢ngulo (a menos que os outros sejam 90Â°). Portanto, Ã© escaleno ou um tipo genÃ©rico." },
                { question: "A diagonal de um retÃ¢ngulo o divide em dois triÃ¢ngulos:", answer: "Congruentes (iguais)", options: ["EquilÃ¡teros", "IsÃ³sceles, nÃ£o congruentes", "Congruentes (iguais)", "Escalenos diferentes"], explanation: "A diagonal de um retÃ¢ngulo forma dois triÃ¢ngulos retÃ¢ngulos congruentes." },
                { question: "Se os quatro Ã¢ngulos de um paralelogramo sÃ£o iguais, ele Ã© um:", answer: "RetÃ¢ngulo (ou Quadrado)", options: ["Losango", "TrapÃ©zio", "RetÃ¢ngulo (ou Quadrado)", "Paralelogramo qualquer"], explanation: "Se os 4 Ã¢ngulos sÃ£o iguais e somam 360Â°, cada um Ã© 90Â°. Isso define um retÃ¢ngulo (ou um quadrado, que Ã© um tipo de retÃ¢ngulo)." },
                { question: "Um quadrilÃ¡tero tem Ã¢ngulos 90Â°, 90Â°, y e y+20Â°. Qual o valor de y?", answer: "80Â°", options: ["70Â°", "80Â°", "90Â°", "100Â°"], explanation: "90 + 90 + y + y + 20 = 360 => 200 + 2y = 360 => 2y = 160 => y = 80Â°." },
                { question: "O perÃ­metro de um quadrado Ã© 32 cm. Qual a medida de seu lado?", answer: "8 cm", options: ["4 cm", "8 cm", "16 cm", "32 cm"], explanation: "PerÃ­metro do quadrado = 4 * lado.  32 = 4 * lado => lado = 8 cm." },
                { question: "Em qual destes quadrilÃ¡teros as diagonais NÃƒO sÃ£o necessariamente congruentes?", answer: "Losango", options: ["Quadrado", "RetÃ¢ngulo", "Losango", "TrapÃ©zio IsÃ³sceles"], explanation: "As diagonais do losango sÃ³ sÃ£o congruentes se ele tambÃ©m for um quadrado. Em um losango 'achatado', elas tÃªm tamanhos diferentes." },
                { question: "Um trapÃ©zio tem base maior 20cm, base menor 12cm e altura 5cm. A base mÃ©dia mede:", answer: "16 cm", options: ["12 cm", "15 cm", "16 cm", "20 cm"], explanation: "Base mÃ©dia = (Base maior + Base menor) / 2 = (20 + 12) / 2 = 32 / 2 = 16 cm. A altura nÃ£o Ã© usada para calcular a base mÃ©dia." }
            ];
            
            let currentQuestionIndex = 0;
            let score = 0;
            let shuffledQuizData = [];

            let lastAnswerWasCorrect = false;

            function switchView(view) {
                if (view === 'learn') {
                    learnSection.classList.remove('hidden');
                    practiceSection.classList.add('hidden');
                    btnLearn.classList.add('active');
                    btnPractice.classList.remove('active');
                } else {
                    learnSection.classList.add('hidden');
                    practiceSection.classList.remove('hidden');
                    btnLearn.classList.remove('active');
                    btnPractice.classList.add('active');
                    startQuiz();
                }
            }

            btnLearn.addEventListener('click', () => switchView('learn'));
            btnPractice.addEventListener('click', () => switchView('practice'));

            function createAccordion() {
                accordionContainer.innerHTML = '';
                learnData.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'border border-stone-200 rounded-lg';
                    div.innerHTML = `
                        <button class="accordion-button w-full p-4 text-left font-semibold text-lg flex justify-between items-center hover:bg-stone-50 transition-colors">
                            <span>${item.title}</span>
                            <span class="transform transition-transform duration-300 text-sky-600">&#9662;</span>
                        </button>
                        <div class="accordion-content">
                            <div class="p-4 border-t border-stone-200 text-slate-700 prose max-w-none content-text">
                                ${item.content}
                            </div>
                        </div>
                    `;
                    accordionContainer.appendChild(div);
                });

                document.querySelectorAll('.accordion-button').forEach(button => {
                    button.addEventListener('click', () => {
                        const icon = button.querySelector('span:last-child');
                        const isOpen = button.classList.toggle('open');
                        icon.style.transform = isOpen ? 'rotate(180deg)' : 'rotate(0deg)';
                        if (isOpen) {
                            document.querySelectorAll('.accordion-button.open').forEach(openButton => {
                                if (openButton !== button) {
                                    openButton.classList.remove('open');
                                    openButton.querySelector('span:last-child').style.transform = 'rotate(0deg)';
                                }
                            });
                        }
                    });
                });
            }

            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            function startQuiz() {
                currentQuestionIndex = 0;
                score = 0;
                shuffledQuizData = shuffleArray([...quizData]);
                quizContainer.classList.remove('hidden');
                scoreContainer.classList.add('hidden');
                showQuestion();
            }

            function showQuestion() {
                feedbackContainer.classList.add('hidden');
                nextQuestionBtn.classList.add('hidden');

                const questionData = shuffledQuizData[currentQuestionIndex];
                questionProgress.textContent = `QuestÃ£o ${currentQuestionIndex + 1} de ${shuffledQuizData.length}`;
                
                // Removed image display logic
                questionArea.innerHTML = `<p class="quiz-question-text">${questionData.question}</p>`;

                optionsContainer.innerHTML = '';
                let currentOptions = shuffleArray([...questionData.options]); 

                currentOptions.forEach(option => {
                    const button = document.createElement('button');
                    button.innerHTML = option; 
                    button.className = "quiz-option w-full p-3 border-2 border-stone-300 rounded-lg hover:bg-stone-200 transition-colors";
                    button.addEventListener('click', () => selectAnswer(option, questionData.answer, questionData.explanation));
                    optionsContainer.appendChild(button);
                });
            }

            function selectAnswer(selectedOption, correctAnswer, explanation) {
                const buttons = optionsContainer.querySelectorAll('button');
                let isCorrect = selectedOption === correctAnswer;
                lastAnswerWasCorrect = isCorrect;

                if (isCorrect) {
                    score++;
                    feedbackText.textContent = 'ðŸŽ‰ Correto!';
                    feedbackContainer.className = 'mt-4 p-4 rounded-lg text-center bg-emerald-100 border border-emerald-200 text-emerald-800';
                } else {
                    feedbackText.textContent = 'ðŸ¤” Incorreto! Esta pergunta aparecerÃ¡ novamente.';
                    feedbackContainer.className = 'mt-4 p-4 rounded-lg text-center bg-red-100 border border-red-200 text-red-800';
                }

                feedbackExplanation.innerHTML = `<strong>ExplicaÃ§Ã£o:</strong> ${explanation}`;
                feedbackContainer.classList.remove('hidden');

                buttons.forEach(button => {
                    button.disabled = true;
                    if (button.innerHTML === correctAnswer) { 
                        button.classList.add('correct-answer');
                    } else if (button.innerHTML === selectedOption && !isCorrect) {
                        button.classList.add('wrong-answer');
                    }
                });

                nextQuestionBtn.classList.remove('hidden');
            }

            function showScore() {
                quizContainer.classList.add('hidden');
                scoreContainer.classList.remove('hidden');
                scoreTextElement.textContent = `VocÃª acertou ${score} de ${shuffledQuizData.length} questÃµes!`;
                const percentage = (shuffledQuizData.length > 0) ? (score / shuffledQuizData.length) * 100 : 0;
                scoreBar.style.width = `${percentage}%`;
            }

            nextQuestionBtn.addEventListener('click', () => {
                if (lastAnswerWasCorrect) {
                    currentQuestionIndex++;
                } else {
                    // Move a questÃ£o errada para o final da fila
                    const wrongQuestion = shuffledQuizData.splice(currentQuestionIndex, 1)[0];
                    shuffledQuizData.push(wrongQuestion);
                    // NÃ£o avanÃ§a o Ã­ndice, pois a prÃ³xima questÃ£o agora estÃ¡ na mesma posiÃ§Ã£o
                }

                if (currentQuestionIndex < shuffledQuizData.length) {
                    showQuestion();
                } else {
                    showScore();
                }
            });
            
            restartQuizBtn.addEventListener('click', startQuiz);

            createAccordion();
            switchView('learn');
        });
    </script>
</body>
</html>
